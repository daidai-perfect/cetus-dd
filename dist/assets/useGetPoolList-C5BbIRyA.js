import{G as R,d as L,L as h,a1 as w,x as T,u as v,S as D,p as O,cm as A}from"./index-CsPKGWlY.js";import"./vendor-BFGDaAdA.js";import{u as B}from"./useWrapPoolData-CupRl2Mj.js";const p={100:2,500:10,1e3:20,2500:60,1e4:200,2e4:220,2e3:60,10:1},y=Object.values(p),j={"0x3f40c8bbb1c986a513373c9229bdccfe36d3d030f86d5207833b03859e48a3a9":"2500","0xe01243f37f712ef87e556afb9b1d03d0fae13f96d324ec912daffc339dfdcbd2":"2500"},G=["0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC","0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_usdc_coin::CELER_USDC_COIN","0xcf72ec52c0f8ddead746252481fb44ff6e8485a39b803825bde6b00d77cdb0bb::coin::COIN","0xe32d3ebafa42e6011b87ef1087bbc6053b499bf6f095807b9013aff5a6ecd7bb::coin::COIN","0xc3f8927de33d3deb52c282a836082a413bc73c6ee0bd4d7ec7e3b6b4c28e9abf::coin::COIN","0x909cba62ce96d54de25bec9502de5ca7b4f28901747bbf96b76c2e63ec5f1cba::coin::COIN","0xb231fcda8bbddb31f2ef02e6161444aec64a514e2c89279584ac9806ce9cf037::coin::COIN","0xc060006111016b8a020ad5b33834984a437aaa7d3c74c18e09a95d48aceab08c::coin::COIN","0x2053d08c1e2bd02791056171aab0fd12bd7cd7efad2ab8f6b9c8902f14df2ff2::ausd::AUSD","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_usdt_coin::CELER_USDT_COIN","0xf16e6b723f242ec745dfd7634ad072c42d5c1d9ac9d62a39c381303eaa57693a::fdusd::FDUSD","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_dai_coin::CELER_DAI_COIN","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_wsteth_coin::CELER_WSTETH_COIN","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_frax_coin::CELER_FRAX_COIN","0xce7ff77a83ea0cb6fd39bd8748e2ec89a3f41e8efdc3f4eb123e0ca37b184db2::buck::BUCK","0x2::sui::SUI","0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI","0x7016aae72cfc67f2fadf55769c0a7dd54291a583b63051a5ed71081cce836ac6::sca::SCA","0x5ca17430c1d046fae9edeaa8fd76c7b4193a00d764a0ecfa9418d733ad27bc1e::scallop_sca::SCALLOP_SCA","0xaf8cd5edc19c4512f4259f0bee101a40d41ebed738ade5874359610ef8eeced5::coin::COIN","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_weth_coin::CELER_WETH_COIN","0xf325ce1300e8dac124071d3152c5c5ee6174914f8bc2161e88329cf579246efc::afsui::AFSUI","0x549e8b69270defbfafd4f94e17ec44cdbdd99820b33bda2278dea3b9a32d3f55::cert::CERT","0x027792d9fed7f9844eb4839566001bb6f6cb4804f66aa2da6fe1ee242d896881::coin::COIN","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_wbtc_coin::CELER_WBTC_COIN","0xb7844e289a8410e50fb3ca48d69eb9cf29e27d223ef90353fe1bd8e27ff8f3f8::coin::COIN","0xb848cce11ef3a8f62eccea6eb5b35a12c4c2b1ee1af7755d02d7bd6218e8226f::coin::COIN","0xdbe380b13a6d0f5cdedd58de8f04625263f113b3f9db32b3e1983f49e2841676::coin::COIN","0x1e8b532cca6569cab9f9b9ebc73f8c13885012ade714729aa3b450e0339ac766::coin::COIN","0x6081300950a4f1e2081580e919c210436a1bed49080502834950d31ee55a2396::coin::COIN","0xa198f3be41cda8c07b3bf3fee02263526e535d682499806979a111e88a5a8d0f::coin::COIN","0x66f87084e49c38f76502d17f87d17f943f183bb94117561eb573e075fdc5ff75::coin::COIN","0x06864a6f921804860930db6ddbe2e16acdf8504495ea7481637a1c8b9a8fe54b::cetus::CETUS","0xbde4ba4c2e274a60ce15c1cfff9e5c42e41654ac8b6d906a57efa4bd3c29f47d::hasui::HASUI","0xe4239cd951f6c53d9c41e25270d80d31f925ad1655e5ba5b543843d4a66975ee::SUIP::SUIP","0x1d58e26e85fbf9ee8596872686da75544342487f95b1773be3c9a49ab1061b19::suia_token::SUIA_TOKEN","0x3a5143bb1196e3bcdfab6203d1683ae29edd26294fc8bfeafe4aaa9d2704df37::coin::COIN","0x202591744d54ee4f4af736ef3b8508f3d46d982c36747d9587032bd549122179::luck::LUCK","0xd2013e206f7983f06132d5b61f7c577638ff63171221f4f600a98863febdfb47::toce::TOCE","0x934692a74595c4f5a0c026130eb2143eea6fc313742f5d7dd9e45fd6ddbb00f1::suime::SUIME","0x94e7a8e71830d2b34b3edaa195dc24c45d142584f06fa257b73af753d766e690::celer_fxs_coin::CELER_FXS_COIN","0x6907963ca849faff0957b9a8269a7a07065e3def2eef49cc33b50ab946ea5a9f::coin::COIN","0x361dd589b98e8fcda9a7ee53b85efabef3569d00416640d2faa516e3801d7ffc::TOKEN::TOKEN","0x9a7ca7b6de5b6e9a4dadec42fada7cd84068aebd7adbd1faeb713622c4628ca9::meadow::MEADOW","0x32d5056aaac1be1f9ae44c1d0728792255a05f1475d458287ee463cc26806ca0::mover_usd::MOVER_USD","0x9fe1780ac27ec50c9c441fb31822f5c148f841f09ee455c6a0daf7c634a30a27::aifrens::AIFRENS","0xbff8dc60d3f714f678cd4490ff08cabbea95d308c6de47a150c79cc875e0c7c6::sbox::SBOX","0x9a5502414b5d51d01c8b5641db7436d789fa15a245694b24aa37c25c2a6ce001::scb::SCB","0x4e56b39acd75721999cf833062dfb77b1d51e749b02d90f049a5688e21919a64::prl::PRL","0x76cb819b01abed502bee8a702b4c2d547532c12f25001c9dea795a5e631c26f1::fud::FUD","0xc44d97a4bc4e5a33ca847b72b123172c88a6328196b71414f32c3070233604b2::slp::SLP","0x8f16fb4ed30b4ff29cec3ddf82ed2ecae3836d20dbd31c8ba9e85d1ef6bfc172::sbbg::SBBG","0xb6baa75577e4bbffba70207651824606e51d38ae23aa94fb9fb700e0ecf50064::kimchi::KIMCHI","0x9c6d76eb273e6b5ba2ec8d708b7fa336a5531f6be59f326b5be8d4d8b12348a4::coin::COIN"];function W(o,t){const l=G.indexOf(o),i=G.indexOf(t);return l===-1&&i===-1?!0:l!==-1&&i===-1?!1:l===-1&&i!==-1?!0:l>i}const H=(o,t,l,i)=>{if(i)return{percentA:"50",percentB:"50"};if(L(o).eq(0)&&L(t).eq(0))return{percentA:"0",percentB:"0"};const _=L(t).plus(L(o).mul(l)),C=L(t).div(_).mul(100),g=L(100).sub(C),e=g.lt(.01)&&g.gt(0)?"<0.01":h(g.toString(),2),a=C.lt(.01)&&C.gt(0)?"<0.01":h(C.toString(),2);return{percentA:e,percentB:a}},M=o=>{var i;if(!o)return"";const t=o==null?void 0:o.split(",");return(i=t==null?void 0:t.map(_=>R(_,!1)))==null?void 0:i.join(",")},k=o=>o==="0"||!o?"âˆž":o==="âˆž"?"0":L(1).div(o).toString(),J=o=>o==="âˆž"?"âˆž":T(o,6),X=o=>J(k(o)),U=(o,t)=>{for(let l=0;l<y.length;l++){const i=y[l];if(t==="min"){if(o==w.getMinIndex(i))return!0}else if(o==w.getMaxIndex(i))return!0}return!1},q=(o,t)=>{const l=U(o,"min"),i=U(t,"max");return!!(l&&i)};function z(){const{fetchByApi:o}=v(),{wrapPoolDataV2:t}=B(),l=e=>{console.log("ðŸš€ðŸš€ðŸš€ ~ useGetPoolList.ts:26 ~ wrapGetPoolParams ~ params:",e);const a={filter:"verified",sortBy:"vol",sortOrder:"asc",limit:20,offset:0,coinTypes:[]},{display_all_pools:b,has_mining:u,has_farming:x,no_incentives:d,order_by:f,limit:r,offset:s,coin_type:P,pools:c,pool:n}=e;if(x&&(a.filter="farming"),b&&(a.filter="all"),!b&&u&&x&&!d&&(a.filter="incentivized"),!b&&u&&x&&d&&(a.filter="verified"),b&&u&&x&&!d&&(a.filter="incentivized"),f){const I=f.replace("-","").toLowerCase();a.sortBy=I=="fees"?"fee":I=="totalapr"?"totalApr":I}return f&&(f==null?void 0:f.indexOf("-"))>-1&&(a.sortOrder="desc"),r&&(a.limit=r),s&&(a.offset=s),P&&(a.coinTypes=P.split(",")),c&&(a.pools=c),n&&(a.pools=[n]),a},i=async e=>{var a,b,u,x;try{const d={...e},f=M(e==null?void 0:e.coin_type);f&&(d.coin_type=f);const r=l(d);console.log("ðŸš€ðŸš€ðŸš€ ~ useGetPoolList.ts:89 ~ useGetPoolList ~ warapApiParams:",r);const s=await o(D,"POST",r);if(console.log("ðŸš€ðŸš€ðŸš€ ~ useGetPoolList.ts:41 ~ useGetPoolList ~ res:",s),(a=s==null?void 0:s.data)!=null&&a.list){const P=(u=(b=s==null?void 0:s.data)==null?void 0:b.list)==null?void 0:u.map(c=>t(c));return console.log("ðŸš€ ~ file: useGetPoolList.ts:42 ~ poolList ~ poolList:",P),{list:P,total:(x=s==null?void 0:s.data)==null?void 0:x.total}}}catch(d){return console.log("ðŸš€ ~ useGetPoolList ~ error:",d),await _(e)}return{list:[],total:0}},_=async e=>{var a,b,u,x;console.log("ðŸš€ðŸš€ðŸš€ ~ useGetPoolList.ts:136 ~ useGetPoolList ~ params:",e);try{const d=await fetch("/data/pools.json",{cache:"no-cache"}).then(f=>f.json());if(console.log(d,"getLocalJsonPoolList"),(a=d==null?void 0:d.data)!=null&&a.list){const f=(b=d==null?void 0:d.data)==null?void 0:b.list;let r=f;if(e!=null&&e.pools&&(r=f==null?void 0:f.filter(c=>{var n;return(e==null?void 0:e.pools)&&((n=e==null?void 0:e.pools[0])==null?void 0:n.toLocaleLowerCase())==(c==null?void 0:c.pool.toLocaleLowerCase())})),console.log("ðŸš€ðŸš€ðŸš€ ~ useGetPoolList.ts:151 ~ useGetPoolList ~ list:",r),console.log("ðŸš€ðŸš€ðŸš€ ~ useGetPoolList.ts:151 ~ useGetPoolList ~ originList:",f),e!=null&&e.coin_type){const c=(x=(u=e==null?void 0:e.coin_type)==null?void 0:u.split(","))==null?void 0:x.map(n=>O(n).source_address);r=f==null?void 0:f.filter(n=>{var N,E;const I=O((N=n==null?void 0:n.coinA)==null?void 0:N.coinType).source_address,S=O((E=n==null?void 0:n.coinB)==null?void 0:E.coinType).source_address;return(c==null?void 0:c.length)>1&&c.includes(I)&&c.includes(S)?!0:!!((c==null?void 0:c.length)===1&&(c.includes(I)||c.includes(S)))})}e!=null&&e.is_vaults&&(r=f==null?void 0:f.filter(c=>c==null?void 0:c.is_vaults)),e!=null&&e.has_farming&&!(e!=null&&e.is_vaults)&&!(e!=null&&e.has_mining)&&!(e!=null&&e.no_incentives)&&(r=f==null?void 0:f.filter(c=>{var n;return(c==null?void 0:c.farmingRewarder)&&((n=c==null?void 0:c.farmingRewarder)==null?void 0:n.clmmPool)}));const s=JSON.parse(JSON.stringify(r)).splice(0,40);return{list:s==null?void 0:s.map(c=>t(c,!0)),total:(r==null?void 0:r.length)||0,isLocal:!0}}}catch(d){console.error("getLocalJsonPoolList Error:",d)}return{list:[],total:0,isLocal:!1}},C=e=>A(e)==="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":A(e);return{getPoolList:i,getLocalJsonPoolList:_,getLocalJsonPoolAddress:async(e,a)=>{try{const b=C(e),u=C(a),x=await fetch("/data/all-pools.json").then(d=>d.json());if(x){const d=x[`${b.toLocaleLowerCase()}-${u.toLocaleLowerCase()}`]||x[`${u.toLocaleLowerCase()}-${b.toLocaleLowerCase()}`];return console.log("ðŸš€ --------------------------------------------------ðŸš€"),console.log("ðŸš€ ~ getLocalJsonPoolAddress ~ poolList:",d,`${b.toLocaleLowerCase()}-${u.toLocaleLowerCase()}`,`${u.toLocaleLowerCase()}-${b.toLocaleLowerCase()}`),console.log("ðŸš€ --------------------------------------------------ðŸš€"),d}}catch(b){console.error("getLocalJsonPoolAddress Error:",b)}return[]},wrapGetPoolParams:l}}export{j as C,p as T,X as a,k as b,H as c,q as d,W as e,U as f,J as g,z as u};
//# sourceMappingURL=useGetPoolList-C5BbIRyA.js.map
