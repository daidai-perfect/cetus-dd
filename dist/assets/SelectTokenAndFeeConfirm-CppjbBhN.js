import{u as R}from"./useToken-DDjE5wHP.js";import{ak as B,al as H,q as D,L as W,S as Q,O as I,I as P}from"./index-fbeVIhEM.js";import{a as f,D as O,j as t,P as v,h as G,f as F,H as w,S as L,u as N,V as h,T as a,m as V,n as $,ab as A,a8 as U,a7 as X,ad as Y,v as M,X as Z,Y as J,Z as K,a0 as k,a1 as q,a6 as T}from"./vendor-DYqnJE5Q.js";import{i as z}from"./index-CLeAvPox.js";import{E as tt}from"./ErrorTips-CCTMzmq7.js";import{a as st}from"./FeeTierSelect-CylbqiGs.js";import{P as ot}from"./index-Dq8GdRv_.js";function nt(o,s){return o>s}function it(o,s,c){for(var r=-1,n=o.length;++r<n;){var i=o[r],l=s(i);if(l!=null&&(x===void 0?l===l&&!B(l):c(l,x)))var x=l,p=i}return p}function et(o,s){return o&&o.length?it(o,H(s),nt):void 0}function ht(){const[o,s]=f.useState([]),{getTokenInfo:c}=R();f.useEffect(()=>{s(r())},[]);const r=()=>{const i=[];return D.create_pool_quote_coin_list.forEach(l=>{const x=c(l);x&&i.push(x)}),i};return{isWhiteQuoteToken:f.useCallback(i=>i?o.find(l=>W(l.coin_type)===W(i))!==void 0:!1,[o]),quoteWhiteTokenList:o}}function ft({baseToken:o,quoteToken:s,onBaseTokenChange:c,onQuoteTokenChange:r,feeTier:n,feeTierList:i,onFeeTierChange:l,title:x,description:p,onContinue:y,quoteWhiteTokenList:g,fromSource:S,wrapStyle:b={}}){var C;A(),f.useEffect(()=>{if(S==="addLiquidity"&&(i==null?void 0:i.length)>0){const e=et(i,m=>Number((m==null?void 0:m.tvl)||"0"));e&&l(e)}},[S,i]);const _=e=>{(e==null?void 0:e.coin_type)===(s==null?void 0:s.coin_type)&&r(void 0),c(e)},d=e=>{(e==null?void 0:e.coin_type)===(o==null?void 0:o.coin_type)&&c(void 0),r(e)},j=f.useMemo(()=>o&&s&&!z(o,g)&&!z(s,g),[o==null?void 0:o.coin_type,s==null?void 0:s.coin_type]);console.log("ðŸš€ðŸš€ðŸš€ ~ file: SelectPool.tsx:104 ~ quoteWhiteTokenList:",o,s,j,g);const u=f.useRef(null);return t.jsxs(h,{w:"100%",gap:{base:"16px",lg:"28px"},bg:"bg_fifth",borderRadius:"12px",p:{base:"16px 8px",lg:"24px"},...b,children:[t.jsxs(h,{gap:"8px",w:"100%",align:"flex-start",children:[t.jsx(U,{fontSize:"16px",fontWeight:"500",children:x}),t.jsx(a,{fontSize:"12px",fontWeight:"500",children:p})]}),t.jsxs(h,{w:"100%",gap:{base:"16px",lg:"32px"},children:[t.jsxs(X,{flexDir:{base:"column",lg:"row"},w:"100%",gap:"12px",justify:"space-between",children:[t.jsx(E,{title:"Base token",value:o,isWhiteSelect:!1,whiteTokenList:void 0,onChange:_}),t.jsx(E,{title:"Quote token",value:s,isWhiteSelect:!0,whiteTokenList:g,onChange:d})]}),t.jsxs(h,{w:"100%",align:"flex-start",gap:"16px",children:[t.jsxs(h,{w:"100%",align:"flex-start",gap:"8px",children:[t.jsx(a,{fontSize:"16px",fontWeight:"500",color:"text_caption",children:"Fee tier"}),t.jsx(a,{fontSize:"12px",fontWeight:"500",children:`The ${typeof n=="object"&&(n==null?void 0:n.feeDisplay)||"%"} you will earn in fees.`})]}),t.jsx(st,{value:n,onChange:e=>l(e),feeTierList:i,placement:"bottom",wrapStyle:{w:((C=u==null?void 0:u.current)==null?void 0:C.clientWidth)||"463px"},children:({isOpen:e,onClick:m})=>t.jsx(Y,{w:"100%",borderRadius:"12px",h:"48px",border:"1px solid",borderColor:"border",cursor:"pointer",onClick:m,bg:"bg_secondary",ref:u,children:t.jsxs(w,{w:"100%",justifyContent:"space-between",p:"9px 16px",children:[n?t.jsx(a,{color:"text_caption",fontSize:"16px",fontWeight:"500",children:`${typeof n=="object"&&(n==null?void 0:n.feeDisplay)}`}):t.jsx(a,{color:"text_caption",fontSize:"14px",fontWeight:"500",children:"Select fee tier"}),t.jsxs(w,{children:[t.jsx(a,{fontSize:"12px",children:typeof n=="object"&&(n==null?void 0:n.title)}),t.jsx(P,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:e?"rotate(180deg)":"rotate(0deg)"})]})]})})}),j&&t.jsx(tt,{isShowIcon:!1,p:"6px 16px",w:"100%",borderRadius:"8px",tipsLineHeight:"16px",tipsFontSize:"12px",tips:"To create a pool, one of the assets needs to be selected as the default token."})]}),t.jsx(M,{w:"100%",borderRadius:"12px",h:"48px",disabled:!o||!s||!n||(n==null?void 0:n.disabled)||j,onClick:()=>y({baseToken:o,quoteToken:s,feeTier:n}),children:"Continue"})]})]})}const E=({title:o,value:s,onChange:c,whiteTokenList:r,isWhiteSelect:n,disabled:i=!1,wrapStyle:l={},symbolStyle:x={},tokenSize:p="28px",tokenStyle:y={},loading:g=!1})=>{var j;const{isOpen:S,onOpen:b,onClose:_}=O(),d=f.useRef(null);return t.jsx(t.Fragment,{children:t.jsxs(v,{modifiers:[{name:"flip",enabled:!1},{name:"shift",enabled:!1}],initialFocusRef:d,isLazy:!0,isOpen:S,trigger:"click",onClose:_,onOpen:b,placement:"bottom-start",children:[t.jsx(G,{children:t.jsx(F,{w:"100%",as:"button",ref:d,disabled:i,children:g?t.jsxs(w,{children:[t.jsx(L,{w:p,h:p}),t.jsx(N,{h:x.fontSize||"16px"})]}):t.jsxs(h,{flex:"1",gap:"8px",align:"flex-start",children:[o&&t.jsx(a,{fontSize:"12px",fontWeight:"500",children:o}),t.jsxs(w,{h:"48px",w:"100%",justify:"space-between",p:"9px 16px",cursor:"pointer",onClick:b,borderRadius:"12px",border:"1px solid",borderColor:"border",bg:"bg_secondary",_hover:{svg:{fill:"text_caption"}},...l,children:[s?t.jsxs(w,{children:[t.jsx(Q,{imageUrl:s==null?void 0:s.logo_url,w:p,h:p,coinType:s==null?void 0:s.coin_type,...y}),t.jsx(a,{color:"text_caption",fontSize:"16px",fontWeight:"600",whiteSpace:"nowrap",...x,children:I(s==null?void 0:s.symbol)})]}):t.jsx(a,{color:"text_caption",fontSize:"14px",fontWeight:"500",whiteSpace:"nowrap",children:"Select token"}),t.jsx(P,{xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:S?"rotate(180deg)":"rotate(0deg)"})]})]})})}),t.jsx(V,{w:((j=d==null?void 0:d.current)==null?void 0:j.clientWidth)||"224px",minW:"224px",children:t.jsx($,{p:"0",children:t.jsx(ot,{selectTokenList:s?[s]:[],onClickToken:u=>{c(u),_()},whiteTokenList:r,hideCheckbox:!0})})})]})})};function gt({title:o,subTitle:s,btnText:c,isOpen:r,onClose:n,onConfirm:i}){return t.jsxs(Z,{autoFocus:!1,returnFocusOnClose:!1,isOpen:r,onClose:n,isCentered:!0,children:[t.jsx(J,{}),t.jsxs(K,{children:[t.jsx(k,{}),t.jsx(q,{p:"20px 16px",children:t.jsxs(h,{children:[t.jsx(F,{w:"200px",h:"200px",bg:"url('/images/img_create_pool.png')"}),t.jsx(a,{h:"20px",lineHeight:"20px",fontSize:"14px",color:"text_caption",fontWeight:"500",children:o}),s&&t.jsx(a,{fontSize:"14px",children:s})]})}),t.jsx(T,{p:"0 16px 16px",children:t.jsx(M,{w:"100%",h:"40px",borderRadius:"12px",colorScheme:"blue",fontSize:"16px",fontWeight:"500",onClick:()=>{n(),i()},children:c})})]})]})}export{E as S,gt as a,ft as b,et as m,ht as u};
//# sourceMappingURL=SelectTokenAndFeeConfirm-CppjbBhN.js.map
