const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CarBQFSQ.js","assets/AddressCopyLink-2PG_SPpM.js","assets/index-h7HDbFj0.js","assets/index-CteIxbgC.css","assets/AddressUnderline-BzcTN7nM.js","assets/FeeTierSelect-CTGgdBVz.js","assets/useDocumentSize-BDC1VghN.js","assets/debounce-BgIUApz1.js","assets/index-Dwly19Ga.js","assets/CetusTooltip-Dg9XQGmJ.js","assets/CurrentPrice-CpYvi3BQ.js","assets/HighlightText-Bh1I90ok.js","assets/IconBg-C9zO2Bcv.js","assets/InputBox-Bob9vIns.js","assets/Loading-Bu_L-qbx.js","assets/SwapConfirmBlock-CbW6OJAR.js","assets/aggregator-B3Q0qkRi.js","assets/useFindBestRouting-CswSL8IF.js","assets/useToken-BVO3EfKh.js","assets/global-C804HKHx.js","assets/useGetPoolList-BLYhZPvn.js","assets/api-data-utils-D9G5Kdun.js","assets/useAccountBalance-BMtBRCNn.js","assets/useTokenBalance-C9LgDEr3.js","assets/useTransaction-DAhGymT_.js","assets/index--R3kJf9f.js","assets/HTextLabelBox-B1R4mcC3.js","assets/TradeConfirmAmountInfo-CE5X0NyU.js","assets/TradeInputGroup-Di0ZIVwW.js","assets/_getAllKeysIn-CO77rUXR.js","assets/index-DWqJYrWW.js","assets/SingleTokenInfo-CIQH8Jwy.js","assets/TooltipIcon-D_u6DOp-.js","assets/Ratio-BKj3DZ8w.js","assets/Slippage-6CijxAgf.js","assets/switch-BTovKqi3.js","assets/SortDropBlock-B4BFZIpA.js","assets/TableSortTh-ChDUeuH9.js","assets/WarningTokenTipModal-BCgP0HHm.js","assets/ConnectButton-D3qFyg_v.js","assets/NoData-CdaXXl9F.js","assets/TokenGoplusCard-BMrH6seT.js","assets/useQueryParams-Dzcbo7RY.js","assets/index-BU5O_s24.js","assets/RefreshButton-D5xbpUb9.js"])))=>i.map(i=>d[i]);
import{K as Ct,b$ as jt,c0 as kt,j as n,c1 as Dt,Q as Tt,bF as He,aa as de,aY as Mt,c2 as Rt,aI as Wt,R as Pt,a1 as Ne,c3 as Je,r as c,c4 as Ot,c5 as Et,c6 as It,c7 as Ae,c8 as Ht,c9 as Nt,ca as $e,cb as Bt,ae as Ft,af as Lt,ag as zt,ak as At,ao as G,V as M,T as j,H as I,I as R,$ as ie,a as Ze,cc as be,B as C,bs as $t,bt as Vt,C as Be,ay as qe,bu as Xt,bv as me,ar as ce,c as Yt,aL as Ut,cd as Gt,ce as Kt,cf as Qt,aZ as Jt,ap as et,aq as tt,at as nt,cg as Zt,au as qt,ch as Ve,ci as en,a_ as ot,cj as tn,b as Ce,ck as nn,bc as on,U as st,bK as sn,cl as rn,cm as it,bJ as an,Y as ln,a7 as cn,e as pn,l as Xe,cn as Ye,W as q,co as dn,d as un,cp as rt,cq as fn,cr as Ue,cs as gn,ct as xn,a5 as hn,cu as mn,cv as bn,cw as Sn,_ as Se}from"./index-h7HDbFj0.js";import{a as wn}from"./useDocumentSize-BDC1VghN.js";import{C as vn}from"./ConnectButton-D3qFyg_v.js";import{u as yn}from"./useQueryParams-Dzcbo7RY.js";import{p as at}from"./index-BU5O_s24.js";import{S as F,a as _n}from"./useFindBestRouting-CswSL8IF.js";import{u as Cn,a as jn,S as kn,P as Dn,b as Tn,c as Mn,O as Rn,H as Wn}from"./SwapConfirmBlock-CbW6OJAR.js";import{H as Pn}from"./HTextLabelBox-B1R4mcC3.js";import{R as On}from"./RefreshButton-D5xbpUb9.js";import{u as En}from"./useAccountBalance-BMtBRCNn.js";import{T as In}from"./TradeInputGroup-Di0ZIVwW.js";import{S as Hn,u as Nn,a as Bn}from"./Slippage-6CijxAgf.js";import{C as Fn}from"./CetusTooltip-Dg9XQGmJ.js";import{u as Ln}from"./useToken-BVO3EfKh.js";import{S as zn}from"./SingleTokenInfo-CIQH8Jwy.js";import{T as An}from"./TokenGoplusCard-BMrH6seT.js";const lt=Ct(function(t,o){const{onClose:s}=jt(),i=kt();return n.jsx(Dt,{size:"sm",onClick:s,className:Tt("chakra-popover__close-btn",t.className),__css:i.closeButton,ref:o,...t})});lt.displayName="PopoverCloseButton";function $n(){const{setNodeList:e}=He();return{fetchFrontConfig:async()=>{var o;try{const s=`${(o=de)==null?void 0:o.cetus_api}/v2/sui/front_config`,r=(await Mt(s)).sui_nodes;r.length>0&&e(r)}catch(s){return console.log("ðŸš€ ~ file: useGetFrontConfig.ts:26 ~ fetchFrontConfig ~ error:",s),e([...Rt]),null}}}}function Vn(){const{clmmSdk:e,setClmmSdk:t,aggregatorSDK:o,setAggregatorSDK:s,setIsInitLoading:i}=Wt(),{peripherySdk:r,setPeripherySdk:a,burnSdk:l,setBurnSdk:m,vaultsSdk:h,setVaultsSDK:v,xCetusSdk:_,setXCetusSdk:y}=Pt(),{currentNode:p}=He(),{currentAccount:x}=Ne(),{providers:k}=Je();c.useEffect(()=>{const{sdkOptions:E,senderAddress:H}=e;if(p.link!==E.fullRpcUrl||H!==(x==null?void 0:x.address)){i(!0),E.fullRpcUrl=p.link;const d=new Ot(E);d.senderAddress=(x==null?void 0:x.address)||"",t(d);const u=new Et(de.clmm_sdk_options.aggregatorUrl,(x==null?void 0:x.address)||"",new It({url:p.link}),de.env==="testnet"?Ae.Testnet:Ae.Mainnet);s(u);const{sdkOptions:g}=r,f=new Ht(g,d);a(f);const{sdkOptions:w}=l;w.fullRpcUrl=p.link;const b=new Nt(w);b.senderAddress=(x==null?void 0:x.address)||"",m(b);const{sdkOptions:S}=h;S.fullRpcUrl=p.link;const O=new $e(S);O.senderAddress=(x==null?void 0:x.address)||"",v(O);const{sdkOptions:D}=_;D.fullRpcUrl=p.link;const W=new Bt(D);W.senderAddress=(x==null?void 0:x.address)||"",y(W),i(!1)}},[p.link,x==null?void 0:x.address]),c.useEffect(()=>{const{sdkOptions:E}=h;E.aggregator.providers=k.length>1?k:void 0;const H=new $e(E);H.senderAddress=h.senderAddress,v(H)},[k])}const Xn="/assets/img_cetusprotocol@2x-sMK6gV0x.png";function Yn({isOpen:e,onClose:t}){const[o,s]=c.useState(!1),i=()=>{t()};return n.jsxs(Ft,{autoFocus:!1,closeOnOverlayClick:!1,returnFocusOnClose:!1,isOpen:e,onClose:t,isCentered:!0,children:[n.jsx(Lt,{}),n.jsx(zt,{children:n.jsxs(At,{p:{base:"8px 12px !important",lg:"8px 12px !important"},children:[n.jsx(G,{m:"8px 0 12px",src:Xn,w:"100%",h:"auto",userSelect:"none"}),n.jsxs(M,{w:"100%",align:"flex-start",userSelect:"none",p:{base:"0",lg:"0 8px"},children:[n.jsx(j,{fontSize:"20px",fontWeight:"500",color:"text_caption",margin:"12px 0",children:"Welcome to Cetus"}),n.jsx(j,{color:"text_caption",children:"Please read & accept terms before using this site."}),n.jsxs(I,{w:"100%",align:"center",onClick:()=>{window.open("https://www.cetus.zone/terms","_blank")},gap:"4px",children:[n.jsx(R,{xlinkHref:"#icon-icon_docs",svgFill:"primary",svgHover:"primary",svgH:"16px",svgW:"16px"}),n.jsx(j,{cursor:"pointer",fontSize:{base:"12px",lg:"14px"},lineHeight:"1",color:"primary",_hover:{textDecoration:"underline"},children:"Cetus Protocol Terms & Conditions"})]}),n.jsx(ie,{fontWeight:"500",fontSize:"16px",w:"100%",mt:"20px",mb:"8px",onClick:i,children:"Accept"})]})]})})]})}function Un(e){const{title:t,list:o,isActive:s,socials:i,...r}=e;Ze();const{pathname:a}=be(),[l,m]=c.useState(!1),[h,v]=c.useState(!1),_=p=>{p==null||p.stopPropagation(),m(!0)},y=p=>{p==null||p.stopPropagation(),m(!1)};return n.jsx(C,{mb:"-8px",h:{md:l?"140px":"auto",lg:"auto"},children:n.jsx(C,{pb:"8px",onClick:()=>m(!l),onMouseLeave:y,onMouseEnter:_,children:n.jsx($t,{isLazy:!0,id:"more",isOpen:l,onClose:()=>y(),placement:"bottom-start",strategy:"fixed",...r,children:({isOpen:p})=>n.jsxs(n.Fragment,{children:[n.jsx(Vt,{p:"0",isActive:p,as:ie,bg:"none",_hover:{bg:"none",p:{color:"text_caption"},svg:{fill:"text_caption"}},_active:{bg:"none"},children:n.jsxs(Be,{gap:"4px",children:[n.jsx(j,{color:s?"text_caption":"text_paragraph",position:"relative",fontSize:"15px",fontWeight:"500",children:t}),n.jsx(R,{svgH:"12px",svgW:"12px",boxH:"12px",boxW:"12px",xlinkHref:"#icon-icon_arrow",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:p?"rotate(180deg)":"rotate(0deg)"})]})}),n.jsx(qe,{children:n.jsxs(Xt,{zIndex:"999999",p:"8px",display:"flex",flexDir:"column",gap:"8px",minW:"unset",ml:{md:"-16px",lg:"0px"},mt:{md:"-20px",lg:"0px"},bg:{md:"bg_secondary",lg:"bg_secondary"},backdropFilter:{md:"none",lg:"blur(80px)"},children:[o.map(x=>{const k=a.startsWith(x.path);return x.children?n.jsx(Gn,{item:x,active:k,isActive:s},x.title):n.jsx(ct,{item:x,active:k},x.title)}),i&&n.jsx(I,{minW:"192px",gap:"8px",children:i==null?void 0:i.map(x=>n.jsx(me,{as:"a",href:x.path,target:"_blank",bg:"menu_item_bg",borderRadius:"8px",padding:"11px",flex:"0 0 42px",sx:{h:"42px",p:{color:"text_paragraph"},svg:{fill:"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:x.icon?n.jsx(C,{children:typeof x.icon=="string"?n.jsx(R,{xlinkHref:x.icon}):n.jsx(R,{xlinkHref:x.icon.xlinkHref,variant:x.icon.variant||""})}):null},x.title))})]})})]})})})})}const Gn=({item:e,active:t,isActive:o})=>{const[s,i]=c.useState(!1);return n.jsxs(C,{bg:"menu_item_bg",borderRadius:"8px",p:"0 16px",children:[n.jsx(me,{as:ie,variant:"unstyled",w:"100%",h:"42px",bg:"menu_item_bg",borderRadius:"8px",padding:"10px 0px",sx:{p:{color:t?"text_caption":"text_paragraph"},svg:{fill:t?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},onClick:r=>{Yt(r),i(!s)},closeOnSelect:!1,children:n.jsxs(ce,{align:"center",w:"100%",justify:"space-between",children:[n.jsxs(I,{gap:"0px",children:[e.icon?n.jsx(C,{mr:"12px",children:typeof e.icon=="string"?n.jsx(R,{xlinkHref:e.icon}):n.jsx(R,{xlinkHref:e.icon.xlinkHref,variant:e.icon.variant||""})}):null,n.jsx(j,{mr:"4px",color:o?"text_caption":"text_paragraph",position:"relative",fontSize:"14px",children:e.title})]}),n.jsx(R,{svgH:"12px",svgW:"12px",boxH:"12px",boxW:"12px",xlinkHref:"#icon-icon_arrow",variant:"gray",svgFill:"primary_gray",transition:"transform 0.5s",transform:s?"rotate(180deg)":"rotate(0deg)"})]})}),s&&n.jsxs(n.Fragment,{children:[n.jsx(Ut,{borderColor:"border"}),n.jsx(C,{overflow:"hidden",display:"flex",flexDirection:"column",padding:"16px 0px",gap:"20px",border:"none",boxShadow:"none",borderRadius:"0px 0px 8px 8px",bg:"menu_item_bg",minW:"unset",children:(e.children||[]).map(r=>n.jsx(ct,{item:r,active:t,isChild:!0},r.title))})]})]})},ct=({item:e,active:t,isChild:o=!1})=>e.type==="onClick"?n.jsxs(me,{as:ie,variant:"unstyled",justifyContent:"flex-start",onClick:e==null?void 0:e.onClick,...o?{padding:"0px",bg:"menu_item_bg"}:{bg:"menu_item_bg",borderRadius:"8px",padding:"11px",minW:"192px"},sx:{p:{color:t?"text_caption":"text_paragraph"},svg:{fill:t?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[e.icon?n.jsx(C,{mr:"12px",children:typeof e.icon=="string"?n.jsx(R,{xlinkHref:e.icon}):n.jsx(R,{xlinkHref:e.icon.xlinkHref,variant:e.icon.variant||""})}):null,n.jsxs(C,{position:"relative",children:[n.jsx(j,{children:e.title}),(e==null?void 0:e.beta)&&n.jsx(G,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}):e.type==="_blank"?n.jsxs(me,{as:"a",href:e.path,target:"_blank",...o?{padding:"0px",bg:"menu_item_bg"}:{bg:"menu_item_bg",borderRadius:"8px",padding:"11px",minW:"192px"},sx:{p:{color:t?"text_caption":"text_paragraph"},svg:{fill:t?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[e.icon?n.jsx(C,{mr:"12px",children:typeof e.icon=="string"?n.jsx(R,{xlinkHref:e.icon}):n.jsx(R,{xlinkHref:e.icon.xlinkHref,variant:e.icon.variant||""})}):null,n.jsxs(C,{position:"relative",children:[n.jsx(j,{children:e.title}),(e==null?void 0:e.beta)&&n.jsx(G,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}):n.jsxs(me,{as:Gt,to:e.path,...o?{padding:"0px",bg:"menu_item_bg"}:{bg:"menu_item_bg",borderRadius:"8px",padding:"11px",minW:"192px"},sx:{h:o?"20px":"42px",p:{color:t?"text_caption":"text_paragraph"},svg:{fill:t?"text_caption":"text_paragraph"}},_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}},children:[e.icon?n.jsx(C,{mr:"12px",children:typeof e.icon=="string"?n.jsx(R,{xlinkHref:e.icon}):n.jsx(R,{xlinkHref:e.icon.xlinkHref,variant:e.icon.variant||""})}):null,n.jsxs(C,{pos:"relative",children:[n.jsx(j,{children:e.title}),(e==null?void 0:e.beta)&&n.jsx(G,{src:"/images/icon_beta@2x.png",position:"absolute",right:"-32px",top:"-4px",h:"12px"})]})]}),pt=({icon:e,label:t,...o})=>n.jsxs(M,{w:"100%",p:"16px",borderRadius:"12px",border:"1px solid",borderColor:"border",bg:"menu_item_bg",justify:"flex-start",gap:"24px",children:[n.jsxs(I,{w:"100%",gap:"8px",children:[n.jsx(R,{xlinkHref:e,fontSize:"20px"}),n.jsx(j,{fontSize:"14px",children:t})]}),"children"in o?o==null?void 0:o.children:n.jsxs(I,{w:"100%",justify:"space-between",cursor:"pointer",onClick:o.onClick,children:[n.jsx(j,{color:"text_caption",fontSize:"14px",children:o.value}),n.jsx(R,{transform:"rotate(270deg)",xlinkHref:"#icon-icon_arrow",fontSize:"12px",variant:"gray"})]})]}),Kn=({onShowOptions:e,showOptions:t,showMainSetting:o,closeModal:s})=>{const{currentExplorer:i}=He();return t?n.jsx(Kt,{closeModal:s}):o&&n.jsx(pt,{icon:"#icon-icon_preferredexplorer",label:"Preferred Explorer",value:i==null?void 0:i.name,onClick:e})},Qn=({showMainSetting:e,closeModal:t})=>e&&n.jsx(pt,{icon:"#icon-icon_rpc",label:"RPC Node",children:n.jsx(Qt,{closeModal:t})}),Jn=({language:e,preferred:t,rpcNode:o,isCetusPump:s})=>{const{isOpen:i,onOpen:r,onClose:a}=Jt(),[l,m]=c.useState("Settings"),h=c.useMemo(()=>l==="Settings",[l]),v=y=>{m(y)},_=()=>{m("Settings")};return n.jsxs(et,{isLazy:!0,isOpen:i,onOpen:r,placement:"bottom-end",onClose:a,children:[n.jsx(tt,{children:n.jsx(C,{bg:"bg_secondary",w:"36px",h:"36px",p:"7px",border:"1px solid",borderColor:"border",borderRadius:"8px",cursor:"pointer",_hover:{bg:"button_outline_hov_bg",svg:{fill:"text_caption"}},children:n.jsx(R,{xlinkHref:"#icon-icon_settings1",variant:"gray"})})}),n.jsxs(nt,{minW:"360px",p:"0px 16px 16px",bg:"bg_secondary",borderRadius:"12px",maxH:"calc(100vh - 80px)",overflowY:"auto",children:[n.jsx(Zt,{p:"0px",fontWeight:"500",h:"56px",lineHeight:"56px",border:"none",children:n.jsxs(I,{children:[!h&&n.jsx(R,{xlinkHref:"#icon-icon_descending",transform:"rotate(90deg)",svgFill:"text_caption",fontSize:"16px",onClick:_}),n.jsx(j,{color:"text_caption",fontSize:"16px",children:l})]})}),!h&&n.jsx(lt,{h:"50px",onClick:_}),n.jsx(qt,{p:"0px",children:n.jsxs(M,{children:[n.jsx(Kn,{value:t.value,options:t.options,onValueChange:y=>t.onValueChange(y),onShowOptions:()=>v("Preferred"),showOptions:l==="Preferred",showMainSetting:h,closeModal:_}),n.jsx(Qn,{...o,showMainSetting:h,closeModal:a})]})})]})]})},Zn=({menus:e,logo:t,setting:o,notifications:s,chain:i,jump:r,isCetusPump:a,children:l})=>{const{pathname:m}=be();return n.jsxs(ce,{w:"100%",justifyContent:"space-between",align:"center",h:"80px",p:"0px 20px",position:"sticky",zIndex:"999",top:"0px",background:"bg_primary",children:[n.jsxs(ce,{align:"center",gap:{lg:"32px",xl:"48px"},children:[n.jsx(G,{src:t.image,h:"32px",alt:"logo",onClick:()=>r(t.url)}),n.jsx(ce,{align:"center",gap:"32px",children:e==null?void 0:e.map(h=>h!=null&&h.children?n.jsx(Un,{title:h.title,isActive:Ve(h,m),list:h.children,socials:h.socials},h.title):n.jsx(en,{type:h==null?void 0:h.type,link:h.path,isActive:Ve(h,m),children:n.jsx(j,{color:"inherit",fontSize:"15px",fontWeight:"500",children:h.title})},h.title))})]}),n.jsxs(ce,{align:"center",gap:"8px",children:[a&&n.jsx(ot,{w:{lg:"98px",xl:"114px"},h:"36px",text:"Back to DEX",onClick:()=>r("/")}),l,n.jsx(vn,{isCetusPump:a}),s&&n.jsx(tn,{}),n.jsx(Jn,{...o,isCetusPump:a})]})]})};function qn({children:e,...t}){const{isApp:o}=Ce(),s=Ze();return o?n.jsx(nn,{...t,jump:s,children:e}):n.jsx(Zn,{...t,jump:s,children:e})}const Ge={"/stats":"/stats","/xCetus":"/xcetus","/farms":"/farms","/vaults":"/vaults","/dca":"/dca","/select-pool":"/liquidity/deposit?action=newposition&toCoin=0x2::sui::SUI"},eo={pools:"list",positions:"position"},to={deposit:"deposit",positions:"position",analytics:"analytics"};function no(){const e=on(),t=yn(),{pathname:o}=be(),s=()=>{let i="";Object.keys(Ge).includes(o)?i=`${Ge[o]}?chain=sui`:o!=null&&o.startsWith("/vaults-detail")?i=`/vaults-detail/${e==null?void 0:e.vaultId}?chain=sui&action=deposit`:o.startsWith("/swap")?e!=null&&e.from&&(e!=null&&e.to)?i=`/swap?chain=sui&from=${e==null?void 0:e.from}&to=${e==null?void 0:e.to}`:e!=null&&e.from&&!(e!=null&&e.to)?i=`/swap?chain=sui&from=${e==null?void 0:e.from}`:i="/swap?chain=sui":o.startsWith("/limit")?e!=null&&e.pay&&(e!=null&&e.target)?i=`/limit/${e==null?void 0:e.pay}-${e==null?void 0:e.target}?chain=sui`:e!=null&&e.pay&&!(e!=null&&e.target)?i=`/limit/${e==null?void 0:e.pay}?chain=sui`:i="/limit?chain=sui":o!=null&&o.startsWith("/pools")?t!=null&&t.tab?i=`/pool/${eo[t==null?void 0:t.tab]}?chain=sui`:i="/pool/list?chain=sui":o!=null&&o.startsWith("/position-detail")?i=`/new-position-detail?chain=sui&position_nft_id=${e==null?void 0:e.position_nft_id}`:o!=null&&o.startsWith("/create-pool")?e!=null&&e.base&&(e!=null&&e.quote)&&(e!=null&&e.fee)?i=`/liquidity/create?chain=sui&fromCoin=${e==null?void 0:e.base}&toCoin=${e==null?void 0:e.quote}&fee=${e==null?void 0:e.fee}`:e!=null&&e.base&&(e!=null&&e.quote)&&!(e!=null&&e.fee)?i=`/liquidity/create?chain=sui&fromCoin=${e==null?void 0:e.base}&toCoin=${e==null?void 0:e.quote}`:e!=null&&e.base&&!(e!=null&&e.quote)&&!(e!=null&&e.fee)?i=`/liquidity/create?chain=sui&fromCoin=${e==null?void 0:e.base}`:i="/liquidity/create?chain=sui&toCoin=0x2::sui::SUI":o!=null&&o.startsWith("/liquidity")&&(t!=null&&t.poolAddress&&!(t!=null&&t.tab)?i=`/liquidity/deposit?chain=sui&poolAddress=${t==null?void 0:t.poolAddress}`:t!=null&&t.poolAddress&&(t!=null&&t.tab)?i=`/liquidity/${to[t==null?void 0:t.tab]}?chain=sui&poolAddress=${t==null?void 0:t.poolAddress}`:t!=null&&t.from&&(t!=null&&t.to)?i=`/liquidity/deposit?chain=sui&fromCoin=${t==null?void 0:t.from}&toCoin=${t==null?void 0:t.to}`:t!=null&&t.from&&!(t!=null&&t.to)?i=`/liquidity/deposit?chain=sui&fromCoin=${t==null?void 0:t.from}`:!(t!=null&&t.from)&&(t!=null&&t.to)?i=`/liquidity/deposit?chain=sui&toCoin=${t==null?void 0:t.to}`:i="/liquidity?chain=sui"),window.open(`${de.cetus_clmm_site}${i}`,"_blank")};return n.jsxs(I,{onClick:s,border:"1px solid",borderColor:{base:"transparent",lg:"border"},borderRadius:"8px",p:"0 16px",h:"36px",mt:{base:"4px",lg:"0"},bg:"bg_secondary",cursor:"pointer",gap:"4px",sx:{_hover:{bg:"button_outline_hov_bg",p:{color:"text_caption"},svg:{fill:"text_caption"}}},children:[n.jsx(j,{children:"Back to v1"}),n.jsx(R,{xlinkHref:"#icon-icon_link1"})]})}const dt=["/images/swap-widget/img_v1@2x.png","/images/swap-widget/img_v2@2x.png","/images/swap-widget/img_v3@2x.png","/images/swap-widget/img_v4@2x.png","/images/swap-widget/img_v5@2x.png"],oo=(e,t)=>({currWidgetImg:dt[0],saveCurrWidgetImg:o=>{e(()=>({currWidgetImg:o}))},swapWidgetDirection:"right-bottom",saveSwapWidgetDirection:o=>{e(()=>({swapWidgetDirection:o}))},swapWidgetPosition:{x:0,y:0},setSwapWidgetPosition:o=>{e(()=>({swapWidgetPosition:o}))}}),je=st(sn(oo,{name:"useSwapWidgetConfigStore"}));var ke={exports:{}},ut={};function ft(e){var t,o,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(o=ft(e[t]))&&(s&&(s+=" "),s+=o);else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function Ke(){for(var e,t,o=0,s="";o<arguments.length;)(e=arguments[o++])&&(t=ft(e))&&(s&&(s+=" "),s+=t);return s}const so=Object.freeze(Object.defineProperty({__proto__:null,clsx:Ke,default:Ke},Symbol.toStringTag,{value:"Module"})),io=rn(so);var P={},K={};Object.defineProperty(K,"__esModule",{value:!0});K.dontSetMe=po;K.findInArray=ro;K.int=co;K.isFunction=ao;K.isNum=lo;function ro(e,t){for(let o=0,s=e.length;o<s;o++)if(t.apply(t,[e[o],o,e]))return e[o]}function ao(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function lo(e){return typeof e=="number"&&!isNaN(e)}function co(e){return parseInt(e,10)}function po(e,t,o){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(o," - do not set this, set it on the child."))}var re={};Object.defineProperty(re,"__esModule",{value:!0});re.browserPrefixToKey=xt;re.browserPrefixToStyle=uo;re.default=void 0;re.getPrefix=gt;const Oe=["Moz","Webkit","O","ms"];function gt(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const o=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!o||t in o)return"";for(let s=0;s<Oe.length;s++)if(xt(t,Oe[s])in o)return Oe[s];return""}function xt(e,t){return t?"".concat(t).concat(fo(e)):e}function uo(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function fo(e){let t="",o=!0;for(let s=0;s<e.length;s++)o?(t+=e[s].toUpperCase(),o=!1):e[s]==="-"?o=!0:t+=e[s];return t}re.default=gt();Object.defineProperty(P,"__esModule",{value:!0});P.addClassName=bt;P.addEvent=ho;P.addUserSelectStyles=Do;P.createCSSTransform=_o;P.createSVGTransform=Co;P.getTouch=jo;P.getTouchIdentifier=ko;P.getTranslation=Fe;P.innerHeight=wo;P.innerWidth=vo;P.matchesSelector=mt;P.matchesSelectorAndParentsTo=xo;P.offsetXYFromParent=yo;P.outerHeight=bo;P.outerWidth=So;P.removeClassName=St;P.removeEvent=mo;P.removeUserSelectStyles=To;var V=K,Qe=go(re);function ht(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,o=new WeakMap;return(ht=function(s){return s?o:t})(e)}function go(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var o=ht(t);if(o&&o.has(e))return o.get(e);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)){var a=i?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(s,r,a):s[r]=e[r]}return s.default=e,o&&o.set(e,s),s}let _e="";function mt(e,t){return _e||(_e=(0,V.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(o){return(0,V.isFunction)(e[o])})),(0,V.isFunction)(e[_e])?e[_e](t):!1}function xo(e,t,o){let s=e;do{if(mt(s,t))return!0;if(s===o)return!1;s=s.parentNode}while(s);return!1}function ho(e,t,o,s){if(!e)return;const i={capture:!0,...s};e.addEventListener?e.addEventListener(t,o,i):e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o}function mo(e,t,o,s){if(!e)return;const i={capture:!0,...s};e.removeEventListener?e.removeEventListener(t,o,i):e.detachEvent?e.detachEvent("on"+t,o):e["on"+t]=null}function bo(e){let t=e.clientHeight;const o=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,V.int)(o.borderTopWidth),t+=(0,V.int)(o.borderBottomWidth),t}function So(e){let t=e.clientWidth;const o=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,V.int)(o.borderLeftWidth),t+=(0,V.int)(o.borderRightWidth),t}function wo(e){let t=e.clientHeight;const o=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,V.int)(o.paddingTop),t-=(0,V.int)(o.paddingBottom),t}function vo(e){let t=e.clientWidth;const o=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,V.int)(o.paddingLeft),t-=(0,V.int)(o.paddingRight),t}function yo(e,t,o){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),r=(e.clientX+t.scrollLeft-i.left)/o,a=(e.clientY+t.scrollTop-i.top)/o;return{x:r,y:a}}function _o(e,t){const o=Fe(e,t,"px");return{[(0,Qe.browserPrefixToKey)("transform",Qe.default)]:o}}function Co(e,t){return Fe(e,t,"")}function Fe(e,t,o){let{x:s,y:i}=e,r="translate(".concat(s).concat(o,",").concat(i).concat(o,")");if(t){const a="".concat(typeof t.x=="string"?t.x:t.x+o),l="".concat(typeof t.y=="string"?t.y:t.y+o);r="translate(".concat(a,", ").concat(l,")")+r}return r}function jo(e,t){return e.targetTouches&&(0,V.findInArray)(e.targetTouches,o=>t===o.identifier)||e.changedTouches&&(0,V.findInArray)(e.changedTouches,o=>t===o.identifier)}function ko(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function Do(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&bt(e.body,"react-draggable-transparent-selection")}function To(e){if(e)try{if(e.body&&St(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function bt(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function St(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.canDragX=Wo;Q.canDragY=Po;Q.createCoreData=Eo;Q.createDraggableData=Io;Q.getBoundPosition=Mo;Q.getControlPosition=Oo;Q.snapToGrid=Ro;var $=K,pe=P;function Mo(e,t,o){if(!e.props.bounds)return[t,o];let{bounds:s}=e.props;s=typeof s=="string"?s:Ho(s);const i=Le(e);if(typeof s=="string"){const{ownerDocument:r}=i,a=r.defaultView;let l;if(s==="parent"?l=i.parentNode:l=r.querySelector(s),!(l instanceof a.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');const m=l,h=a.getComputedStyle(i),v=a.getComputedStyle(m);s={left:-i.offsetLeft+(0,$.int)(v.paddingLeft)+(0,$.int)(h.marginLeft),top:-i.offsetTop+(0,$.int)(v.paddingTop)+(0,$.int)(h.marginTop),right:(0,pe.innerWidth)(m)-(0,pe.outerWidth)(i)-i.offsetLeft+(0,$.int)(v.paddingRight)-(0,$.int)(h.marginRight),bottom:(0,pe.innerHeight)(m)-(0,pe.outerHeight)(i)-i.offsetTop+(0,$.int)(v.paddingBottom)-(0,$.int)(h.marginBottom)}}return(0,$.isNum)(s.right)&&(t=Math.min(t,s.right)),(0,$.isNum)(s.bottom)&&(o=Math.min(o,s.bottom)),(0,$.isNum)(s.left)&&(t=Math.max(t,s.left)),(0,$.isNum)(s.top)&&(o=Math.max(o,s.top)),[t,o]}function Ro(e,t,o){const s=Math.round(t/e[0])*e[0],i=Math.round(o/e[1])*e[1];return[s,i]}function Wo(e){return e.props.axis==="both"||e.props.axis==="x"}function Po(e){return e.props.axis==="both"||e.props.axis==="y"}function Oo(e,t,o){const s=typeof t=="number"?(0,pe.getTouch)(e,t):null;if(typeof t=="number"&&!s)return null;const i=Le(o),r=o.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,pe.offsetXYFromParent)(s||e,r,o.props.scale)}function Eo(e,t,o){const s=!(0,$.isNum)(e.lastX),i=Le(e);return s?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:o,x:t,y:o}:{node:i,deltaX:t-e.lastX,deltaY:o-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:o}}function Io(e,t){const o=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/o,y:e.state.y+t.deltaY/o,deltaX:t.deltaX/o,deltaY:t.deltaY/o,lastX:e.state.x,lastY:e.state.y}}function Ho(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Le(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var De={},Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.default=No;function No(){}Object.defineProperty(De,"__esModule",{value:!0});De.default=void 0;var Ee=Fo(c),z=ze(at),Bo=ze(it),N=P,ne=Q,Ie=K,he=ze(Te);function ze(e){return e&&e.__esModule?e:{default:e}}function wt(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,o=new WeakMap;return(wt=function(s){return s?o:t})(e)}function Fo(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var o=wt(t);if(o&&o.has(e))return o.get(e);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)){var a=i?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(s,r,a):s[r]=e[r]}return s.default=e,o&&o.set(e,s),s}function L(e,t,o){return t=Lo(t),t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Lo(e){var t=zo(e,"string");return typeof t=="symbol"?t:String(t)}function zo(e,t){if(typeof e!="object"||e===null)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var s=o.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Y={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let oe=Y.mouse,Me=class extends Ee.Component{constructor(){super(...arguments),L(this,"dragging",!1),L(this,"lastX",NaN),L(this,"lastY",NaN),L(this,"touchIdentifier",null),L(this,"mounted",!1),L(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const o=this.findDOMNode();if(!o||!o.ownerDocument||!o.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:s}=o;if(this.props.disabled||!(t.target instanceof s.defaultView.Node)||this.props.handle&&!(0,N.matchesSelectorAndParentsTo)(t.target,this.props.handle,o)||this.props.cancel&&(0,N.matchesSelectorAndParentsTo)(t.target,this.props.cancel,o))return;t.type==="touchstart"&&t.preventDefault();const i=(0,N.getTouchIdentifier)(t);this.touchIdentifier=i;const r=(0,ne.getControlPosition)(t,i,this);if(r==null)return;const{x:a,y:l}=r,m=(0,ne.createCoreData)(this,a,l);(0,he.default)("DraggableCore: handleDragStart: %j",m),(0,he.default)("calling",this.props.onStart),!(this.props.onStart(t,m)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,N.addUserSelectStyles)(s),this.dragging=!0,this.lastX=a,this.lastY=l,(0,N.addEvent)(s,oe.move,this.handleDrag),(0,N.addEvent)(s,oe.stop,this.handleDragStop))}),L(this,"handleDrag",t=>{const o=(0,ne.getControlPosition)(t,this.touchIdentifier,this);if(o==null)return;let{x:s,y:i}=o;if(Array.isArray(this.props.grid)){let l=s-this.lastX,m=i-this.lastY;if([l,m]=(0,ne.snapToGrid)(this.props.grid,l,m),!l&&!m)return;s=this.lastX+l,i=this.lastY+m}const r=(0,ne.createCoreData)(this,s,i);if((0,he.default)("DraggableCore: handleDrag: %j",r),this.props.onDrag(t,r)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const m=document.createEvent("MouseEvents");m.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(m)}return}this.lastX=s,this.lastY=i}),L(this,"handleDragStop",t=>{if(!this.dragging)return;const o=(0,ne.getControlPosition)(t,this.touchIdentifier,this);if(o==null)return;let{x:s,y:i}=o;if(Array.isArray(this.props.grid)){let m=s-this.lastX||0,h=i-this.lastY||0;[m,h]=(0,ne.snapToGrid)(this.props.grid,m,h),s=this.lastX+m,i=this.lastY+h}const r=(0,ne.createCoreData)(this,s,i);if(this.props.onStop(t,r)===!1||this.mounted===!1)return!1;const l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,N.removeUserSelectStyles)(l.ownerDocument),(0,he.default)("DraggableCore: handleDragStop: %j",r),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,he.default)("DraggableCore: Removing handlers"),(0,N.removeEvent)(l.ownerDocument,oe.move,this.handleDrag),(0,N.removeEvent)(l.ownerDocument,oe.stop,this.handleDragStop))}),L(this,"onMouseDown",t=>(oe=Y.mouse,this.handleDragStart(t))),L(this,"onMouseUp",t=>(oe=Y.mouse,this.handleDragStop(t))),L(this,"onTouchStart",t=>(oe=Y.touch,this.handleDragStart(t))),L(this,"onTouchEnd",t=>(oe=Y.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,N.addEvent)(t,Y.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:o}=t;(0,N.removeEvent)(o,Y.mouse.move,this.handleDrag),(0,N.removeEvent)(o,Y.touch.move,this.handleDrag),(0,N.removeEvent)(o,Y.mouse.stop,this.handleDragStop),(0,N.removeEvent)(o,Y.touch.stop,this.handleDragStop),(0,N.removeEvent)(t,Y.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,N.removeUserSelectStyles)(o)}}findDOMNode(){var t,o;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(o=this.props)===null||o===void 0||(o=o.nodeRef)===null||o===void 0?void 0:o.current:Bo.default.findDOMNode(this)}render(){return Ee.cloneElement(Ee.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};De.default=Me;L(Me,"displayName","DraggableCore");L(Me,"propTypes",{allowAnyClick:z.default.bool,children:z.default.node.isRequired,disabled:z.default.bool,enableUserSelectHack:z.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:z.default.arrayOf(z.default.number),handle:z.default.string,cancel:z.default.string,nodeRef:z.default.object,onStart:z.default.func,onDrag:z.default.func,onStop:z.default.func,onMouseDown:z.default.func,scale:z.default.number,className:Ie.dontSetMe,style:Ie.dontSetMe,transform:Ie.dontSetMe});L(Me,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return m.default}}),e.default=void 0;var t=y(c),o=v(at),s=v(it),i=v(io),r=P,a=Q,l=K,m=v(De),h=v(Te);function v(d){return d&&d.__esModule?d:{default:d}}function _(d){if(typeof WeakMap!="function")return null;var u=new WeakMap,g=new WeakMap;return(_=function(f){return f?g:u})(d)}function y(d,u){if(d&&d.__esModule)return d;if(d===null||typeof d!="object"&&typeof d!="function")return{default:d};var g=_(u);if(g&&g.has(d))return g.get(d);var f={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in d)if(b!=="default"&&Object.prototype.hasOwnProperty.call(d,b)){var S=w?Object.getOwnPropertyDescriptor(d,b):null;S&&(S.get||S.set)?Object.defineProperty(f,b,S):f[b]=d[b]}return f.default=d,g&&g.set(d,f),f}function p(){return p=Object.assign?Object.assign.bind():function(d){for(var u=1;u<arguments.length;u++){var g=arguments[u];for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(d[f]=g[f])}return d},p.apply(this,arguments)}function x(d,u,g){return u=k(u),u in d?Object.defineProperty(d,u,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[u]=g,d}function k(d){var u=E(d,"string");return typeof u=="symbol"?u:String(u)}function E(d,u){if(typeof d!="object"||d===null)return d;var g=d[Symbol.toPrimitive];if(g!==void 0){var f=g.call(d,u);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(d)}class H extends t.Component{static getDerivedStateFromProps(u,g){let{position:f}=u,{prevPropsPosition:w}=g;return f&&(!w||f.x!==w.x||f.y!==w.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:f,prevPropsPosition:w}),{x:f.x,y:f.y,prevPropsPosition:{...f}}):null}constructor(u){super(u),x(this,"onDragStart",(g,f)=>{if((0,h.default)("Draggable: onDragStart: %j",f),this.props.onStart(g,(0,a.createDraggableData)(this,f))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),x(this,"onDrag",(g,f)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",f);const w=(0,a.createDraggableData)(this,f),b={x:w.x,y:w.y,slackX:0,slackY:0};if(this.props.bounds){const{x:O,y:D}=b;b.x+=this.state.slackX,b.y+=this.state.slackY;const[W,U]=(0,a.getBoundPosition)(this,b.x,b.y);b.x=W,b.y=U,b.slackX=this.state.slackX+(O-b.x),b.slackY=this.state.slackY+(D-b.y),w.x=b.x,w.y=b.y,w.deltaX=b.x-this.state.x,w.deltaY=b.y-this.state.y}if(this.props.onDrag(g,w)===!1)return!1;this.setState(b)}),x(this,"onDragStop",(g,f)=>{if(!this.state.dragging||this.props.onStop(g,(0,a.createDraggableData)(this,f))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",f);const b={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:O,y:D}=this.props.position;b.x=O,b.y=D}this.setState(b)}),this.state={dragging:!1,dragged:!1,x:u.position?u.position.x:u.defaultPosition.x,y:u.position?u.position.y:u.defaultPosition.y,prevPropsPosition:{...u.position},slackX:0,slackY:0,isElementSVG:!1},u.position&&!(u.onDrag||u.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var u,g;return(u=(g=this.props)===null||g===void 0||(g=g.nodeRef)===null||g===void 0?void 0:g.current)!==null&&u!==void 0?u:s.default.findDOMNode(this)}render(){const{axis:u,bounds:g,children:f,defaultPosition:w,defaultClassName:b,defaultClassNameDragging:S,defaultClassNameDragged:O,position:D,positionOffset:W,scale:U,...X}=this.props;let J={},ae=null;const le=!!!D||this.state.dragging,se=D||w,ee={x:(0,a.canDragX)(this)&&le?this.state.x:se.x,y:(0,a.canDragY)(this)&&le?this.state.y:se.y};this.state.isElementSVG?ae=(0,r.createSVGTransform)(ee,W):J=(0,r.createCSSTransform)(ee,W);const fe=(0,i.default)(f.props.className||"",b,{[S]:this.state.dragging,[O]:this.state.dragged});return t.createElement(m.default,p({},X,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(f),{className:fe,style:{...f.props.style,...J},transform:ae}))}}e.default=H,x(H,"displayName","Draggable"),x(H,"propTypes",{...m.default.propTypes,axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),x(H,"defaultProps",{...m.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(ut);const{default:vt,DraggableCore:Ao}=ut;ke.exports=vt;ke.exports.default=vt;ke.exports.DraggableCore=Ao;var $o=ke.exports;const Vo=an($o),Xo=(e,t)=>({byAmountIn:!0,findRouterLoading:!1,fromAmount:"",toAmount:"",fromCoin:de.clmm_swap.from_coin,toCoin:de.clmm_swap.to_coin,routerData:void 0,setFromCoin:o=>{e(()=>({fromCoin:o}))},setToCoin:o=>{e(()=>({toCoin:o}))},setFromAmount:o=>{e(()=>({fromAmount:o}))},setToAmount:o=>{e(()=>({toAmount:o}))},setRouterData:o=>{e(()=>({routerData:o}))},setFindRouterLoading:o=>{e(()=>({findRouterLoading:o}))},setByAmountIn:o=>{e(()=>({byAmountIn:o}))}}),Re=st(Xo),yt=c.forwardRef(({currStep:e,openConfirmModelClick:t,handleSwapWidgetRouterClick:o,formatSwapRouter:s,handleSettingClick:i,openSelectTokenModal:r,handleSlippageClick:a},l)=>{const{currWidgetImg:m}=je(),{pathname:h}=be(),v=Re(),{fromCoin:_,toCoin:y,setFromCoin:p,setToCoin:x,byAmountIn:k,setFromAmount:E,setToAmount:H,setByAmountIn:d,findRouterLoading:u,routerData:g}=v,{handleSelectToken:f,handleAmountChange:w,fromAmount:b,toAmount:S,fromAmountValue:O,toAmountValue:D,fromBalanceInfo:W,toBalanceInfo:U,amountLimit:X,doSwapAction:J,reCalculateRouteData:ae,scamsText:ue,refreshMarketPrice:le,resetInputAmount:se,onReverseClick:ee}=Cn(v,!0);c.useImperativeHandle(l,()=>({handleTradeSubmit:A=>{J(A)},handleSelectToken:(A,_t)=>{f(_t,A)}}));const{btnText:fe,btnDisabled:ge}=jn(b,S,W==null?void 0:W.balanceFormat,_,y,g),{fetchAccountBalance:B}=En();c.useEffect(()=>(Z!=null&&Z.address&&B(),()=>{se()}),[]);const[te,xe]=c.useState("#icon-a-icon_trade"),{currentAccount:Z,onWalletModal:ve}=Ne(),ye=c.useMemo(()=>h.includes("/swap"),[h]),We=()=>{xe("#icon-icon_swap1")},Pe=()=>{xe("#icon-a-icon_trade")},T=A=>{console.log("  handleRefresh"),ae(),(!ye||A)&&(B(),le())};return n.jsxs(M,{w:"100%",h:"100%",display:e===F.TradeInputPage?"flex":"none",gap:"16px",pl:"12px",pr:"12px",pt:"16px",pb:"16px",children:[n.jsxs(I,{w:"100%",justify:"space-between",children:[n.jsxs(I,{children:[n.jsx(G,{draggable:"false",src:m,fallbackSrc:"/images/placeholder-token@2x.png",w:"36px",h:"36px",cursor:"pointer",_hover:{transform:"scale(1.2)"},onClick:i}),n.jsx(j,{fontSize:"16px",color:"text_caption",fontWeight:"500",children:"Swap"})]}),n.jsxs(I,{children:[n.jsx(Hn,{isWidget:!0,onClick:a}),n.jsx(On,{isAutoRefresh:!0,refreshInterval:20,handleRefresh:T,borderRadius:"8px",w:"28px",h:"28px",innerStyle:{bg:"swap_bg_secondary"}})]})]}),n.jsxs(C,{w:"100%",children:[n.jsx(In,{onClick:()=>ee(!0),from:{wrapStyle:{h:"auto",p:"18px",bg:"swap_bg_secondary"},isWidget:!0,balance:(W==null?void 0:W.balanceFormat)||"",value:b,amountValue:O,loading:!k&&u,openSelectTokenModal:()=>r(!0),onChange:A=>{w(A,!0)},selectable:!0,placeholder:"0.0",token:_,onFocusChange:A=>{A&&+b&&!k&&w(b,!0)}},to:{isWidget:!0,wrapStyle:{h:"auto",p:"18px"},balance:(U==null?void 0:U.balanceFormat)||"",value:S,amountValue:D,loading:k&&u,openSelectTokenModal:()=>r(!1),onFocusChange:A=>{A&&+S&&k&&w(S,!1)},inputAllowed:!1,onChange:A=>{w(A,!1)},selectable:!0,placeholder:"0.0",token:y,half:!1,max:!1},iconParams:{xlinkHref:te,svgFill:"text_caption",transform:te==="#icon-a-icon_trade"?"":"rotate(90deg)",fontSize:te==="#icon-a-icon_trade"?"12px":"16px",onMouseEnter:We,onMouseLeave:Pe}}),ue&&n.jsx(C,{mt:"-32px",p:"48px 16px 16px",borderRadius:"20px",bg:"bg_secondary",border:"1px solid",borderColor:"border",children:n.jsx(kn,{scamsText:ue})})]}),n.jsxs(M,{p:+b&&+S?"0 8px 12px":"0 8px",w:"100%",gap:"8px",border:"1px solid",borderColor:"border",borderRadius:"20px",bg:"swap_card_bg",children:[n.jsx(ie,{w:"calc(100% + 18px)",h:"52px",margin:"-1px",fontSize:"18px",fontWeight:"500",borderRadius:"16px",isDisabled:u||ge,isLoading:u,onClick:()=>{Z?g&&t(g):ve(!0)},children:[_,y].filter(Boolean).length<2?"Select a token":fe}),!!+b&&!!+S&&n.jsxs(M,{w:"100%",gap:"12px",children:[n.jsx(Dn,{isWidget:!0,bg:"swap_card_bg_2",findRouterLoading:u,routerData:g,fromCoin:_,toCoin:y}),n.jsx(Pn,{isLoading:u,label:k?"Minimum Received":"Maximum Sold",value:`${ln(X,k?y==null?void 0:y.decimals:_==null?void 0:_.decimals,!1,cn.ROUND_DOWN)} ${k?y==null?void 0:y.symbol:_==null?void 0:_.symbol}`,labelStyle:{fontWeight:500,whiteSpace:"nowrap",fontSize:"12px"},valueStyle:{fontWeight:500,fontSize:"12px"},skeletonStyle:{valueW:"128px"},wrapStyle:{p:"0 8px",minH:"20px"}}),n.jsx(Tn,{handleSwapWidgetRouterClick:o,formatSwapRouter:s,findRouterLoading:u,fromAmount:b,toAmount:S,fromCoin:_,toCoin:y,isSwapWidget:!0})]})]})]})});yt.displayName="SwapTrade";function Yo(e){const{data:t,onClose:o}=e,{status:s="confirmation",link:i,tx:r,getShowInfo:a}=t,l=c.useMemo(()=>{if(a)return a(s)},[s]);return n.jsxs(M,{w:"100%",gap:"12px",h:"386px",pos:"relative",children:[n.jsx(Go,{status:s}),n.jsx(Uo,{data:t,info:l}),(s==="success"||s==="rejected")&&n.jsx(ie,{w:"100%",pos:"absolute",bottom:"0px",fontWeight:"500",fontSize:"16px",h:"52px",border:"12px",onClick:()=>{o()},children:s==="rejected"?"Retry":"Swap More"})]})}function Uo(e){const{data:t,info:o}=e,{status:s="confirmation",tx:i}=t,{getExplorerUrl:r}=pn(),a=o==null?void 0:o.modalDescriptionText;return o==null||o.iconUrl,s==="confirmation"?n.jsxs(M,{gap:"12px",h:"100%",pl:"12px",pr:"12px",pb:"56px",justifyContent:"center",children:[n.jsx(Xe,{mt:"15px",mb:"15px",size:"xl",color:"primary",thickness:"4px"}),n.jsx(j,{color:"text_caption",fontSize:"16px",lineHeight:"24px",mt:"20px",children:a}),n.jsx(j,{fontSize:"14px",children:"Confirm this transaction in your wallet"})]}):s==="submitted"?n.jsxs(M,{gap:"12px",h:"100%",pl:"12px",pr:"12px",pb:"56px",justifyContent:"center",children:[n.jsx(Xe,{mt:"15px",mb:"15px",size:"xl",color:"primary",thickness:"4px"}),n.jsx(j,{color:"text_caption",fontSize:"16px",lineHeight:"24px",mt:"20px",children:a}),n.jsxs(M,{gap:"6px",children:[n.jsx(j,{color:"primary_gray",fontSize:"14px",children:"Confirmation is in progress."}),n.jsx(j,{color:"primary_gray",fontSize:"14px",children:"Check your transaction"})]}),n.jsx(M,{mt:"5px",gap:"12px",children:i&&n.jsx(M,{gap:"12px",children:n.jsx(I,{w:"100%",justifyContent:"center",gap:"16px",children:Ye.map(l=>n.jsx(ie,{variant:"outline",h:"32px",pl:"12px",lineHeight:"1",color:"text_highlight",fontSize:"12px",borderColor:"swap_border",borderRadius:"8px",leftIcon:n.jsx(G,{src:l.img,alt:"SVG Image",boxSize:"24px",objectFit:"cover",borderRadius:"8px"}),rightIcon:n.jsx(R,{xlinkHref:"#icon-icon_link1",svgW:"20px",svgH:"20px"}),_hover:{borderColor:"text_highlight",svg:{fill:"text_caption"}},onClick:()=>{window.open(r(i,"tx",l),"_blank")},children:l.name},l.name))})})})]}):s==="success"?n.jsx(n.Fragment,{children:n.jsxs(M,{gap:"8px",pl:"12px",pr:"12px",w:"100%",children:[n.jsx(q,{w:"60px",h:"60px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"60px",bg:"primary_green_opacity.10",children:n.jsx(q,{w:"40px",h:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"40px",bg:"primary_green",children:n.jsx(R,{xlinkHref:"#icon-icon_check",fontSize:"30px",svgFill:"#000"})})}),n.jsx(j,{color:"primary_green",fontSize:"14px",lineHeight:"20px",children:"Swap Successful"}),n.jsx(I,{mt:"32px",w:"100%",minH:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"12px",alignItems:"center",justifyContent:"center",textAlign:"center",children:n.jsx(j,{children:a})}),i&&n.jsxs(I,{mt:"32px",children:[n.jsx(j,{color:"primary_green",fontSize:"12px",children:"View on Explorer"}),Ye.map(l=>n.jsx(Fn,{tooltip:n.jsxs(j,{children:[l.name," "]}),children:n.jsx(G,{onClick:()=>{window.open(r(i,"tx",l),"_blank")},cursor:"pointer",src:l.img,alt:"SVG Image",boxSize:"16px",objectFit:"cover",borderRadius:"8px"})},l.name))]})]})}):s==="rejected"?n.jsx(n.Fragment,{children:n.jsxs(M,{gap:"8px",pl:"12px",pr:"12px",w:"100%",children:[n.jsx(q,{w:"60px",h:"60px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"60px",bg:"primary_red_opacity.10",children:n.jsx(q,{w:"40px",h:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"40px",bg:"primary_red",children:n.jsx(R,{xlinkHref:"#icon-caution",fontSize:"24px",svgFill:"#000"})})}),n.jsx(j,{color:"primary_red",fontSize:"14px",lineHeight:"20px",children:"Swap failed"}),n.jsx(I,{mt:"32px",w:"100%",minH:"48px",borderRadius:"8px",border:"1px solid",borderColor:"border",p:"12px",alignItems:"center",justifyContent:"center",children:n.jsx(j,{maxW:"100%",textAlign:"center",lineHeight:"18px",children:a})})]})}):n.jsx(n.Fragment,{})}function Go({status:e}){return n.jsxs(M,{w:"100%",h:"56px",justifyContent:"center",children:[e==="confirmation"&&n.jsx(j,{fontSize:"16px",color:"text_caption",children:"Waiting for Confirmation"}),e==="submitted"&&n.jsx(j,{fontSize:"16px",color:"text_caption",children:"Transaction in progress"})]})}function we(e){const{title:t,onBackClick:o}=e;return n.jsxs(I,{position:"relative",w:"100%",mt:"12px",children:[n.jsx(q,{ml:"12px",cursor:"pointer",left:"0",w:"74px",h:"32px",lineHeight:"32px",p:"0",bg:"swap_bg_secondary",borderRadius:"8px",onClick:o,sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},children:n.jsxs(I,{justify:"center",gap:"4px",children:[n.jsx(R,{ml:"-10px",xlinkHref:"#icon-icon_ascending_nor",transform:"rotate(-90deg)"}),n.jsx(j,{fontSize:"12px",children:"Back"})]})}),n.jsx(j,{color:"text_caption",fontSize:"16px",position:"absolute",left:"50%",transform:"translateX(-50%)",children:t})]})}function Ko(e){const{onClose:t,data:o,onSubmitClick:s}=e,{fromCoin:i,toCoin:r,routerData:a}=Re();return n.jsxs(M,{w:"100%",gap:"12px",children:[n.jsx(we,{title:"Review your order",onBackClick:t}),n.jsx(Mn,{onSubmitClick:s,onClose:t,data:o,lastRouterData:a,fromCoin:i,toCoin:r,isWidget:!0})]})}function Qo(e){var x;const{onClose:t,data:o}=e,{fromCoin:s,toCoin:i,findRouterLoading:r,fromAmount:a,toAmount:l}=Re(),{getTokenInfo:m}=Ln(),h=(x=o==null?void 0:o.routers)==null?void 0:x.map(k=>({...k,paths:k.paths.map(E=>({...E,fromToken:m(E.from_type),toToken:m(E.to_type)}))})),v={fromToken:s,toToken:i,fromAmount:a,toAmount:l,routes:h},[_,y]=c.useState(!0),p=c.useRef(null);return c.useEffect(()=>(p.current&&(clearTimeout(p.current),p.current=null),p.current=setTimeout(()=>{y(!1)},1500),()=>{p.current&&(clearTimeout(p.current),p.current=null)}),[]),n.jsxs(M,{w:"100%",gap:"12px",children:[n.jsx(we,{title:"Route",onBackClick:t}),n.jsxs(I,{w:"100%",justify:"space-between",p:"0 12px",children:[n.jsx(j,{fontSize:"14px",color:"text_caption",fontWeight:"500",whiteSpace:"nowrap",children:"Router"}),n.jsx(C,{children:n.jsx(Rn,{data:o,loading:r})})]}),n.jsx(C,{pl:"12px",pr:"12px",w:"100%",children:n.jsx(Wn,{...v,loading:_})})]})}function Jo(e){const{onClose:t,currToken:o,onSelectCall:s}=e,[i,r]=c.useState(void 0);return n.jsxs(M,{w:"100%",gap:"12px",children:[!i&&n.jsx(we,{title:"Select Token",onBackClick:t}),i&&n.jsxs(I,{mt:"12px",gap:"12px",alignContent:"start",w:"100%",children:[n.jsx(ot,{bg:"swap_bg_secondary",ml:"12px",onClick:()=>{r(void 0)}}),n.jsx(zn,{token:i,imgBoxStyle:{w:"28px",h:"28px"}})]}),n.jsxs(C,{w:"100%",children:[!i&&n.jsx(dn,{bg:"swap_bg_primary",isOpen:!0,isWidget:!0,isShowHotList:!1,isShowCollectListBox:!0,lastSelectedToken:(o==null?void 0:o.coin_type)||"",noDataHaveImg:!1,noClickImportItem:!0,onSelectToken:a=>{s(a)},onGoplusTokenClick:a=>{r(a)},onClose:function(){}}),i&&n.jsx(An,{tokenInfo:i})]})]})}function Zo(e){const{onClose:t}=e;return n.jsxs(M,{w:"100%",gap:"12px",pb:"16px",children:[n.jsx(we,{title:"Settings",onBackClick:t}),n.jsx(qo,{})]})}function qo(){const{currWidgetImg:e,swapWidgetDirection:t,saveCurrWidgetImg:o}=je();return n.jsx(C,{w:"100%",pl:"16px",pr:"16px",children:n.jsx(q,{borderRadius:"12px",bg:"swap_bg_secondary",pl:"12px",pr:"12px",pt:"16px",pb:"16px",children:n.jsxs(M,{w:"100%",alignItems:"start",gap:"16px",children:[n.jsx(j,{color:"text_paragraph",children:"Change image"}),n.jsx(I,{w:"100%",wrap:"wrap",justifyContent:"space-between",children:dt.map(s=>n.jsx(q,{w:"44px",h:"44px",borderRadius:"50%",p:"6px",borderColor:e===s?"circle_progress_color":"border",children:n.jsx(Be,{w:"100%",h:"100%",cursor:"pointer",onClick:()=>{o(s)},children:n.jsx(G,{src:s,w:"36px"})})},s))})]})})})}function es(e){const{onCloseModal:t}=e,{showSlippage:o,isWidget:s,compact:i,settingOpen:r,onChange:a,slippageType:l,transactionMode:m,handleChangeTransctionMode:h,maxCapForGas:v,handleChangeMaxCapForGas:_,customGasPrice:y,handleChangeCustomGasPrice:p,mevProtect:x,handleChangeMevProtect:k}=Nn(e);return n.jsxs(M,{w:"100%",gap:"12px",pb:"16px",children:[n.jsx(we,{title:"Settings",onBackClick:t}),n.jsx(C,{p:"0px 16px",children:n.jsx(C,{borderRadius:"12px",bg:"swap_bg_secondary",p:"16px 12px",children:n.jsx(Bn,{isWidget:s,compact:i,isOpen:r,onClose:t,value:un(o).mul(100).toNumber(),onChange:a,slippageType:l,transactionMode:m,onChangeTransctionMode:h,maxCapForGas:v,onChangeMaxCapForGas:_,mevProtect:x,onChangeMevProtect:k,customGasPrice:y,onChangeCustomGasPrice:p})})})]})}function ts(e){const{showTopMask:t}=e,{routerData:o,fromCoin:s,toCoin:i}=Re(),[r,a]=c.useState(F.TradeInputPage),[l,m]=c.useState(),{transactionModalVisible:h,transactionData:v,setTransactionModalVisible:_}=rt(),{formatSwapRouter:y}=_n(o),[p,x]=c.useState(!0);Ce();const k=c.useRef(null),E=f=>{m(f),a(F.TradeConfirmPage)},H=()=>{a(F.RoutePage)},d=f=>{x(f),a(F.SelectTokenPage)},u=()=>{a(F.TradeInputPage)},g=c.useMemo(()=>r===F.TradeStatus&&v&&v.isSwapWidget&&h,[r,v,h]);return n.jsxs(C,{pt:"8px",w:"100%",children:[n.jsx(C,{h:"8px",w:"calc(100% + 4px)",bg:t?"bg_primary":"transparent",pos:"absolute",top:"0px",right:"-4px",zIndex:"9999999"}),n.jsxs(M,{bg:"swap_bg_primary",w:"100%",borderRadius:"16px",p:"0px",children:[n.jsx(yt,{ref:k,openSelectTokenModal:d,formatSwapRouter:y,handleSwapWidgetRouterClick:H,currStep:r,openConfirmModelClick:E,handleSettingClick:()=>{a(F.TradeSetting)},handleSlippageClick:()=>{a(F.SlippageSetting)}}),r===F.TradeConfirmPage&&l&&n.jsx(Ko,{data:l,onClose:u,onSubmitClick:async f=>{var w;setTimeout(()=>{a(F.TradeStatus)},500),(w=k.current)==null||w.handleTradeSubmit(f)}}),g&&n.jsx(Yo,{data:v,onClose:()=>{_(!1),u()}}),r===F.RoutePage&&y&&n.jsx(Qo,{data:y,onClose:u}),r===F.TradeSetting&&n.jsx(Zo,{onClose:u}),r===F.SelectTokenPage&&n.jsx(Jo,{onClose:u,currToken:p?s:i,onSelectCall:f=>{var w;(w=k.current)==null||w.handleSelectToken(p,f),u()}}),r===F.SlippageSetting&&n.jsx(es,{onCloseModal:u})]})]})}function ns(e){const{isOpen:t}=e,{currWidgetImg:o}=je();return n.jsxs(n.Fragment,{children:[n.jsx(q,{w:{base:"56px",lg:"52px"},h:{base:"56px",lg:"52px"},borderRadius:"50%",p:"5px",bg:"swap_bg_primary",display:t?"block":"none",pointerEvents:"none",children:n.jsx(I,{w:"100%",h:"100%",justifyContent:"center",alignItems:"center",pt:"5px",pr:"1px",children:n.jsx(R,{xlinkHref:"#icon-icon_descending_nor",svgH:"10px",svgFill:"text_caption",svgHover:"primary"})})}),n.jsx(C,{_hover:{transform:"scale(1.2)"},display:t?"none":"block",children:n.jsx(G,{draggable:"false",src:o,fallbackSrc:"/images/placeholder-token@2x.png",w:{base:"60px",lg:"68px"},h:{base:"60px",lg:"68px"},pointerEvents:"none"})})]})}function os(){const{currWidgetImg:e,swapWidgetDirection:t,swapWidgetPosition:o,setSwapWidgetPosition:s}=je(),[i,r]=c.useState(!1),{isApp:a}=Ce(),l=c.useRef(!1),m=c.useRef(null),h=c.useMemo(()=>{if(!m.current)return"top-start";const g=m.current.getBoundingClientRect(),f=window.innerWidth,w=window.innerHeight,b=g.left+g.width/2;g.top+g.height/2,g.left,f-g.right;const S=g.top,O=w-g.bottom,D=b<f/2;let W="top-start";return O-S>10?W=D?"bottom-start":"bottom-end":W=D?"top-start":"top-end",console.log("ðŸš€ ~ popoverPosition ~ pos:",W,S),W},[i,m.current,a]),v=c.useRef({x:0,y:0}),_=(g,f)=>{v.current={x:f.x,y:f.y}},y=(g,f)=>{const w={x:f.x,y:f.y},b=Math.abs(w.x-v.current.x),S=Math.abs(w.y-v.current.y);b>1||S>1?(s(w),setTimeout(()=>{l.current=!1},200)):l.current=!1},p=c.useRef(null),[x,k]=c.useState(0),[E,H]=c.useState(!1),[d,u]=c.useState(!1);return c.useEffect(()=>{if(!p.current)return;const g=S=>{const O=S==null?void 0:S.composedPath(),D=S.target;if((D==null?void 0:D.id)==="popover-trigger-PopoverId")return;const U=O.some(X=>{var J;return(X==null?void 0:X.classList)&&((J=X==null?void 0:X.classList)==null?void 0:J.contains("price-impactg-tips"))});p.current&&!p.current.contains(S.target)&&!U&&r(!1)};document.addEventListener("mousedown",g);const f=()=>{if(p.current){const S=p.current.getBoundingClientRect(),O=S.top<0,D=S.bottom>window.innerHeight;H(O||D)}},w=()=>{if(p.current){const S=p.current.getBoundingClientRect(),O=window.innerHeight;let D=S.height;u(S.top<10),console.log("ðŸš€ ~ calculateVisibleHeight ~ rect:",S.top),S.top<0?D=Math.min(S.height,S.bottom):S.bottom>O&&(D=Math.min(S.height,O-S.top)),k(Math.max(0,D))}},b=new ResizeObserver(()=>{f(),w()});return p.current&&b.observe(p.current),()=>{document.removeEventListener("mousedown",g),p.current&&b.unobserve(p.current)}},[p.current]),c.useEffect(()=>(i?document.body.style.overflowX="hidden":document.body.style.overflowX="",()=>{document.body.style.overflowX=""}),[i]),n.jsx(Vo,{allowAnyClick:!1,bounds:"parent",disabled:i,position:o,onDrag:()=>{l.current=!0},onStop:y,onStart:_,children:n.jsx(M,{zIndex:1e3,position:"absolute",gap:"16px",bottom:a?"8px":"20px",left:a?"8px":"20px",children:n.jsxs(et,{id:"PopoverId",isLazy:!0,closeOnBlur:!1,isOpen:i,placement:h,onClose:()=>r(!1),trigger:"click",autoFocus:!1,returnFocusOnClose:!1,children:[n.jsx(tt,{children:n.jsx(C,{ref:m,pointerEvents:"auto",cursor:"pointer",as:"button",onTouchEnd:()=>{a&&(l.current||r(!i))},onClick:()=>{!a&&!l.current&&r(!i)},children:n.jsx(ns,{isOpen:i})})}),n.jsx(qe,{children:n.jsx(nt,{ref:p,w:a?"90vw":"386px",bg:"transparent",p:"0px",borderRadius:"16px",borderColor:"transparent",children:i&&n.jsx(C,{pt:"0px",width:"100%",maxH:E?`${x}px`:"auto",overflowY:E?"auto":"visible",overflowX:"hidden",children:n.jsx(ts,{showTopMask:d})})})})]})})})}function ss(){const{mutate:e}=fn();c.useEffect(()=>{Ue.inMSafeWallet()&&e({wallet:new Ue("cetus",gn("mainnet"),"sui:mainnet"),silent:!0})},[])}const is=c.lazy(()=>Se(()=>import("./index-CarBQFSQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44])).then(e=>({default:e.BuyCryptoAlchemy}))),rs=c.lazy(()=>Se(()=>import("./index-CarBQFSQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44])).then(e=>({default:e.BuyCryptoKodo}))),as=c.lazy(()=>Se(()=>import("./index-CarBQFSQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44])).then(e=>({default:e.BuyCryptoModal}))),ls=c.lazy(()=>Se(()=>import("./index-CarBQFSQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44])).then(e=>({default:e.TransactionModal}))),cs=c.lazy(()=>Se(()=>import("./index-CarBQFSQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44])).then(e=>({default:e.WalletModal})));function ps(){const[e,t]=c.useState(!1),{isTerm:o,setIsTerm:s,isBuyCryptoConfirm:i}=Je(),{isShowAlchemyCrypto:r,isShowKodoCrypto:a,setIsShowAlchemyCrypto:l,setIsShowKodoCrypto:m}=xn(),{transactionModalVisible:h,transactionData:v,setTransactionModalVisible:_,setManualCloseId:y}=rt(),{currentAccount:p,isOpenWalletModal:x,onWalletModal:k}=Ne(),{fetchFrontConfig:E}=$n(),{fetchTokenPrices:H}=hn();ss(),Vn();const{pathname:d}=be(),[u,g]=c.useState({name:"Sui",icon:"/images/icon-Sui@2x.png",label:"Sui"}),[f,w]=c.useState("EN"),[b,S]=c.useState("Suiscan"),[O,D]=c.useState("Suiscan"),W={language:{options:["EN English","CH ä¸­æ–‡"],value:f,onValueChange:T=>w(T)},preferred:{options:["Suiscan","Sui Explorer"],value:b,onValueChange:T=>S(T)},rpcNode:{options:["Suiscan","SUIscan2"],value:O,onValueChange:T=>D(T)}},U=c.useMemo(()=>["stats","pools"].some(T=>d.includes(T)),[d]),X=c.useMemo(()=>["swap"].some(T=>d.includes(T)),[d]),J=c.useMemo(()=>["swap","limit","dca"].some(T=>d.includes(T)),[d]),[ae,ue]=c.useState(!1),le=c.useRef(null),se=()=>{B.current&&ue(B.current.scrollTop>100)},ee=()=>{var T;B.current&&((T=B.current)==null||T.scrollTo({top:0,behavior:"instant"}))},{initNotifi:fe}=mn();c.useEffect(()=>{d&&(console.log("ðŸš€ ~ useEffect ~ pathname:",d),ee())},[d]),c.useEffect(()=>{if(setTimeout(()=>{E(),H([])},1e3),B.current)return console.log("ðŸš€ ~ useEffect ~ hStack:",B.current),B.current.addEventListener("scroll",se),()=>{var T;return(T=B.current)==null?void 0:T.removeEventListener("scroll",se)}},[]),c.useEffect(()=>{p!=null&&p.address&&(console.log("ðŸš€ðŸš€ðŸš€ ~ CetusLayout.tsx:113 ~ useEffect ~ currentAccount?.address:",p==null?void 0:p.address),fe(p==null?void 0:p.address))},[p==null?void 0:p.address]);const{size:ge}=wn(),B=c.useRef(null),[te,xe]=c.useState(!1),Z=c.useRef(null),ve=()=>{xe(!0)};c.useEffect(()=>B.current?(B.current.addEventListener("scroll",ve),()=>{var T;(T=B.current)==null||T.removeEventListener("scroll",ve)}):()=>{Z.current&&(clearTimeout(Z.current),Z.current=null)},[]),c.useEffect(()=>{te&&(Z.current=setTimeout(()=>{xe(!1)},1500))},[te]);const{isApp:ye}=Ce(),We=[{title:"Trade",children:[{title:"Swap",path:"/swap",icon:"#icon-a-icon_swap2"},{title:"Limit Order",path:"/limit",icon:"#icon-icon_limitorder"},{title:"DCA",path:"/dca",icon:"#icon-icon_dca"},{title:"DeepBook",path:"https://deepbook.cetus.zone/",type:"_blank",icon:"#icon-icon_deepbook"}]},{title:"Earn",children:[{title:"Pools",path:"/pools",icon:"#icon-icon_liquiditypools"},{title:"Farms",path:"/farms",icon:"#icon-icon_farms"},{title:"Vaults",path:"/vaults",icon:"#icon-icon_vaults"}]},{title:"xCETUS",path:"/xCetus",type:ye?"onClick":"reactRouterLink"},{title:"Bridge",children:[{title:"Sui Bridge",type:"_blank",path:"https://bridge.sui.io/",icon:"#icon-icon_sui"},{title:"Wormhole",type:"_blank",path:"https://bridge.cetus.zone/sui",icon:"#icon-icon_wormhole"}]},{title:"More",children:[{title:"Buy Crypto",type:"onClick",onClick:()=>{console.log("Buy Crypto"),p!=null&&p.address?t(!0):k(!0)},icon:"#icon-icon_crypto"},{title:"Launchpad",path:"https://launch.cetus.zone/?chain=sui",type:"_blank",icon:"#icon-icon_Launchpad"},{title:"Cetus Terminal",path:"https://terminal.cetus.zone",type:"_blank",icon:"#icon-icon_terminal"},{title:"Stats",path:"/stats",icon:"#icon-icon_stats"},{title:"Docs",path:"https://cetus-1.gitbook.io/cetus-docs",type:"_blank",icon:"#icon-icon_docs"}],socials:[{title:"X",path:"https://x.com/cetusprotocol",icon:"#icon-icon_twitter"},{title:"Discord",path:"https://discord.com/invite/rQtYGfmcD8",icon:"#icon-icon_discord"},{title:"Telegram",path:"https://t.me/CetusDevNews",icon:"#icon-icon_telegram"},{title:"Medium",path:"https://medium.com/@CetusProtocol",icon:"#icon-icon_medium"}]}],Pe=c.useMemo(()=>!ye&&!(d!=null&&d.includes("/swap"))&&d!=="/",[d]);return n.jsxs(n.Fragment,{children:[n.jsx(C,{ref:B,h:ge==null?void 0:ge.h,background:"bg_primary",overflowY:"scroll",overflowX:"hidden",minW:{base:"100%",lg:"1200px"},className:`scroll-container ${te?"scroll-active":""}`,sx:{"::-webkit-scrollbar-thumb":{background:te?"rgba(88, 90, 92, 1)":"rgba(88, 90, 92, 0)",transition:"background 0.5s ease, opacity 0.5s ease"}},children:n.jsxs(C,{minH:"100%",pt:{base:"10px",lg:"0"},children:[n.jsx(qn,{logo:{image:"/images/logo@2x.png",url:"/"},menus:We,notifications:!0,setting:W,isCetusPump:!1,children:n.jsx(no,{})}),n.jsx(C,{as:"div",pb:"80px",style:{width:"100%",position:"relative",height:"100%"},ref:le,children:n.jsx(c.Suspense,{fallback:n.jsx(Sn,{}),children:n.jsx(M,{w:"100%",children:n.jsx(ce,{w:"100%",maxW:"1200px",p:{base:"0px 8px 0px 12px",lg:"0 20px"},justifyContent:"center",zIndex:"1",children:n.jsx(bn,{})})})})}),ae&&U&&n.jsx(q,{cursor:"pointer",w:"40px",h:"40px",p:"0",borderRadius:"12px",zIndex:"99",position:"fixed",bottom:"30px",right:"20px",onClick:ee,_hover:{svg:{fill:"text_caption"}},children:n.jsx(Be,{w:"100%",h:"100%",children:n.jsx(R,{xlinkHref:"#icon-icon_top1",onClick:ee})})}),n.jsx(ds,{bgIsShow:X,bgBottomIsShow:J})]})}),x&&n.jsx(c.Suspense,{fallback:n.jsx("div",{}),children:n.jsx(cs,{isOpen:x,onClose:()=>k(!1)})}),h&&v&&!v.isSwapWidget&&n.jsx(c.Suspense,{fallback:n.jsx("div",{}),children:n.jsx(ls,{isOpen:h,onClose:T=>{v.transactionId&&T&&y(v.transactionId),_(!1)},...v})}),e&&n.jsx(c.Suspense,{fallback:n.jsx("div",{}),children:n.jsx(as,{isOpen:e,onClose:()=>t(!1)})}),r&&n.jsx(c.Suspense,{fallback:n.jsx("div",{}),children:n.jsx(is,{isOpen:r,onClose:()=>l(!1)})}),a&&n.jsx(c.Suspense,{fallback:n.jsx("div",{}),children:n.jsx(rs,{isOpen:a,onClose:()=>m(!1)})}),!o&&n.jsx(Yn,{isOpen:!o,onClose:()=>s(!0)}),Pe&&n.jsx(os,{})]})}const ds=({bgIsShow:e,bgBottomIsShow:t})=>n.jsx(n.Fragment,{children:n.jsxs(C,{bg:"background",children:[t&&n.jsx(C,{className:"bg_img_left",w:"30%",h:"208px",bg:"#005B33",filter:"blur(150px)",position:"fixed",zIndex:"0",bottom:"-100px",left:"-10%",borderRadius:"50%"}),t&&n.jsx(C,{className:"bg_img_right",w:"30%",h:"208px",bg:"#005B33",filter:"blur(180px)",position:"fixed",zIndex:"0",bottom:"-100px",right:"-10%",borderRadius:"50%"})]})}),Ms=Object.freeze(Object.defineProperty({__proto__:null,default:ps},Symbol.toStringTag,{value:"Module"}));export{Ms as C,qn as H,Yn as T};
