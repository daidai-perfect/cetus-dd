import{dl as d,aK as m,r as u,a_ as g,bR as C,dm as I}from"./index-hlspwJoj.js";function v(e){const{tokenMap:o,setToken:k,requestTokenList:f,addRequestTokenList:l}=d(),{clmmSdk:c}=m();u.useEffect(()=>{e&&(s(e)||i(e))},[e]);const i=async t=>{try{const n=s(t);if(n)return n;if(f.includes(t))return;l(t);const r=await c.fullClient.getCoinMetadata({coinType:t});if(r){C.isSuiCoin(t)&&(r.iconUrl="https://archive.cetus.zone/assets/image/sui/sui.png");const a=I(r,t);return k(a),console.log("ðŸš€ ~ file: useToken.ts:38 ~ fetchTokenInfo ~ token:",a,f),a}}catch(n){console.log("ðŸš€ ~ file: useToken.ts:44 ~ fetchTokenInfo ~ error:",n)}},s=u.useCallback(t=>{if(t)return o.get(g(t).full_address)||o.get(t)},[o]);return{tokenInfo:u.useMemo(()=>s(e),[e,o]),getTokenInfo:s,fetchTokenInfo:i}}export{v as u};
