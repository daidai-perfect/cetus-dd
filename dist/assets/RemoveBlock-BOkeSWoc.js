import{a as d,j as o,f as Ve,V as Ae,q as Ue,H as Q,T as z,p as Ke,S as Dt,ak as wt,I as Ht,R as Gt,aq as Tt,P as zt,h as Xt,m as Jt,n as Kt,a1 as Yt,a2 as Qt,a3 as Bt,a4 as It}from"./vendor-BowHGuwE.js";import{au as Pt,aM as dt,aT as es,j as kt,l as Rt,r as st,a9 as jt,al as vt,d as b,aU as ts,n as ze,k as et,X as Ct,x as pt,aw as Fe,z as ke,a3 as Ge,m as Ze,a as ut,aV as Lt,I as Pe,c as gt,e as ss,$ as Me,aK as is,a0 as os,f as xt,a2 as ns,w as Ie,B as mt,J as as,U as ls}from"./index-CHh_ib_A.js";import{u as rs}from"./useTokenBalance-ixOuC4qY.js";import{u as Ye}from"./global-jBtCojdm.js";import{v as tt,u as cs,M as ds,S as ps}from"./usePriceImpact-BGVkF8Rs.js";import{D as us}from"./DepositRatio-DLGUvkQM.js";import{F as ms}from"./FreshProgressV2-Cof8O_xE.js";import{d as gs,c as xs,e as ys}from"./useGetPoolList-DGWy_Wlm.js";import{E as yt}from"./ErrorTips-De8VCF23.js";import{a as hs,u as bs}from"./useTransaction-CWfVBXqS.js";import{f as fs,u as it,a as qt,i as _s}from"./usePositionList-CyZ1ld3N.js";import{b as Ft,a as ot,c as ht,u as As}from"./useNotifiSubscription-DCb8u4WK.js";import{f as bt}from"./index-DLt-hnln.js";import{u as Ss}from"./useAccountBalance-kA9PTpYg.js";import{u as Zt}from"./index-B1wLH69E.js";import{u as ws}from"./useToken-D2aHLFAo.js";import{u as Ts}from"./usePosAdd-CJHsifQk.js";import{M as rt}from"./msafe-oYBkW7LJ.js";import{T as ks}from"./TradeInputGroup-USnUgl_n.js";import{A as Rs}from"./index-AojqINls.js";import{a as js,R as ft}from"./ExpendItem-CSybeYWJ.js";var vs=/\s/;function Cs(t){for(var s=t.length;s--&&vs.test(t.charAt(s)););return s}var Ls=/^\s+/;function qs(t){return t&&t.slice(0,Cs(t)+1).replace(Ls,"")}var _t=NaN,Fs=/^[-+]0x[0-9a-f]+$/i,Zs=/^0b[01]+$/i,Ms=/^0o[0-7]+$/i,Ws=parseInt;function At(t){if(typeof t=="number")return t;if(Pt(t))return _t;if(dt(t)){var s=typeof t.valueOf=="function"?t.valueOf():t;t=dt(s)?s+"":s}if(typeof t!="string")return t===0?t:+t;t=qs(t);var i=Zs.test(t);return i||Ms.test(t)?Ws(t.slice(2),i?2:8):Fs.test(t)?_t:+t}var ct=function(){return es.Date.now()},Es="Expected a function",Ns=Math.max,Vs=Math.min;function $s(t,s,i){var e,u,y,l,n,_,S=0,F=!1,Z=!1,R=!0;if(typeof t!="function")throw new TypeError(Es);s=At(s)||0,dt(i)&&(F=!!i.leading,Z="maxWait"in i,y=Z?Ns(At(i.maxWait)||0,s):y,R="trailing"in i?!!i.trailing:R);function k(g){var L=e,T=u;return e=u=void 0,S=g,l=t.apply(T,L),l}function c(g){return S=g,n=setTimeout(M,s),F?k(g):l}function m(g){var L=g-_,T=g-S,q=s-L;return Z?Vs(q,y-T):q}function r(g){var L=g-_,T=g-S;return _===void 0||L>=s||L<0||Z&&T>=y}function M(){var g=ct();if(r(g))return U(g);n=setTimeout(M,m(g))}function U(g){return n=void 0,R&&e?k(g):(e=u=void 0,l)}function w(){n!==void 0&&clearTimeout(n),S=0,e=_=u=n=void 0}function j(){return n===void 0?l:U(ct())}function D(){var g=ct(),L=r(g);if(e=arguments,u=this,_=g,L){if(n===void 0)return c(_);if(Z)return clearTimeout(n),n=setTimeout(M,s),k(_)}return n===void 0&&(n=setTimeout(M,s)),l}return D.cancel=w,D.flush=j,D}function Os({tokens:t,current:s,onSelect:i}){const e=d.useMemo(()=>t==null?void 0:t.map(l=>({label:l==null?void 0:l.symbol,value:l==null?void 0:l.coin_type})),[t]),u=d.useMemo(()=>{var l;return(l=e==null?void 0:e.filter(n=>(n==null?void 0:n.value)===(s==null?void 0:s.coin_type)))==null?void 0:l[0]},[e,s==null?void 0:s.coin_type]),y=l=>{var _;const n=(_=t==null?void 0:t.filter(S=>(S==null?void 0:S.coin_type)===(l==null?void 0:l.value)))==null?void 0:_[0];i(n)};return o.jsx(Ve,{w:"100%",mb:"8px",children:o.jsx(kt,{wrapStyle:{w:"100%",h:"48px",borderRadius:"12px",p:"3px"},itemStyle:{w:"50%",fontSize:"14px",borderRadius:"8px",fontWeight:"500"},type:"outlineTab",currentTab:u==null?void 0:u.label,tabList:e,handleChangeTab:y})})}const Us=(t,s)=>({currentTokens:[],setCurrentTokens:i=>{t(()=>({currentTokens:i}))},zapAmount:"",setZapAmount:i=>{t(()=>({zapAmount:i}))},currentZapToken:void 0,setCurrentZapToken:i=>{t(()=>({currentZapToken:i}))},zapAmountRate:"",setZapAmountRate:i=>{t(()=>({zapAmountRate:i}))},zapTokenBalance:void 0,setZapTokenBalance:i=>{t(()=>({zapTokenBalance:i}))},isPreLoading:!1,setIsPreLoading:i=>{t(()=>({isPreLoading:i}))},preDepositeData:void 0,setPreDepositeData:i=>{t(()=>({preDepositeData:i,isPreLoading:!1}))},zapApiPool:void 0,setZapApiPool:i=>{t(()=>({zapApiPool:i}))},lower:0,setLower:i=>{t(()=>({lower:i}))},upper:0,setUpper:i=>{t(()=>({upper:i}))},liquidity:"",setLiquidity:i=>{t(()=>({liquidity:i}))},zapCurrPriceData:{},setZapCurrPriceData:i=>{t(()=>({zapCurrPriceData:i}))},zapSlideValue:0,setZapSlideValue:i=>{t(()=>({zapSlideValue:Number(i==="--"?0:i)}))},posOriginAmounts:{},setPosOriginAmounts:i=>{t(()=>({posOriginAmounts:i}))},resetZapData:()=>{t(()=>({zapAmount:"",zapAmountRate:"",lower:0,upper:0,preDepositeData:void 0,isPreLoading:!1,liquidity:"",zapSlideValue:0,posOriginAmounts:{}}))}}),Qe=Rt(Us);function Ds(t,s,i,e,u,y,l,n,_,S){const{currentTokens:F,setCurrentTokens:Z,zapAmount:R,setZapAmount:k,currentZapToken:c,setCurrentZapToken:m,zapAmountRate:r,setZapAmountRate:M,setZapTokenBalance:U,zapTokenBalance:w,setPreDepositeData:j,setIsPreLoading:D,setZapApiPool:g,lower:L,upper:T,setLower:q,setUpper:G,setZapCurrPriceData:v,resetZapData:de,setLiquidity:be,setZapSlideValue:V,setPosOriginAmounts:p}=Qe(),{zapSlippage:W}=Ye(),{balanceInfo:C}=rs(c),{getTokenAmountValue:E}=st(),[pe,ye]=d.useState("");d.useEffect(()=>{q(e)},[e]),d.useEffect(()=>{G(u)},[u]),d.useEffect(()=>{be(n||"")},[n]),d.useEffect(()=>{V(_||0)},[_]),d.useEffect(()=>{p({coinAmountA:S==null?void 0:S.coinAmountA,coinAmountB:S==null?void 0:S.coinAmountB})},[S]),d.useEffect(()=>{var B,X;if(s!=null&&s.poolAddress&&i){const ne=(B=s==null?void 0:s.tokenA)==null?void 0:B.decimals,P=(X=s==null?void 0:s.tokenB)==null?void 0:X.decimals,ae=jt.sqrtPriceX64ToPrice(new vt(i),ne,P).toString();v({currentPrice:ae,currentSqrtPrice:i})}},[i,s==null?void 0:s.poolAddress]),d.useEffect(()=>{let B=[];s!=null&&s.poolAddress&&(B=[s==null?void 0:s.displayTokenA,s==null?void 0:s.displayTokenB],m(s==null?void 0:s.displayTokenA)),Z(B),g(s)},[s==null?void 0:s.poolAddress]);const Re=B=>{k(B)},ue=B=>{m(B),k("")};return d.useEffect(()=>{let B;R&&(c!=null&&c.coin_type)&&(B=E(c==null?void 0:c.coin_type,R)),M(B||"")},[R,c==null?void 0:c.coin_type]),d.useEffect(()=>{var B;if(t==="Deposit")U(C);else{const X=(c==null?void 0:c.coin_type)===((B=s==null?void 0:s.tokenA)==null?void 0:B.coin_type);U(X?{balanceFormat:y}:{balanceFormat:l})}},[t,C,y,l,c==null?void 0:c.coin_type,s==null?void 0:s.poolAddress]),d.useEffect(()=>()=>{de()},[]),{currentTokens:F,zapAmount:R,zapAmountRate:r,handleChangeAmount:Re,currentZapToken:c,handleChangeZapToken:ue,zapTokenBalance:w,zapSlippage:W}}function Hs({action:t,apiPoolInfo:s,currentSqrtPrice:i,lowerTick:e,upperTick:u,onlyAmountA:y,onlyAmountB:l,liquidity:n,slideValue:_,currentPosLiquidityData:S}){const{currentTokens:F,currentZapToken:Z,handleChangeZapToken:R,zapAmount:k,zapAmountRate:c,handleChangeAmount:m,zapTokenBalance:r}=Ds(t,s,i,e,u,y,l,n,_,S);return d.useEffect(()=>{t==="Withdraw"&&b(k).gt((r==null?void 0:r.balanceFormat)||"0")&&m(r==null?void 0:r.balanceFormat)},[k,t,r==null?void 0:r.balanceFormat]),o.jsxs(Ae,{w:"100%",children:[o.jsx(Os,{tokens:F,current:Z,onSelect:R}),o.jsx(ts,{wrapStyle:{h:"108px"},placeholder:"0.0",value:k,onChange:m,balance:(r==null?void 0:r.balanceFormat)||"",amountValue:c,token:Z,needRemainBalance:t!=="Withdraw",balanceLabel:t==="Withdraw"?"Available":void 0})]})}const Gs=(t,s)=>({fromAmount:"",setFromAmount:i=>{t(()=>({fromAmount:i}))},fromAmountValue:"",setFromAmountValue:i=>{t(()=>({fromAmountValue:i}))},toAmount:"",setToAmount:i=>{t(()=>({toAmount:i}))},toAmountValue:"",setToAmountValue:i=>{t(()=>({toAmountValue:i}))},liquidityAmount:"",setLiquidityAmount:i=>{t(()=>({liquidityAmount:i}))},tokenMaxA:"",setTokenMaxA:i=>{t(()=>({tokenMaxA:i}))},tokenMaxB:"",setTokenMaxB:i=>{t(()=>({tokenMaxB:i}))},byAmountIn:!0,setByAmountIn:i=>{t(()=>({byAmountIn:i}))},isTokenA:!0,setIsTokenA:i=>{t(()=>({isTokenA:i}))},percentMap:{percentA:"0",percentB:"0"},setPercentMap:i=>{t(()=>({percentMap:i}))},isFullRange:!1,setIsFullRange:i=>{t(()=>({isFullRange:i}))},fromToken:void 0,setFromToken:i=>{t(()=>({fromToken:i}))},fromTokenLock:!1,setFromTokenLock:i=>{t(()=>({fromTokenLock:i}))},toToken:void 0,setToToken:i=>{t(()=>({toToken:i}))},toTokenLock:!1,setToTokenLock:i=>{t(()=>({toTokenLock:i}))},totalAmount:void 0,setTotalAmount:i=>{t(()=>({totalAmount:i}))},autoStakePosition:!1,setAutoStakePosition:i=>{t(()=>({autoStakePosition:i}))},isFarmRewardsRange:!1,setIsFarmRewardsRange:i=>{t(()=>({isFarmRewardsRange:i}))},useZapIn:!1,setUseZapIn:i=>{t(()=>({useZapIn:i}))},confirmModalOpen:!1,setConfirmModalOpen:i=>{t(()=>({confirmModalOpen:i}))},nftOpen:!1,setNftOpen:i=>{t(()=>({nftOpen:i}))},relatedPosId:"",setRelatedPosId:i=>{t(()=>({relatedPosId:i}))},resetAddLiquidity:()=>{t(()=>({isFarmRewardsRange:!1,autoStakePosition:!1,totalAmount:void 0,fromTokenLock:!1,fromToken:void 0,toTokenLock:!1,toToken:void 0,isFullRange:!1,percentMap:{percentA:"0",percentB:"0"},fromAmount:"",toAmount:"",fromAmountValue:"",toAmountValue:"",liquidityAmount:"",byAmountIn:!0,isTokenA:!0,useZapIn:!1,nftOpen:!1,relatedPosId:""}))}}),Mt=Rt(Gs);function Wt(t="Deposit"){var je,ve;const{zapAmount:s,currentZapToken:i,zapAmountRate:e,zapTokenBalance:u,isPreLoading:y,preDepositeData:l,zapApiPool:n,setIsPreLoading:_,lower:S,upper:F,liquidity:Z,zapCurrPriceData:R,setPreDepositeData:k,zapSlideValue:c}=Qe();console.log("ðŸš€ ~ useZapSubmit ~ zapCurrPriceData:",R);const{currentAccount:m,onWalletModal:r}=ze(),{setConfirmModalOpen:M}=Mt(),U=et("zap"),{zapSlippage:w,slippage:j}=Ye(),[D,g]=d.useState(""),[L,T]=d.useState(!1),{getTokenPrice:q}=st(),G=q((je=n==null?void 0:n.tokenA)==null?void 0:je.coin_type),v=q((ve=n==null?void 0:n.tokenB)==null?void 0:ve.coin_type),de=d.useMemo(()=>{if(G&&v)return b(G.price).div(v.price).toString()},[G==null?void 0:G.price,v==null?void 0:v.price]),be=d.useMemo(()=>{const x={text:t==="Withdraw"?"Zap Out":"Zap In",disabled:!1};return m!=null&&m.address?!s||s&&!+s?(x.text="Enter an amount",x.disabled=!0,x):b(s).gt((u==null?void 0:u.balanceFormat)||0)?(x.disabled=!0,x.text=`Insufficient ${Ct(u==null?void 0:u.symbol,10)} Balance`,x):((b(e).gt(1e4)||b(e).gt(0)&&b(e).lt(1e-4))&&(x.disabled=!0),x):(x.text="Connect Wallet",x.disabled=!1,x)},[m==null?void 0:m.address,s,i==null?void 0:i.coin_type,y,t,u==null?void 0:u.balanceFormat]),V=$s(()=>{m?M(!0):r(!0)},300,{leading:!0,trailing:!1}),p=()=>{const x=l==null?void 0:l.amount_a,h=l==null?void 0:l.amount_b,a=n==null?void 0:n.tokenA,A=n==null?void 0:n.tokenB,$=n==null?void 0:n.displayTokenA,le=n==null?void 0:n.displayTokenB,ee=Ze(n!=null&&n.isReverse?h:x,n!=null&&n.isReverse?A==null?void 0:A.decimals:a==null?void 0:a.decimals),te=Ze(n!=null&&n.isReverse?x:h,n!=null&&n.isReverse?a==null?void 0:a.decimals:A==null?void 0:A.decimals);return{amountA:x,amountB:h,tokenA:a,tokenB:A,displayTokenA:$,displayTokenB:le,dispalyAmountA:ee,dispalyAmountB:te}},W=()=>{const{displayTokenA:x,displayTokenB:h,dispalyAmountA:a,dispalyAmountB:A}=p();return{getShowInfo:(le,ee)=>{const te=!a&&!A?`Add ${a} ${x==null?void 0:x.symbol} and ${A} ${h==null?void 0:h.symbol}`:a?A?"Add Liquidity":`Add ${A} ${h==null?void 0:h.symbol}`:`Add ${a} ${x==null?void 0:x.symbol}`,K={modalDescriptionText:te,toastTitleText:te};if(le==="success"){let re=a,ie=A;ee&&(re=Ge(ee,x)||a,ie=Ge(ee,h)||A);const me=!a&&!A?`Add ${re} ${x==null?void 0:x.symbol} and ${ie} ${h==null?void 0:h.symbol}`:!a&&A?`Add ${re} ${x==null?void 0:x.symbol}`:!A&&a?`Add ${ie} ${h==null?void 0:h.symbol}`:"Add Liquidity";K.toastDescriptionContent=me,K.modalDescriptionText=me,K.toastTitleText="Supplied Successful"}return K}}},C=async(x,h,a,A)=>{console.log("ðŸš€ ~ getZapDepositTx ~ isFarm:",a);const{tokenA:$,tokenB:le}=p(),ee={deposit_obj:l,pool_id:n==null?void 0:n.poolAddress,coin_type_a:$==null?void 0:$.coin_type,coin_type_b:le==null?void 0:le.coin_type,tick_lower:x,tick_upper:h,slippage:Number(j),swap_slippage:Number(w)};A&&(ee.pos_obj=A),a&&(ee.farms_pool_id=n==null?void 0:n.farmsPoolAddress),console.log("getZapTx buildDepositPayload params: ",ee);const te=await U.Zap.buildDepositPayload(ee);return console.log("ðŸš€ ~ getZapTx ~ tx:",te),te},E=(x,h)=>{const{displayTokenA:a,displayTokenB:A,dispalyAmountA:$,dispalyAmountB:le}=p();return{getShowInfo:(te,K)=>{const re=`Withdraw ${ke(s,i==null?void 0:i.decimals)} ${i==null?void 0:i.symbol}`,ie={modalDescriptionText:re,toastTitleText:re};return te==="success"&&(K&&(Ge(K,a),Ge(K,A)),ie.toastDescriptionContent="",ie.modalDescriptionText="",ie.toastTitleText="Remove Liquidity Successful"),ie}}},pe=async(x,h,a,A,$,le)=>{console.log("ðŸš€ ~ getZapWithdrawTx ~ isFarm:",le),console.log("ðŸš€ ~ useZapSubmit ~ getZapWithdrawTx preDepositeData:",l);const{tokenA:ee,tokenB:te}=p(),K={withdraw_obj:l,pool_id:n==null?void 0:n.poolAddress,pos_id:x,close_pos:(l==null?void 0:l.burn_liquidity)===h,collect_fee:!0,collect_rewarder_types:$,coin_type_a:ee==null?void 0:ee.coin_type,coin_type_b:te==null?void 0:te.coin_type,tick_lower:a,tick_upper:A,slippage:Number(j),swap_slippage:Number(w)};return le&&(K.farms_pool_id=n==null?void 0:n.farmsPoolAddress),console.log("ðŸš€ ~ useZapSubmit ~ getZapWithdrawTx params:",K),await U.Zap.buildWithdrawPayload(K)},ye=d.useRef({}),Re=d.useRef(null),ue=d.useRef("");d.useEffect(()=>{ye.current={currentZapToken:i,zapApiPool:n,zapAmount:s,currentSqrtPrice:R==null?void 0:R.currentSqrtPrice,lower:S,upper:F,liquidity:Z,zapSlippage:w,zapAmountRate:e,marketPrice:de}},[i==null?void 0:i.coin_type,n==null?void 0:n.poolAddress,s,R==null?void 0:R.currentSqrtPrice,S,F,Z,w,e,de]);const B=d.useMemo(()=>!!(i!=null&&i.decimals&&b(s).mul(Math.pow(10,i==null?void 0:i.decimals)).eq(1)),[i==null?void 0:i.decimals,s]),X=async x=>{var N,Y,H,J,Le;console.log("ðŸš€ ~ preZapIn ~ preZapIn:",X);const{currentZapToken:h,zapApiPool:a,zapAmount:A,currentSqrtPrice:$,lower:le,upper:ee,liquidity:te,zapSlippage:K,marketPrice:re}=ye.current;_(!0);const me=(h==null?void 0:h.coin_type)===((N=a==null?void 0:a.tokenA)==null?void 0:N.coin_type)?"OnlyCoinA":"OnlyCoinB",Ce=Fe(b(A).mul(Math.pow(10,h==null?void 0:h.decimals)).toString(),0);console.log("ðŸš€ ~ preZapIn ~ options.zapSlippage:",j,K);const Se={pool_id:a==null?void 0:a.poolAddress,tick_lower:le,tick_upper:ee,current_sqrt_price:$,slippage:Number(j),swap_slippage:Number(K),mark_price:re};console.log("ðŸš€ ~ preZapIn ~ options123:",Se);const fe={mode:me,coin_amount:Ce,coin_type_a:(Y=a==null?void 0:a.tokenA)==null?void 0:Y.coin_type,coin_type_b:(H=a==null?void 0:a.tokenB)==null?void 0:H.coin_type,coin_decimal_a:(J=a==null?void 0:a.tokenA)==null?void 0:J.decimals,coin_decimal_b:(Le=a==null?void 0:a.tokenB)==null?void 0:Le.decimals,max_remain_rate:.01};console.log("ðŸš€ ~ preZapIn ~ modeOptions:",fe);let _e;try{_e=await U.Zap.preCalculateDepositAmount(Se,fe),console.log("ðŸš€ ~ preZapIn ~ res:",_e)}catch(ce){console.log("ðŸš€ ~ preZapIn ~ error:",ce),T(!0)}x===ue.current&&k(_e),_(!1)},ne=async x=>{var Se,fe,_e,N,Y;_(!0);const{currentZapToken:h,zapApiPool:a,zapAmount:A,currentSqrtPrice:$,lower:le,upper:ee,liquidity:te,zapSlippage:K}=ye.current,ie=(h==null?void 0:h.coin_type)===((Se=a==null?void 0:a.tokenA)==null?void 0:Se.coin_type)?"OnlyCoinA":"OnlyCoinB";b(A).mul(Math.pow(10,h==null?void 0:h.decimals)).toString();const me={mode:ie,pool_id:a==null?void 0:a.poolAddress,tick_lower:le,tick_upper:ee,current_sqrt_price:$,coin_type_a:(fe=a==null?void 0:a.tokenA)==null?void 0:fe.coin_type,coin_type_b:(_e=a==null?void 0:a.tokenB)==null?void 0:_e.coin_type,coin_decimal_a:(N=a==null?void 0:a.tokenA)==null?void 0:N.decimals,coin_decimal_b:(Y=a==null?void 0:a.tokenB)==null?void 0:Y.decimals};b(A).gte(u==null?void 0:u.balanceFormat)?me.burn_liquidity=te:me.burn_liquidity=Fe(b(te).mul(b(c).div(100)).toString(),0),console.log("ðŸš€ ~ preZapInRemove ~ options:",me);let Ce;try{Ce=await U.Zap.preCalculateWithdrawAmount(me),console.log("ðŸš€ ~ preZapInRemove ~ res:",Ce)}catch(H){console.log("ðŸš€ ~ preZapOut ~ error:",H),T(!0)}x===ue.current&&k(Ce),_(!1)},P=pt(X,300),ae=pt(ne,300);d.useEffect(()=>{Te()},[s,i==null?void 0:i.coin_type,R==null?void 0:R.currentSqrtPrice,S,F,c,e]);const We=()=>{var x;(x=Re.current)==null||x.reset()},Te=()=>{T(!1);const{zapAmount:x,zapAmountRate:h}=ye.current;if(console.log("ðŸš€ ~ reCalculateZapData ~ zapAmount:",x),console.log("ðŸš€ ~ reCalculateZapData ~ zapAmountRate:",h),console.log("ðŸš€ ~ reCalculateZapData ~ zapAmountRate:",h),!Number(x)||b(h).gt(1e4)||b(h).lt(1e-4)||B){const A=tt();ue.current=A,k(void 0),_(!1);return}_(!0);const a=tt();ue.current=a,t=="Deposit"?P(a):ae(a)};return d.useEffect(()=>{We()},[s,n==null?void 0:n.poolAddress,t]),d.useEffect(()=>()=>{We(),ye.current=null},[]),{btnText:be.text,btnDisabled:be.disabled,handleZapIn:V,isPreLoading:y,getZapDepositToastInfo:W,getZapDepositTx:C,getZapWithdrawToastInfo:E,getZapWithdrawTx:pe,zapProgressRef:Re,handleResetZapProgress:We,reCalculateZapData:Te,isMinimumPrecision:B,zapNotAvailable:L}}function zs({action:t,onClick:s,hideAmountInfo:i,otherLoading:e,isReverse:u,inConfirmModal:y,hideDepositRatio:l}){const{currentAccount:n,onWalletModal:_}=ze(),{btnDisabled:S,btnText:F,handleZapIn:Z,zapProgressRef:R,reCalculateZapData:k,isMinimumPrecision:c,zapNotAvailable:m}=Wt(t),r=()=>{if(!n){_(!0);return}s?s():Z()},[M,U]=d.useState(!1),{zapSlippage:w}=Ye(),{getTokenAmountValue:j}=st(),{zapSlideValue:D,preDepositeData:g,currentTokens:L,currentZapToken:T,zapAmount:q,isPreLoading:G,zapApiPool:v,lower:de,upper:be,zapCurrPriceData:V,posOriginAmounts:p,zapAmountRate:W}=Qe(),{fromCoin:C,toCoin:E}=d.useMemo(()=>{var H;const N=T,Y=(H=L==null?void 0:L.filter(J=>(J==null?void 0:J.coin_type)!==(T==null?void 0:T.coin_type)))==null?void 0:H[0];return t==="Withdraw"?{fromCoin:Y,toCoin:N}:{fromCoin:N,toCoin:Y}},[T==null?void 0:T.coin_type,L,t]),{fromAmount:pe,toAmount:ye}=d.useMemo(()=>{var H,J;let N,Y;return g&&(C!=null&&C.coin_type)&&(E!=null&&E.coin_type)&&(N=Ze((H=g==null?void 0:g.swap_result)==null?void 0:H.swap_in_amount,C==null?void 0:C.decimals),Y=Ze((J=g==null?void 0:g.swap_result)==null?void 0:J.swap_out_amount,E==null?void 0:E.decimals)),{fromAmount:N,toAmount:Y}},[g,C==null?void 0:C.coin_type,E==null?void 0:E.coin_type]),{sources:Re,priceImpactTextInfo:ue,showPriceImpactTips:B}=cs(C,E,pe,ye),[X,ne]=d.useState(!1),P=()=>{ne(!X)},ae=d.useMemo(()=>ye?ke(b(ye).sub(b(ye).mul(w)).toString()):"--",[w,ye]),We=d.useMemo(()=>{var N;return(N=g==null?void 0:g.swap_result)==null?void 0:N.swap_price},[g]),Te=()=>{console.log("ZapRoute handleRefresh"),k()},{tokenA:je,tokenB:ve,coinAmountA:x,coinAmountB:h,displayCoinAmountA:a,displayCoinAmountB:A,displayTokenA:$,displayTokenB:le,displayAmountARate:ee,displayAmountBRate:te,amountARate:K,amountBRate:re}=d.useMemo(()=>{let N,Y,H,J,Le,ce;const Ee=v==null?void 0:v.isReverse;return g&&(v!=null&&v.poolAddress)&&(H=v==null?void 0:v.tokenA,J=v==null?void 0:v.tokenB,N=Ze(g==null?void 0:g.amount_a,H==null?void 0:H.decimals),Y=Ze(g==null?void 0:g.amount_b,J==null?void 0:J.decimals),Le=j(H==null?void 0:H.coin_type,N),ce=j(J==null?void 0:J.coin_type,Y)),{displayCoinAmountA:Ee?Y:N,displayCoinAmountB:Ee?N:Y,displayTokenA:Ee?J:H,displayTokenB:Ee?H:J,displayAmountARate:Ee?ce:Le,displayAmountBRate:Ee?Le:ce,tokenA:H,tokenB:J,coinAmountA:N,coinAmountB:Y,amountARate:Le,amountBRate:ce}},[g,v==null?void 0:v.poolAddress]),{originPosAmountA:ie,originPosAmountB:me}=d.useMemo(()=>{let N="",Y="";if(v!=null&&v.poolAddress&&(p!=null&&p.coinAmountA||p!=null&&p.coinAmountB)){const H=v==null?void 0:v.tokenA,J=v==null?void 0:v.tokenB;N=Ze(p==null?void 0:p.coinAmountA,H==null?void 0:H.decimals),Y=Ze(p==null?void 0:p.coinAmountB,J==null?void 0:J.decimals)}return{originPosAmountA:N,originPosAmountB:Y}},[p,v==null?void 0:v.poolAddress]),[Ce,Se]=d.useState({});d.useEffect(()=>{if(x||h){const N=gs(de,be),Y=xs(x||0,h||0,V==null?void 0:V.currentPrice,N);Se(Y)}},[x,h,V==null?void 0:V.currentPrice]);const{isApp:fe}=ut(),_e=d.useMemo(()=>b(W).gt(1e4)?"In Zap mode, each request should be within $10,000.":b(W).gt(0)&&(b(W).lt(1e-4)||c)?"The input is too small. Zap mode is not available.":m?"Zap mode is not available.":"",[W,t,c,m]);return o.jsx(o.Fragment,{children:o.jsxs(Ae,{gap:"0px",w:"100%",borderRadius:"16px",border:"1px solid",borderColor:y?"rgba(0,0,0,0)":"border",bg:y?"none":"bg_six",p:{base:y?"0px":"0px 8px",lg:y?"0px":"0px 16px"},children:[!y&&o.jsx(Ue,{w:{base:"calc(100% + 16px)",lg:"calc(100% + 34px)"},h:"52px",margin:"-1px -1px 0px",fontSize:"18px",fontWeight:"500",borderRadius:"12px",isDisabled:(G||S||e||B||!!_e)&&(n==null?void 0:n.address),isLoading:G||e,onClick:r,children:F}),!!Number(q)&&o.jsx(Ae,{w:"100%",gap:"0px",children:_e?o.jsx(Ve,{w:"100%",p:"12px 0px",children:o.jsx(yt,{tips:_e})}):o.jsxs(o.Fragment,{children:[B&&o.jsx(Ve,{w:"100%",pt:"12px",children:o.jsx(yt,{tips:"High price difference. Be cautious before submitting your order."})}),y&&o.jsxs(Q,{w:"100%",justify:"space-between",children:[o.jsx(z,{fontSize:"14px",color:"text_paragraph",children:"Zap Amount"}),o.jsx(z,{fontSize:"14px",color:"text_caption",children:Lt(W,2)})]}),Number(q)>0&&Number(pe)>0&&o.jsxs(Ae,{w:"100%",gap:"12px",pt:"16px",pb:y?"0px":"16px",children:[o.jsx(Q,{w:"100%",justify:"space-between",children:o.jsx(z,{fontSize:"14px",color:"text_paragraph",children:"Zap Route"})}),o.jsxs(Ae,{w:"100%",bg:y?"bg_secondary":"none",borderRadius:"12px",p:y?"0px 12px":"0px",gap:y?"4px":"12px",border:"1px solid",borderColor:y?"border":"rgba(0,0,0,0)",flexDirection:t==="Withdraw"?"column-reverse":"column",children:[o.jsxs(Ae,{w:"100%",align:"flex-start",bg:y?"none":"button_outline_hov_bg",p:y?"16px 0px":"16px 12px",borderRadius:y?"0px":"12px",borderBottom:"1px solid",borderColor:y?"border":"rgba(0,0,0,0)",children:[o.jsx(Q,{w:"100%",align:"center",children:o.jsxs(Ae,{w:"100%",align:"flex-start",onClick:()=>{U(!M)},children:[o.jsx(Q,{w:"100%",justify:"flex-start",children:G?o.jsx(Ke,{w:"100%",h:"16px"}):o.jsxs(z,{w:"100%",fontSize:"12px",color:"text_caption",textAlign:"left",children:["Swap ",ke(pe)," ",C==null?void 0:C.symbol," for ",ae," ",E==null?void 0:E.symbol]})}),G?o.jsx(Ke,{w:"150px",h:"16px"}):o.jsxs(Q,{w:"100%",justify:"space-between",align:{base:"flex-start",lg:"center"},flexDirection:{base:"column",lg:"row"},children:[o.jsxs(Q,{gap:"4px",justify:"space-between",w:{base:"100%",lg:"unset"},children:[o.jsxs(Q,{gap:"4px",children:[o.jsx(ms,{callbackInterval:20,ref:R,min:0,max:20,size:"14px",noBg:!0,thickness:"16px",onClick:Te}),o.jsxs(Q,{flexWrap:"wrap",children:[o.jsx(z,{fontSize:"12px",color:"text_paragraph",children:"Price Difference"}),o.jsx(z,{color:ue==null?void 0:ue.textColor,fontSize:"12px",children:ue==null?void 0:ue.priceImpactText}),Re==null?void 0:Re.map(N=>o.jsx(ds,{market:N},N))]})]}),fe&&o.jsx(Pe,{xlinkHref:"#icon-icon_arrow",svgW:"12px",svgH:"12px",transform:M?"rotate(180deg)":"rotate(0deg)"})]}),o.jsxs(Q,{align:"center",gap:"2px",children:[y?o.jsxs(Q,{gap:"4px",children:[o.jsx(z,{fontSize:"12px",color:"text_paragraph",children:"Slippage"}),o.jsxs(z,{fontSize:"12px",color:"text_caption",children:[b(w).mul(100).toString(),"%"]})]}):o.jsx(ps,{slippageType:"zap",toolTipText:"Slippage Tolerance"}),!fe&&o.jsx(Pe,{xlinkHref:"#icon-icon_arrow",svgW:"12px",svgH:"12px",transform:M?"rotate(180deg)":"rotate(0deg)"})]})]})]})}),M&&o.jsxs(Q,{w:"100%",justify:"space-between",bg:"bg_fifth",h:"52px",borderRadius:"12px",p:"0px 8px",children:[o.jsx(z,{fontSize:"12px",color:"text_paragraph",children:"Swap Rate"}),G?o.jsx(Ke,{w:"150px",h:"16px"}):o.jsxs(Q,{children:[X?o.jsxs(z,{fontSize:"12px",color:"text_caption",children:["1 ",E==null?void 0:E.symbol," = ",gt(1/We)," ",C==null?void 0:C.symbol]}):o.jsxs(z,{fontSize:"12px",color:"text_caption",children:["1 ",C==null?void 0:C.symbol," = ",gt(We)," ",E==null?void 0:E.symbol]}),o.jsx(Pe,{xlinkHref:"#icon-icon_swap1",svgW:"16px",svgH:"16px",onClick:P})]})]})]}),o.jsxs(Ae,{w:"100%",p:y?"16px 0px":"16px 12px",bg:y?"none":"button_outline_hov_bg",borderRadius:"12px",gap:"12px",children:[l?o.jsx(z,{w:"100%",textAlign:"left",fontSize:"12px",color:"text_caption",children:t==="Withdraw"?"Expected Amounts of Remove":"Expected Amounts to Add"}):o.jsx(us,{tokenA:je,tokenB:ve,percentMap:Ce,type:"zap",isLoading:G,isReverse:u,label:"Expected Amounts to Add"}),o.jsxs(Q,{bg:"text_highlight_opacity.10",w:"100%",h:"52px",justify:"space-between",align:"center",borderRadius:"12px",children:[o.jsx(St,{token:u?ve:je,amount:u?ke(D==100?me:h):ke(D==100?ie:x),rate:u?re:K,loading:G}),o.jsx(Ve,{bg:"bg_fifth",w:"1px",h:"100%"}),o.jsx(St,{token:u?je:ve,amount:u?ke(D==100?ie:x):ke(D==100?me:h),loading:G,rate:u?K:re,align:"right"})]})]})]})]})]})})]})})}function St({token:t,amount:s,rate:i,loading:e,align:u="left"}){return o.jsxs(Q,{flex:"1",gap:"8px",p:"12px",justify:"flex-start",flexDirection:u==="left"?"row":"row-reverse",children:[e?o.jsx(Dt,{size:"20px"}):o.jsx(ss,{imageUrl:t==null?void 0:t.logo_url,w:"20px",h:"20px"}),o.jsxs(Ae,{align:`flex-${u==="left"?"start":"end"}`,gap:"4px",children:[e?o.jsx(Ke,{w:"50px",h:"14px"}):o.jsxs(z,{fontSize:"12px",color:"text_caption",textAlign:`${u==="left"?"left":"right"}`,children:[s," ",Ct(t==null?void 0:t.symbol,10)]}),e?o.jsx(Ke,{w:{base:"70px",lg:"100px"},h:"12px"}):o.jsx(z,{fontSize:"12px",color:"text_paragraph",children:Lt(i,2)})]})]})}function Xs(t,s){return{currentApiPoolInfo:d.useMemo(()=>{if(t!=null&&t.clmmPool)return s==null?void 0:s[t==null?void 0:t.clmmPool]},[t==null?void 0:t.clmmPool,s])}}function Js(){const{setCurrentPriceData:t}=Zt();return{getCurrentPrice:(i,e)=>{if(e.tokenA&&e.tokenB){const u=e.tokenA.decimals,y=e.tokenB.decimals,l=jt.sqrtPriceX64ToPrice(new vt(i),u,y).toString(),n=b(1).div(l).toString(),_={currentPrice:l,reverseCurrentPrice:n,currentSqrtPrice:i,pool:e.poolAddress};t(_)}}}}function Ks(){const t=et("clmm"),{fetchTokenInfo:s}=ws(),{contractPoolInfo:i,setContractPoolInfo:e,setContractPoolInfoLoading:u,apiPoolInfo:y,setApiPoolInfo:l,setApiPoolInfoLoading:n}=Zt(),{setFromToken:_,setToToken:S}=Mt(),{getCurrentPrice:F}=Js(),Z=async k=>{u(!0);let c=null;try{const m=await t.Pool.getPool(k);if(c={...m,coinAmountA:String(m.coin_amount_a),coinAmountB:String(m.coin_amount_b),coinTypeA:m.coin_type_a,coinTypeB:m.coin_type_b,poolAddress:m.id,poolType:m.pool_type,tickSpacing:Number(m.tick_spacing),current_sqrt_price:String(m.current_sqrt_price),fee_growth_global_a:String(m.fee_growth_global_a),fee_growth_global_b:String(m.fee_growth_global_b),fee_protocol_coin_a:String(m.fee_protocol_coin_a),fee_protocol_coin_b:String(m.fee_protocol_coin_b),fee_rate:String(m.fee_rate),liquidity:String(m.liquidity),rewarder_infos:m.rewarder_infos.map(r=>({coinAddress:r.coin_type,emissionsEveryDay:r.emissions_per_second,emissions_per_second:String(r.emissions_per_second),growth_global:String(r.growth_global)}))},console.log(k,c,"poolAddress"),console.log("ðŸš€ ~ getContractPoolInfo ~ poolInfo:",{poolInfo:c,apiPoolInfo:y}),(y==null?void 0:y.displayTokenA)===void 0){const r=await R(c);r&&(l(r),n(!1),F(c==null?void 0:c.current_sqrt_price,r),_(r==null?void 0:r.displayTokenA),S(r==null?void 0:r.displayTokenB))}}catch(m){console.log("getContractPoolInfo ~ error:",m)}finally{u(!1)}return i?c?(e(c),c):i:(e(c||null),c)};async function R(k){const c=await s(k.coinTypeA),m=await s(k.coinTypeB);if(c&&m){const r=`${c==null?void 0:c.symbol} - ${m==null?void 0:m.symbol}`,M=Me(k.fee_rate).div(100).toString(),U=Me(k.fee_rate).div(1e4).toString(),w=Me(M).div(100).toString()+"%",j=!ys(k.coinTypeA,k.coinTypeB);return{poolAddress:k.poolAddress,name:r,isReverse:j,tokenA:c,tokenB:m,displayTokenA:j?m:c,displayTokenB:j?c:m,haveMining:!1,miningRewardList:null,miningAprList:null,haveFarming:!1,farmsRewarderList:null,farmsApr:"",farmingAprDisplay:"",feeApr:"",feeAprDisplay:"",miningAprTotal:"",feeAndMiningAprDisplay:"",totalAprDisplay:"",fee:U,feeRate:M,feeDisplay:w,tvlDisplay:"0",volume24Display:"0",fees24Display:"0",isVaults:!1,tickSpacing:k.tickSpacing.toString()}}}return{getContractPoolInfo:Z}}function Ys(){const t=et("clmm"),s=et("farms"),{slippage:i}=Ye(),{currentAccount:e}=ze(),u=async n=>{const{posId:_,poolAddress:S,coinTypeA:F,coinTypeB:Z,amountA:R,amountB:k,liquidity:c,lowerTick:m,upperTick:r,posType:M,rewarderCoinTypes:U,farmsPoolId:w,farmsPosId:j}=n,D=b(R).mul(b(1).sub(b(i))),g=b(k.toString()).mul(b(1).sub(b(i)));if(console.log("ðŸš€ ~ getRemoveTsPayload ~ minAmountA:",D,g),M==="clmm"){const L={coin_type_a:F,coin_type_b:Z,pool_id:S,pos_id:_,delta_liquidity:c,min_amount_a:Fe(D.toString(),0)||"",min_amount_b:Fe(g.toString(),0)||"",collect_fee:!0,rewarder_coin_types:U};console.log("ðŸš€ ~ getRemoveTsPayload ~ parameter:",L);const T=await t.Position.removeLiquidityPayload(L),q={action:rt.DecreaseLiquidity,txbParams:L};return console.log("ðŸš€ ~ getRemoveTsPayload ~ msafeParams:",T,q),{tx:T,msafeParams:q}}else{const L={pool_id:w||"",coin_type_a:F,coin_type_b:Z,position_nft_id:j||"",clmm_pool_id:S,min_amount_a:Fe(D.toString(),0)||"",min_amount_b:Fe(g.toString(),0)||"",collect_rewarder:!1,clmm_rewarder_types:U,delta_liquidity:c,unstake:!1,close_position:!1};console.log("ðŸš€ ~ getRemoveTsPayload ~ parameter:",L);const T=await s.Farms.removeLiquidityPayload(L),q={action:"FarmingDecreaseLiquidity",txbParams:L};return console.log("ðŸš€ ~ getRemoveTsPayload ~ msafeParams:",q,T),{tx:T,msafeParams:q}}},y=async(n,_)=>{const{posId:S,poolAddress:F,coinTypeA:Z,coinTypeB:R,amountA:k,amountB:c,liquidity:m,lowerTick:r,upperTick:M,posType:U,rewarderCoinTypes:w,farmsPoolId:j,farmsPosId:D}=n,g=b(k).mul(b(1).sub(b(i))),L=b(c.toString()).mul(b(1).sub(b(i)));if(console.log("ðŸš€ ~ getCloseTsPayload ~ minAmountA:",n,g.toString(),L.toString()),console.log("ðŸš€ ~ getCloseTsPayload ~ parameter.rewarderCoinTypes:",w),U==="clmm"){const T={coin_type_a:Z,coin_type_b:R,pool_id:F,pos_id:S||"",min_amount_a:Fe(g.toString(),0)||"",min_amount_b:Fe(L.toString(),0)||"",rewarder_coin_types:w,collect_fee:!1};console.log("ðŸš€ ~ getCloseTsPayload ~ parameter:",T);const q=await t.Position.closePositionPayload(T,_),G={action:rt.RemoveLiquidity,txbParams:T};return console.log("ðŸš€ ~ getCloseTsPayload ~ msafeParams:",q,G),{tx:q,msafeParams:G}}else{const T={pool_id:j||"",coin_type_a:Z,coin_type_b:R,position_nft_id:D||"",clmm_pool_id:F,min_amount_a:Fe(g.toString(),0)||"",min_amount_b:Fe(L.toString(),0)||"",collect_fee:!0,collect_rewarder:!0,clmm_rewarder_types:w,delta_liquidity:m,unstake:!0,close_position:!0,clmm_position_id:S};console.log("ðŸš€ ~ getCloseTsPayload ~ parameter:",T);const q=await s.Farms.removeLiquidityPayload(T,_),G={action:rt.FarmingRemoveLiquidity,txbParams:T};return console.log("ðŸš€ ~ getCloseTsPayload ~ msafeParams:",G,q),{tx:q,msafeParams:G}}};return{getRemoveTsPayload:u,getCloseTsPayload:y,getCloseTsPayloadAll:async n=>{const _=new is;_.setSender(e==null?void 0:e.address);const S=await Promise.all(n.map(F=>y(F,_)));return console.log("ðŸš€ ~ getCloseTsPayloadAll ~ results:",S),S[0]}}}function Qs(){const{transactionConfirmation:t}=hs(),{getTokenAmountValue:s}=st(),{getCoinAmountFromLiquidity:i}=fs(),{currentPosBaseInfo:e,posLiquidityData:u,posRewardsData:y,setPosBaseList:l,posApiPoolData:n}=it(),{getCurrentPosBaseInfo:_}=Ft(),{preAdd:S}=Ts(),{getRemoveTsPayload:F,getCloseTsPayload:Z}=Ys(),{getTokenALock:R,getTokenBLock:k}=qt(),{setTokenAmountAfterA:c,setTokenAmountAfterB:m,currentPosPoolInfo:r,currentPoolSqrtPrice:M,setIsFixedDisplayTokenA:U,slideValue:w,setSlideValue:j,isFixedDisplayTokenA:D,isPosDetailRefresh:g,currentPosDetailTab:L,useZapIn:T,curPosContractPoolInfo:q}=ot(),{getZapWithdrawToastInfo:G,getZapWithdrawTx:v,reCalculateZapData:de}=Wt("Withdraw"),{getContractPoolInfo:be}=Ks(),{preDepositeData:V,currentZapToken:p,setZapAmount:W,zapAmount:C}=Qe(),{currentApiPoolInfo:E}=Xs(e,n),pe=y[e==null?void 0:e.posId],{mevProtect:ye,maxCapForGas:Re,transactionMode:ue,customGasPrice:B}=Ye(),[X,ne]=d.useState(""),[P,ae]=d.useState(""),[We,Te]=d.useState(!1),[je,ve]=d.useState(""),x=e==null?void 0:e.displayTokenA,h=e==null?void 0:e.displayTokenB,a=u[e==null?void 0:e.posId],A=ke(a==null?void 0:a.displayCoinAmountA,void 0,!0),$=ke(a==null?void 0:a.displayCoinAmountB,void 0,!0),le=s(x==null?void 0:x.coin_type,X),ee=s(h==null?void 0:h.coin_type,P);d.useEffect(()=>{if(+X||+P){const f=+X,O=+P,I=b(+A).sub(f),oe=b($).sub(O);console.log("ðŸš€ ~ useEffect ~ numA.gt(0):",I.toString(),oe.toString()),c(I.gt(0)?I.toString():"0"),m(oe.gt(0)?oe.toString():"0")}else c(""),m("")},[X,P]);const[te,K]=d.useState(""),re=d.useRef("");d.useEffect(()=>{console.log("ðŸš€ ~ usePosRemovePage ~ uuid:",te),re.current=te},[te]);const ie=()=>{ne(""),ae(""),Te(!1),K(""),j("--")},me=d.useMemo(()=>R(e,q),[q==null?void 0:q.current_tick_index,e]),Ce=d.useMemo(()=>k(e,q),[q==null?void 0:q.current_tick_index,e]),Se=e!=null&&e.isReverse?Ce:me,fe=e!=null&&e.isReverse?me:Ce;d.useEffect(()=>{ie()},[Se,fe]);const _e=pt((f,O,I)=>{var Xe,Oe;console.log("ðŸš€ ~ debouncedPreCalculate ~ params:",f);const oe=O?(Xe=e==null?void 0:e.displayTokenA)==null?void 0:Xe.decimals:(Oe=e==null?void 0:e.displayTokenB)==null?void 0:Oe.decimals,ge=os(f,oe),se=e==null?void 0:e.tokenA,xe=e==null?void 0:e.tokenB,qe=e==null?void 0:e.lowerTick,De=e==null?void 0:e.upperTick,he=e==null?void 0:e.isReverse,we={amount:ge,tokenA:se,tokenB:xe,isTokenA:he?!O:O,lowerTick:qe,upperTick:De,curSqrtPrice:M,isReverse:he,roundUp:!1};console.log("ðŸš€ ~ debouncedPreCalculate ~ params:",we);const{displayCoinAmountA:Ne,displayCoinAmountB:Be,liquidityAmount:$e}=S(we);if(console.log("ðŸš€ ~ debouncedPreCalculate:",Ne,Be,we,O,I),re.current===I){ve($e),console.log("ðŸš€ ~ debouncedPreCalculate ~ liquidityAmount:",je,$e);const Je=xt(b($e).div(e==null?void 0:e.liquidity).mul(100).toNumber(),2,!0);b(Je).gt(100)||b(Je).eq(100)?(j(100),ne(A),ae($)):(j(Je),O?ae(Be||""):ne(Ne||""))}else ie();Te(!1)},500),[N,Y]=d.useState(!1),H=()=>{if((X||P)&&ns(e)){if(console.log("ðŸš€ ~ reCalculateResult ~ isFixedDisplayTokenA:",N,w),w==="--")return;if(N||Number(w)==100)Le(Number(w));else{console.log("ðŸš€ ~ reCalculateResult ~ currentPosBaseInfo:",e);const f=D?X:P;if(+f){const O=tt();K(O),_e(f,D,O)}}}};d.useEffect(()=>{L=="remove"&&(console.log("ðŸš€ ~ usePosRemovePage ~ tokenABalance, tokenBBalance:",g,A,$),H())},[A,$]);const J=(f,O)=>{if(console.log("ðŸš€ ~ h111andleAmountChange ~ amount:",f),Y(!1),ve(""),!f){ie();return}if(Te(!0),U(O),O){if(ne(f),b(f).eq(A)){ae($),j(100),K(""),Te(!1);return}}else if(ae(f),b(f).eq($)){ne(A),j(100),K(""),Te(!1);return}if(console.log("ðŸš€ ~ handleAmountChange ~ amount:",f,+f),+f){const I=tt();K(I),console.log("ðŸš€ ~ handleAmountChange ~ params:",f),_e(f,O,I)}else Te(!1),O?ae(""):ne("")},Le=f=>{var O;if(Y(!0),console.log("ðŸš€ ~ changeSlideFun ~ changeSlideFun:",A,$,f),T){const oe=((O=E==null?void 0:E.tokenA)==null?void 0:O.coin_type)===(p==null?void 0:p.coin_type)?at:lt;if(f===100)W(oe);else{const ge=b(oe).mul(b(f).div(100)).toString();W(ge)}}else if(f==100)ne(A),ae($);else{const I=e==null?void 0:e.tokenA,oe=e==null?void 0:e.tokenB,ge=ke(b(e==null?void 0:e.liquidity).mul(f).div(100).toString()||"0",0,!0);console.log("ðŸš€ ~ changeSlideFun ~ liquidity1111111:",e==null?void 0:e.liquidity,ge);const se=e==null?void 0:e.lowerTick,xe=e==null?void 0:e.upperTick,qe=e==null?void 0:e.isReverse,De={tokenA:I,tokenB:oe,liquidity:ge,currentSqrtPrice:M,lowerTick:se,upperTick:xe,roundUp:!1};try{const{amountA:he,amountB:He}=i(De);ve(ge);const we=qe?He:he,Ne=qe?he:He;console.log("ðŸš€ ~ changeSlideFun ~  coinAmountA, coinAmountB:",he,He),ne(b(we).gt(0)?we:""),ae(b(Ne).gt(0)?Ne:"")}catch(he){console.log("ðŸš€ ~ changeSlideFun ~ error:",he),ne(""),ae("")}}},{currentAccount:ce}=ze(),Ee=d.useMemo(()=>{const f={text:"Remove",disabled:!1};return ce!=null&&ce.address?!+X&&!+P?(f.text="Enter an amount",f.disabled=!0,f):!Se&&X&&b(X).gt(A||0)||!fe&&P&&b(P).gt($||0)?(f.disabled=!0,f.text="Invalid Amount",f):((e==null?void 0:e.posType)=="burn"&&(f.disabled=!0),f):(f.text="Connect Wallet",f.disabled=!1,f)},[X,P,A,$,ce==null?void 0:ce.address]),{signAndExecuteTransaction:Et}=bs(),{fetchAccountBalance:Nt}=Ss(),[Vt,nt]=d.useState(!1),$t=wt(),Ot=async()=>{var I,oe,ge;nt(!0);const f=w==100;console.log("ðŸš€ ~ toRemove ~ currentPosRewardsData:",pe),console.log("ðŸš€ ~ toRemove ~ currentPosPoolInfo?.miningRewardList:",r==null?void 0:r.miningRewardList);const O=f?!pe||(pe==null?void 0:pe.length)==0?(I=(r==null?void 0:r.miningRewardList)||[])==null?void 0:I.reduce((se,xe)=>(se.push(xe.coinType),se),[]):(oe=pe||[])==null?void 0:oe.reduce((se,xe)=>(se.push(xe.coin_address),se),[]):(ge=pe||[])==null?void 0:ge.reduce((se,xe)=>(b(xe==null?void 0:xe.amount_owed).gt(0)&&se.push(xe.coin_address),se),[]);console.log("ðŸš€ ~ toRemove ~ rewarderCoinTypes:",O);try{let se,xe,qe;if(T){const he=(e==null?void 0:e.posType)=="farms"?e==null?void 0:e.id:e==null?void 0:e.posId;qe=G(Se,fe),t(qe),se=await v(he,e==null?void 0:e.liquidity,e==null?void 0:e.lowerTick,e==null?void 0:e.upperTick,O,(e==null?void 0:e.posType)=="farms")}else{const he=e!=null&&e.isReverse?b(P).mul(Ie.pow(10,h.decimals)).toString():b(X).mul(Ie.pow(10,x.decimals)).toString(),He=e!=null&&e.isReverse?b(X).mul(Ie.pow(10,x.decimals)).toString():b(P).mul(Ie.pow(10,h.decimals)).toString();console.log("ðŸš€ ~ toAdd ~ rewarderCoinTypes:",r,pe,O);const we={posId:(e==null?void 0:e.posType)=="farms"?e==null?void 0:e.id:e==null?void 0:e.posId,poolAddress:e==null?void 0:e.clmmPool,coinTypeA:e==null?void 0:e.coinTypeA,coinTypeB:e==null?void 0:e.coinTypeB,amountA:he,amountB:He,liquidity:je,lowerTick:e==null?void 0:e.lowerTick,upperTick:e==null?void 0:e.upperTick,posType:e==null?void 0:e.posType,rewarderCoinTypes:O};(e==null?void 0:e.posType)=="farms"&&(we.farmsPoolId=e==null?void 0:e.farmsPool,we.farmsPosId=e==null?void 0:e.id),qe={getShowInfo:(Be,$e)=>{const Xe="Remove "+[bt(X,x==null?void 0:x.symbol),bt(P,h==null?void 0:h.symbol)].filter(Boolean).join(" and "),Oe={modalDescriptionText:Xe,toastTitleText:Xe};if(Be==="success"){let Je=X,Ut=P;$e&&(Je=Ge($e,x)||X,Ut=Ge($e,h)||P),Oe.toastDescriptionContent="",Oe.modalDescriptionText="",Oe.toastTitleText="Remove Liquidity Successful"}return Oe}},t(qe),console.log("ðŸš€ ~ toAdd ~ params:",je,f,w,we);const Ne=f?await Z(we):await F(we);se=Ne.tx,xe=Ne.msafeParams}const De=await Et(se,qe,{useMev:ye,useFastMode:ue==="Fast Mode",maxCapForGas:Re,customGasPrice:B,msafeParams:xe});console.log("ðŸš€ ~ toClaim ~ res:",De),De?(Nt(),ie(),W(""),f?(l([]),$t("/pools?tab=positions")):_(ce==null?void 0:ce.address,e==null?void 0:e.id,!0)):e!=null&&e.clmmPool&&be(e==null?void 0:e.clmmPool).then(he=>{console.log("ðŸš€ ~ toClaim ~ res:",he),T?de():H()}),nt(!1)}catch(se){H(),nt(!1),console.log("ðŸš€ ~ toClaim ~ error:",se)}};d.useMemo(()=>{if(e!=null&&e.posId){const f=e==null?void 0:e.tokenA,O=e==null?void 0:e.tokenB,I=e==null?void 0:e.liquidity,oe=e==null?void 0:e.lowerTick,ge=e==null?void 0:e.upperTick;i({tokenA:f,tokenB:O,liquidity:I,currentSqrtPrice:M,lowerTick:oe,upperTick:ge,roundUp:!1})}},[e==null?void 0:e.posId,M]);const{onlyAmountA:at,onlyAmountB:lt}=d.useMemo(()=>({onlyAmountA:a==null?void 0:a.onlyAmountA,onlyAmountB:a==null?void 0:a.onlyAmountB}),[a]);return d.useEffect(()=>{var f;if(T)if(C){const I=((f=E==null?void 0:E.tokenA)==null?void 0:f.coin_type)===(p==null?void 0:p.coin_type)?at:lt;if(I){const oe=xt(b(C).div(I).mul(100).toString(),2,!0);j(oe)}else j("--")}else j("--");else j("--")},[T,C]),d.useEffect(()=>{if(L!=="increase"&&T){if(console.log("ðŸš€ ~ usePosRemovePage111 ~ preDepositeData:",V),V!=null&&V.amount_a||V!=null&&V.amount_b){const f=e==null?void 0:e.tokenA,O=e==null?void 0:e.tokenB,I=Ze(V==null?void 0:V.amount_a,f==null?void 0:f.decimals),oe=Ze(V==null?void 0:V.amount_b,O==null?void 0:O.decimals);if(w==100)ne(String(A)),ae(String($));else{const ge=e!=null&&e.isReverse?oe:I,se=e!=null&&e.isReverse?I:oe;ne(b(ge).gt(A)?String(A):ge),ae(b(se).gt($)?String($):se)}return}ne(""),ae("")}},[T,V,w]),d.useEffect(()=>{ne(""),ae("")},[]),{tokenAmountA:X,tokenAmountB:P,resetInputAmount:ie,showDisplayTokenALock:Se,showDisplayTokenBLock:fe,currentPosLiquidityData:a,tokenABalance:A,tokenBBalance:$,displayTokenA:x,displayTokenB:h,tokenAmountValueA:le,tokenAmountValueB:ee,preRemoveLoading:We,handleAmountChange:J,btnStatusText:Ee,changeSlideFun:Le,toRemove:Ot,isRemoveLoading:Vt,onlyAmountA:at,onlyAmountB:lt,currentApiPoolInfo:E,currentPoolSqrtPrice:M}}const Bs="/assets/img_farming@2x-CwRUS-3E.png";function Is({haveFarming:t}){ut();const{currentPosBaseInfo:s,farmsPosRewardsData:i,posPoolsRelatedData:e,posBaseListLoading:u,posPoolsOriginalData:y}=it(),{currentPosPoolInfo:l}=ot(),{currentAccount:n}=ze(),{getCurrentPosBaseInfo:_}=Ft(),{getFarmsRewardsData:S}=_s(),{getClmmPosName:F}=qt(),Z=d.useMemo(()=>{var p;if(s!=null&&s.tokenName)return s==null?void 0:s.tokenName;{const W=(p=y==null?void 0:y[s==null?void 0:s.clmmPool])==null?void 0:p.index;return F(s==null?void 0:s.index,W)||""}},[s==null?void 0:s.tokenName,s==null?void 0:s.index,s==null?void 0:s.clmmPool,y]),R=e[s==null?void 0:s.posId],k=(R==null?void 0:R.currentStatus)=="Active",c=i[s==null?void 0:s.id],m=(l==null?void 0:l.farmsRewarderList)||[],r=c==null?void 0:c.reduce((p,W)=>p+W.display_amount_owed,0),{toStakePos:M,toUnStakePos:U,toClaimPos:w,unstakeLoading:j,claimLoading:D}=js(),g=wt(),L=p=>{g(`/position-detail/${p[0].parsedJson.wrapped_position_id}`,{replace:!0}),setTimeout(()=>{_(n==null?void 0:n.address,p[0].parsedJson.wrapped_position_id,!0)},2e3)},T=async()=>{M(s==null?void 0:s.id,l==null?void 0:l.farmsPoolAddress,Z,L)},q=()=>{g(`/position-detail/${s==null?void 0:s.posId}`,{replace:!0}),setTimeout(()=>{_(n==null?void 0:n.address,s==null?void 0:s.posId,!0)},2e3)},G=async()=>{U(s==null?void 0:s.id,s==null?void 0:s.farmsPool,Z,q)},v=()=>{setTimeout(()=>{S([s])},2e3)},de=async()=>{w(s==null?void 0:s.id,s==null?void 0:s.farmsPool,v)},be=d.useMemo(()=>(c==null?void 0:c.length)>0?c.reduce((p,W)=>Me(p).plus(W==null?void 0:W.display_amount_owed).toString(),"0"):"0",[c,n==null?void 0:n.address,D,j]),V=d.useMemo(()=>s&&l?s.posType=="clmm"&&l.haveFarming===!0:!1,[s==null?void 0:s.posType,l==null?void 0:l.haveFarming]);return!t&&Me(r).eq(0)?null:o.jsx(o.Fragment,{children:((l==null?void 0:l.farmsPoolAddress)||Me(be).gt(0))&&o.jsxs(Ae,{w:"100%",children:[t&&o.jsxs(Q,{w:"100%",zIndex:"1",p:{base:"12px 8px",lg:"12px 16px"},bgImage:Bs,bgSize:"100% 100%",justify:"space-between",children:[o.jsxs(Ae,{align:"flex-start",children:[o.jsxs(Q,{children:[o.jsx(Ht,{src:"/images/icon_farms.png",w:"24px",h:"24px"}),o.jsx(z,{color:"primary_yellow",fontSize:"20px",children:"Farming"})]}),o.jsx(z,{color:"primary_yellow",fontSize:"14px",children:"Stake Position to Earn"})]}),o.jsxs(Q,{gap:"4px",bg:"primary_yellow_opacity.10",p:"12px 16px",borderRadius:"100px",children:[o.jsx(z,{color:"primary",fontSize:"12px",fontWeight:"500",children:"APR"}),o.jsx(z,{color:"primary",fontSize:"12px",fontWeight:"500",children:o.jsx(Rs,{poolInfo:l,isPosition:!0,showAprSize:"12px"})}),o.jsxs(Q,{gap:"4px",cursor:"pointer",onClick:()=>g("/farms"),sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},children:[o.jsx(z,{fontSize:"12px",ml:"8px",fontWeight:"500",children:"View"}),o.jsx(Pe,{boxW:"14px",boxH:"14px",xlinkHref:"#icon-icon_list_token"})]})]})]}),o.jsxs(mt,{mt:t?"-20px":"0px",bg:"bg_six",p:{base:"28px 8px 12px",lg:"28px 16px 16px"},zIndex:"0",borderRadius:t?"0 0 12px 12px":"12px",borderTop:t?"none":"border",children:[o.jsx(z,{children:"Farming Rewards"}),o.jsx(Q,{w:"100%",flexWrap:"wrap",children:(c==null?void 0:c.length)>0&&Me(be).gt(0)?c==null?void 0:c.map(p=>{var W;return o.jsx(Gt.Fragment,{children:Me(p==null?void 0:p.display_amount_owed).gt(0)&&o.jsx(ft,{coinType:(W=p==null?void 0:p.token)==null?void 0:W.coin_type,amount:p==null?void 0:p.display_amount_owed,tokenInfo:p==null?void 0:p.token,boxStyle:{mt:"16px",w:"calc(50% - 4px) "},textAlign:"left"},p==null?void 0:p.coinType)},p==null?void 0:p.rewarder_type)}):(m==null?void 0:m.length)>0?m==null?void 0:m.map(p=>o.jsx(ft,{coinType:p==null?void 0:p.coinType,amount:"0",boxStyle:{mt:"16px",w:"calc(50% - 4px) "},textAlign:"left"},p==null?void 0:p.coinType)):o.jsx(z,{textColor:"text_caption",textAlign:"right",mt:"8px",children:"--"})}),o.jsxs(Q,{w:"100%",justify:"space-between",mt:"16px",children:[(s==null?void 0:s.posType)=="farms"&&o.jsx(Ue,{disabled:D||j,isLoading:j,variant:"outline",h:"40px",w:"50%",fontSize:"14px",onClick:G,children:"Unstake"}),V&&!k&&o.jsx(Ve,{w:"50%",sx:{">button":{w:"100%"}},children:o.jsx(as,{placement:"top",tooltip:o.jsx(z,{fontSize:"12px",lineHeight:"20px",w:"200px",children:"Farming rewards are only available for active positions."}),children:o.jsx(Ve,{w:"100%",children:o.jsx(Ue,{disabled:!0,h:"40px",w:"100%",fontSize:"14px",children:"Stake"})})})}),V&&k&&o.jsx(Ue,{disabled:D||j,isLoading:j,h:"40px",w:"50%",fontSize:"14px",onClick:T,children:"Stake"}),o.jsx(Ue,{disabled:D||j||Me(r).eq(0),isLoading:D,variant:"outline",h:"40px",w:"50%",fontSize:"14px",onClick:de,children:"Claim rewards"})]})]})]})})}const Ps="/assets/bg_alerts@2x-BsIoiXpE.png";function ei({subscriptionSource:t,title:s="Range Alerts",description:i="Receive alerts via Telegram, SMS, or email when this position goes out of range.",wrapStyle:e={}}){const{getPositionNotifiStatus:u}=ht(),{isChecked:y,setIsChecked:l,notifiAuthenticated:n,notifiSourceGroups:_,setIsShowNotifi:S,notifiSubscriptionLoading:F,notifiStatus:Z,notifiSources:R}=ls(),{currentAccount:k}=ze(),{notifiUnSubscription:c,notifiSubscription:m}=As(),{currentPosBaseInfo:r}=it();console.log("ðŸš€ðŸš€ðŸš€ ~ RangeAlerts.tsx:29 ~ currentPosBaseInfo:",r),d.useEffect(()=>{if(console.log("ðŸš€ðŸš€ðŸš€ ~ file: RangeAlerts.tsx:42 ~ notifiSubscriptionLoading:",F),k!=null&&k.address&&t=="PositionDetail"&&r&&Z=="authenticated"&&!F){const{isSubscription:w}=u(r.posId,String(r.index));l(w)}},[k,t,r,n,_,F,R]);const{createNotifiSubscriptionVerify:M}=ht(),U=async w=>{if(l(w),console.log("ðŸš€ðŸš€ðŸš€ ~ RangeAlerts.tsx:46 ~ changeSwitch ~ checked:",w),w){const j=await M();if(console.log("ðŸš€ðŸš€ðŸš€ ~ RangeAlerts.tsx:49 ~ changeSwitch ~ canSubscription:",j),!j)return l(!1),!1}if(t=="AddLiquidity")l(w);else if(t=="PositionDetail")if(console.log("ðŸš€ðŸš€ðŸš€ ~ changeSwitch ~ checked:",w),w){const j={subscriptionSource:"PositionDetail",position:r==null?void 0:r.posId,pool:r==null?void 0:r.clmmPool,posIndex:String(r==null?void 0:r.index)};m(j)}else c(r==null?void 0:r.posId,r==null?void 0:r.clmmPool,r==null?void 0:r.index)};return d.useEffect(()=>()=>{l(!1)},[]),o.jsx(Q,{w:"100%",bgImage:Ps,bgSize:"100% 100%",p:"16px",borderRadius:"8px",...e,children:o.jsxs(Ae,{w:"100%",gap:"8px",children:[o.jsxs(Q,{w:"100%",justify:"space-between",children:[o.jsx(z,{color:"primary",children:s}),Z=="authenticated"?o.jsx(Tt,{isChecked:y,disabled:F,onChange:w=>U(w.target.checked)}):o.jsx(Ue,{w:"112px",h:"28px",borderRadius:"8px",fontWeight:"500",fontSize:"14px",onClick:()=>S(!0),children:"Set up"})]}),o.jsx(z,{color:"primary_gray",lineHeight:"20px",textAlign:"left",children:i})]})})}function ti(t){const{value:s,action:i,onChange:e}=t,{isApp:u}=ut();return o.jsx(mt,{padding:"6px 8px",borderRadius:"8px",width:"unset",children:o.jsxs(zt,{isLazy:!0,trigger:u?"click":"hover",placement:"top",autoFocus:!1,returnFocusOnClose:!1,children:[o.jsx(Xt,{children:o.jsxs(Q,{h:"14px",cursor:"pointer",children:[o.jsxs(z,{whiteSpace:"nowrap",fontSize:"14px",color:s?"primary":"",fontWeight:"500",children:["Zap ",i==="Deposit"?"In":"Out"]}),o.jsx(Tt,{isChecked:s,onChange:()=>{e()}})]})}),o.jsx(Jt,{children:o.jsx(Kt,{p:"12px",lineHeight:"20px",fontSize:"12px",children:i=="Deposit"?"Through Zap-In, you can deposit your liquidity in single token or with customized token ratio. Tokens will be auto converted to match the required ratio. ":"Through Zap-Out, you can withdraw your liquidity in one token. The liquidity will be auto converted to one token you selected."})})]})})}function si({action:t,haveZap:s,resetInputAmount:i}){const{useZapIn:e,setUseZapIn:u}=ot(),{setZapAmount:y,setPreDepositeData:l}=Qe(),n=()=>{i==null||i(),u(!e),y("")};return d.useEffect(()=>{u(!1),l(void 0)},[t]),o.jsxs(Q,{w:"100%",justify:"space-between",align:"center",mb:"16px",children:[o.jsx(z,{color:"primary_gray",fontSize:"14px",children:t==="Withdraw"?"Remove Amounts":"Deposit Amounts"}),o.jsx(ti,{action:t,value:e,onChange:n})]})}function Ri(){const{currentPosBaseInfo:t,posPoolsRelatedData:s,posApiPoolData:i}=it(),{isFixedDisplayTokenA:e,slideValue:u,setSlideValue:y,curPosContractPoolInfo:l,useZapIn:n,currentPosPoolInfo:_}=ot(),{tokenAmountA:S,tokenAmountB:F,tokenABalance:Z,tokenBBalance:R,displayTokenA:k,displayTokenB:c,tokenAmountValueA:m,tokenAmountValueB:r,preRemoveLoading:M,handleAmountChange:U,changeSlideFun:w,btnStatusText:j,toRemove:D,isRemoveLoading:g,showDisplayTokenALock:L,showDisplayTokenBLock:T,resetInputAmount:q,onlyAmountA:G,onlyAmountB:v,currentApiPoolInfo:de,currentPoolSqrtPrice:be,currentPosLiquidityData:V}=Qs();d.useEffect(()=>()=>{q()},[]);const p=C=>{console.log("ðŸš€ ~ changeSlideValue ~ value:",C),C=="MAX"||C==100?(y(100),w(100)):(y(Number((C+"").split("%")[0])),w(Number((C+"").split("%")[0])))};d.useEffect(()=>y("--"),[]);const W=s[t==null?void 0:t.posId];return o.jsxs(Ae,{w:"100%",gap:"8px",children:[o.jsxs(Ve,{w:"100%",position:"relative",bg:"bg_six",p:{base:"8px",lg:"16px"},border:"1px solid",borderColor:"border",borderRadius:"16px",children:[(de==null?void 0:de.haveZap)&&(t==null?void 0:t.posType)!=="burn"&&!L&&!T&&o.jsx(si,{action:"Withdraw",resetInputAmount:q}),n?o.jsx(Hs,{action:"Withdraw",apiPoolInfo:de,currentSqrtPrice:be,onlyAmountA:G,onlyAmountB:v,liquidity:t==null?void 0:t.liquidity,lowerTick:t==null?void 0:t.lowerTick,upperTick:t==null?void 0:t.upperTick,slideValue:String(u),currentPosLiquidityData:V,changeSlideValue:p}):o.jsx(o.Fragment,{children:o.jsx(ks,{from:{wrapStyle:{h:"108px",borderRadius:"12px"},balance:Z||"",value:S,amountValue:m,loading:!e&&M,onChange:C=>{U(C,!0)},needRemainBalance:!1,placeholder:"0.0",balanceLabel:"Available",token:k,half:!1,lock:{isLock:t&&l&&L,style:{borderRadius:"12px"}}},to:{wrapStyle:{h:"108px",borderRadius:"12px"},balance:R||"",value:F,amountValue:r,loading:e&&M,onChange:C=>{U(C,!1)},needRemainBalance:!1,placeholder:"0.0",balanceLabel:"Available",token:c,half:!1,lock:{isLock:t&&l&&T,style:{borderRadius:"12px"}}},lock:{isLock:!t||!l||t&&(t==null?void 0:t.posType)=="burn",text:t&&(t==null?void 0:t.posType)=="burn"?"Your liquidity has been permanently locked":void 0,style:{h:"224px",borderRadius:"12px"}}})}),(t==null?void 0:t.posType)!=="burn"&&o.jsxs(mt,{borderRadius:"12px",p:"16px",mt:"8px",children:[o.jsx(z,{color:"primary_gray",children:"Amount"}),o.jsx(oi,{percentage:u,onChange:C=>p(C)})]})]}),n?o.jsx(zs,{action:"Withdraw",onClick:D,hideDepositRatio:!0,otherLoading:g,isReverse:t==null?void 0:t.isReverse}):o.jsx(Ue,{isLoading:g,onClick:D,disabled:j.disabled||g,w:"100%",h:"56px",fontSize:"20px",fontWeight:"500",children:j.text}),(t==null?void 0:t.posType)!=="burn"&&o.jsx(Is,{haveFarming:_==null?void 0:_.haveFarming}),W&&(W==null?void 0:W.minPrice)!=="0"&&(W==null?void 0:W.maxPrice)!=="âˆž"&&o.jsx(ei,{subscriptionSource:"PositionDetail"})]})}function ii(t){const{percentage:s,onChange:i,wrapStyle:e,textFontSize:u,selectTabStyle:y,selectTabItemStyle:l,selectTabItemTextStyle:n,isShowPercentageText:_=!0,percentageTextMinW:S="62px"}=t,F=[{label:"25%"},{label:"50%"},{label:"75%"},{label:"MAX"}],Z=d.useMemo(()=>s!==100?`${s}%`:"MAX",[s]);return o.jsxs(Q,{w:"100%",...e,children:[_&&o.jsxs(z,{minW:S,fontSize:u,color:"text_caption",children:[s=="--"?"--":b(s).gt(0)&&Number(s)<.01?"<0.01":ke(s,2),"%"]}),o.jsx(kt,{type:"outlineTab",tabList:F,currentTab:Z,handleChangeTab:R=>{R.label==="MAX"?i(100):i(R.label.replace("%",""))},wrapStyle:y,itemStyle:l,selectTabItemTextStyle:n})]})}function oi(t){const{percentage:s,onChange:i,percentageTextMinW:e}=t;return o.jsxs(Ve,{w:"100%",children:[o.jsx(ii,{percentage:s,onChange:i,percentageTextMinW:e,wrapStyle:{justifyContent:"space-between",m:"10px 0"},selectTabStyle:{w:{base:"220px",lg:"310px"},h:"32px",p:"3px",borderRadius:"8px"},selectTabItemStyle:{flex:"1",fontSize:"14px",margin:"0px"},textFontSize:"24px"}),o.jsxs(Yt,{"aria-label":"slider-ex-1",min:0,max:100,focusThumbOnChange:!1,value:s=="--"?0:Number(s),onChange:u=>i(u+"%"),children:[o.jsx(Qt,{children:o.jsx(Bt,{})}),o.jsx(It,{})]})]})}export{Is as F,oi as P,ei as R,si as T,zs as Z,Ks as a,Js as b,Wt as c,$s as d,Qe as e,ti as f,Hs as g,Ys as h,Xs as i,Ri as j,Mt as u};
//# sourceMappingURL=RemoveBlock-BOkeSWoc.js.map
