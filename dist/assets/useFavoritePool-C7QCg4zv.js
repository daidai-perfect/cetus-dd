import{R as w,bf as a,bg as g,bh as p,bi as T,bj as F,u as A,A as O,S as _}from"./index-Dusgv24d.js";import"./vendor-BFGDaAdA.js";import{u as y}from"./useGetPoolList-efx4-fWg.js";import{u as V}from"./useWrapPoolData-DOlDb2Pz.js";const W=(t,I)=>({poolListLength:"",setPoolListLength:o=>{t(()=>({poolListLength:o}))},poolRefreshStatus:"pending",setPoolRefreshStatus:o=>{t(()=>({poolRefreshStatus:o}))},isWatchList:void 0,setIsWatchList:o=>{t(()=>({isWatchList:o})),a.setItem(F,o)},isAllPools:!1,setIsAllPools:o=>{t(()=>({isAllPools:o})),a.setItem(T,o)},isIncentivizedOnly:!1,setIsIncentivizedOnly:o=>{t(()=>({isIncentivizedOnly:o})),a.setItem(p,o)},poolFavoriteIds:[],setPoolFavoriteId:o=>{const r=[...I().poolFavoriteIds,o];t(()=>({poolFavoriteIds:r})),a.setItem(g,r)},setPoolFavoriteIds:o=>{t(()=>({poolFavoriteIds:o})),a.setItem(g,o)},poolFavoriteIdsChange:!1,setPoolFavoriteIdsChange:o=>{t(()=>({poolFavoriteIdsChange:o}))}}),n=w(W);a.getItem(g).then(t=>{console.log("ðŸš€ ~ file: store/pool/index.ts.ts ~ savedPoolFavoriteList:",t),(t==null?void 0:t.length)>0&&n.getState().setPoolFavoriteIds(t)});a.getItem(F).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isWatchList:",t),typeof t=="boolean"?n.getState().setIsWatchList(t):n.getState().setIsWatchList(!1)});a.getItem(T).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isAllPools:",t),typeof t=="boolean"&&n.getState().setIsAllPools(t)});a.getItem(p).then(t=>{console.log("ðŸš€ ~ VariousTokensTable isIncentivizedOnly:",t),typeof t=="boolean"&&n.getState().setIsIncentivizedOnly(t)});function j(){const{fetchByApi:t}=A(),{getLocalJsonPoolList:I,wrapGetPoolParams:o}=y(),{wrapPoolDataV2:r}=V(),{poolFavoriteIds:i,setPoolFavoriteId:m,setPoolFavoriteIds:S,setPoolFavoriteIdsChange:h}=n(),{successTsToast:u,failedTsToast:v}=O();return{addFavorites:s=>{const l={linkLabel:"",getShowInfo:()=>({toastTitleText:i.length>=100?"Watchlist exceeds the maximum limit":"Added to Watchlist"})};i.length>=100?v(l):(m(s),h(!0),u(l))},removeFavorites:s=>{const l=i==null?void 0:i.filter(c=>c!==s);S(l),h(!0),u({linkLabel:"",getShowInfo:()=>({toastTitleText:"Removed from Watchlist"})})},getFavoritePoolList:async s=>{var d,P,L;const{needLocalData:l=!0}=s,f=(s==null?void 0:s.pools)||[],c=o(s);if(f.length>0)try{const e=await t(_,"POST",c);if(console.log("ðŸš€ðŸš€ðŸš€ ~ useFavoritePool.ts:61 ~ getFavoritePoolList ~ res:",e),e!=null&&e.data)return console.log("ðŸš€ ~ getFavoritePoolList ~ res?.data:",e==null?void 0:e.data),{list:(P=(d=e==null?void 0:e.data)==null?void 0:d.list)==null?void 0:P.map(b=>r(b)),total:(L=e==null?void 0:e.data)==null?void 0:L.total}}catch(e){if(console.log("ðŸš€ ~ getFavoritePoolList ~ error:",e),l)return await I(s)}return{list:[],total:0}}}}export{n as a,j as u};
//# sourceMappingURL=useFavoritePool-C7QCg4zv.js.map
