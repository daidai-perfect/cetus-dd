import{j as e,H as o,T as a,ar as fe,a as S,f as I,P as Ye,h as Ve,C as qe,I as Ee,k as $e,m as Ge,n as Ke,V as _,v as M,S as We,u as ne,X as xs,Y as cs,Z as ps,$ as gs,a8 as hs,a0 as us,a1 as js,O as bs,a7 as Ze,ab as ys}from"./vendor-C6OgHlW5.js";import{a as ms}from"./useFavoritePool-BF-XZ1F4.js";import{a as re,B as F,I as K,G as ke,O as z,v as ee,j as oe,n as ve,m as Re,d as T,aK as le}from"./index-BcaB9c-7.js";import{C as Te}from"./CheckBox-DsmyCmYu.js";import{R as De}from"./RefreshButton-BjGIuKAL.js";import{S as ws}from"./SearchInputBlock-CncgoN2z.js";import{H as Me,a as Ss}from"./PositionListLoading-DBM_CWXK.js";import{u as _s,a as Xe,P as fs}from"./PositionCurrentPrice-aHkRP-sf.js";import{a as U,d as ks,u as Cs}from"./usePositionList-CBEmR193.js";import{u as vs}from"./activeOrders-CFOVuO72.js";import{u as Rs}from"./useTransaction-DmUGgHnq.js";import{N as Ce}from"./NoData-xr_zMTci.js";import{u as Ts}from"./useAccountBalance-C2pgGwpm.js";import{S as se}from"./SingleTokenInfo-5fekhlrG.js";import{P as Je}from"./CoinPairInfo-tDoJuxNG.js";import{L as zs}from"./PriceRange-MiEdJL9c.js";function Js({handleIsWatchList:s=()=>{},handleIsDisplayChecked:l=()=>{},onClickIncentiveTypes:x,handleRefresh:b,selectCoinList:y,onClickSelectCoinList:d,onDeleteSelectCoinList:p,isPools:f=!0,isProfile:g=!1,isRefreshed:u}){const{isWatchList:w,isAllPools:C,isIncentivizedOnly:k}=ms(),{isApp:i,windowWidth:n}=re();return e.jsxs(o,{w:g?"unset":"100%",justify:"space-between",flexDirection:{base:"column",lg:"row"},children:[e.jsxs(o,{w:{base:"100%",lg:f||g?"unset":"100%"},justify:"space-between",sx:{">button":{">div":{borderRadius:g?"8px":"12px"}}},children:[e.jsx(ws,{selectCoinList:y,onClickSelectCoinList:d,onDeleteSelectCoinList:p}),!g&&(i||!f)&&e.jsx(De,{handleRefresh:b,isRefreshed:f?u:void 0})]}),f&&e.jsxs(o,{w:{base:"100%",lg:"unset"},justify:"space-between",gap:"8px",children:[e.jsx(F,{w:{base:n<=350?"48px":"36%",lg:"unset"},borderRadius:"12px",p:{base:"0px 8px",lg:"0 12px"},h:"40px",onClick:s,children:n<=350?e.jsx(o,{h:"38px",justify:"center",align:"center",children:e.jsx(K,{xlinkHref:"#icon-icon_star",svgFill:w?"primary":"text_paragraph"})}):e.jsxs(o,{h:"100%",justify:"space-between",gap:{base:"6px",lg:"8px"},children:[e.jsx(Te,{checked:w,onClick:()=>{}}),e.jsx(a,{color:w?"text_caption":"text_paragraph",children:"Watchlist"})]})}),e.jsxs(o,{w:{base:"100%",lg:"unset"},children:[e.jsx(F,{w:{base:"65%",lg:"unset"},borderRadius:"12px",p:i?"0 6px 0 8px":"0px 12px",h:"40px",children:e.jsxs(o,{h:"100%",justify:"space-between",gap:i?"4px":"8px",children:[e.jsx(a,{color:k?"text_caption":"text_paragraph",children:i?"Incentivized":"Incentivized Only"}),e.jsx(fe,{isChecked:k,onChange:x})]})}),e.jsx(F,{w:{base:"35%",lg:"unset"},borderRadius:"12px",p:i?"0 6px 0 8px":"0px 12px",h:"40px",children:e.jsxs(o,{h:"100%",justify:"space-between",children:[e.jsxs(a,{color:C?"text_caption":"text_paragraph",children:[" ",i?"All":"All pools"]}),e.jsx(fe,{isChecked:C,onChange:l})]})})]}),!g&&!i&&e.jsx(De,{handleRefresh:b,isRefreshed:u})]})]})}const As=({posInfo:s})=>{var p,f,g,u,w,C,k,i;const[l,x]=S.useState(!1),{posApiPoolData:b}=U(),y=(p=b[s==null?void 0:s.clmmPool])==null?void 0:p.haveMining,d=(f=b[s==null?void 0:s.clmmPool])==null?void 0:f.haveFarming;return e.jsx(I,{p:"12px 0",onClick:n=>ke(n),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:e.jsxs(Ye,{isLazy:!0,isOpen:l,children:[e.jsx(Ve,{children:e.jsxs(qe,{as:"button",cursor:Number(s==null?void 0:s.totalRewardUsd)==0?"text":"help",children:[y&&e.jsx(Ee,{w:"14px",h:"14px",src:"/images/icon_mining.png",mr:"4px"}),d&&e.jsx(Ee,{w:"14px",h:"14px",src:"/images/icon_farms.png",mr:"4px"}),e.jsx(a,{color:"primary",fontSize:"14px",textDecoration:Number(s==null?void 0:s.totalRewardUsd)==0?"none":"underline dotted",textUnderlineOffset:"3px",children:z(s==null?void 0:s.totalRewardUsd,2)})]})}),l&&Number(s==null?void 0:s.totalRewardUsd)!==0&&e.jsx($e,{children:e.jsx(Ge,{zIndex:"2",w:"fit-content",children:e.jsx(Ke,{children:e.jsxs(_,{align:"flex-start",minW:"300px",children:[((g=s==null?void 0:s.pendingFeesList)==null?void 0:g.length)>0&&e.jsxs(_,{align:"flex-start",minW:"100%",children:[e.jsxs(o,{w:"100%",justify:"space-between",bg:"bg_third",borderRadius:"12px",p:"16px",children:[e.jsx(a,{fontSize:"12px",children:"Fees"}),e.jsxs(a,{color:"primary",children:[" ",z(s==null?void 0:s.feeOwedUsd,2)]})]}),(u=s==null?void 0:s.pendingFeesList)==null?void 0:u.map(n=>(console.log("ðŸš€ ~ {posInfo?.pendingFeesList?.map ~ item:",n),e.jsxs(o,{w:"100%",justify:"space-between",p:"0 16px 8px",children:[e.jsx(se,{token:n.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(_,{align:"flex-end",gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:ee(n==null?void 0:n.amount,6)}),e.jsx(a,{fontSize:"12px",children:z(n==null?void 0:n.amountUSD,2)})]})]},n==null?void 0:n.coin_address)))]}),((w=s==null?void 0:s.pendingRewarderList)==null?void 0:w.length)>0&&e.jsxs(_,{align:"flex-start",minW:"100%",children:[e.jsxs(o,{w:"100%",justify:"space-between",bg:"bg_third",borderRadius:"6px",p:"16px",children:[e.jsx(a,{fontSize:"12px",children:"Mining rewards"}),e.jsxs(a,{color:"primary",children:[" ",z(s==null?void 0:s.rewarderUsd,2)]})]}),(C=s==null?void 0:s.pendingRewarderList)==null?void 0:C.map(n=>e.jsxs(o,{w:"100%",justify:"space-between",p:"0 16px 8px",children:[e.jsx(se,{token:n.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(_,{align:"flex-end",gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:ee(n==null?void 0:n.amount,6)}),e.jsx(a,{fontSize:"12px",children:z(n==null?void 0:n.amountUSD,2)})]})]},n==null?void 0:n.coin_address))]}),((k=s==null?void 0:s.pendingFarmsList)==null?void 0:k.length)>0&&e.jsxs(_,{align:"flex-start",minW:"100%",children:[e.jsxs(o,{w:"100%",justify:"space-between",bg:"bg_third",borderRadius:"6px",p:"16px",children:[e.jsx(a,{fontSize:"12px",children:"Farming rewards"}),e.jsxs(a,{color:"primary",children:[" ",z(s==null?void 0:s.farmsUsd,2)]})]}),(i=s==null?void 0:s.pendingFarmsList)==null?void 0:i.map(n=>{var A;return e.jsxs(o,{w:"100%",justify:"space-between",p:"0 16px 8px",children:[e.jsx(se,{token:n.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(_,{align:"flex-end",gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:ee(n==null?void 0:n.amount,6)}),e.jsx(a,{fontSize:"12px",children:z(n==null?void 0:n.amountUSD,2)})]})]},(A=n==null?void 0:n.token)==null?void 0:A.coin_type)})]})]})})})})]})})};function Qe({posInfo:s,onClickCheckBox:l,checked:x,pageFrom:b,cursor:y="pointer"}){var w;const{getClmmPosName:d}=ks(),{posPoolsOriginalData:p}=U(),f=S.useMemo(()=>{var C;if(s!=null&&s.tokenName)return s==null?void 0:s.tokenName;{const k=(C=p==null?void 0:p[s==null?void 0:s.clmmPool])==null?void 0:C.index;return d(s==null?void 0:s.index,k)}},[s==null?void 0:s.tokenName,s==null?void 0:s.index,s==null?void 0:s.clmmPool,p]),{posPoolsRelatedData:g}=U(),u=((w=g[s==null?void 0:s.posId])==null?void 0:w.displayFee)+"%";return e.jsxs(F,{w:"100%",borderRadius:"8px",p:"0",bg:"bg_primary",children:[e.jsxs(o,{w:"100%",bg:"bg_third",p:"12px 16px",borderRadius:"8px",children:[e.jsxs(_,{w:"100%",align:"flex-start",gap:"16px",children:[e.jsx(Je,{poolInfo:{...s,feeDisplay:u},symbolEllipsesDecimals:10}),e.jsx(a,{fontSize:"12px",color:"primary_gray",children:f})]}),l&&e.jsx(Te,{cursor:y,checked:x||!1,onClick:()=>l(s)})]}),b=="pendingYieldModal"?e.jsxs(o,{p:"0px 16px",w:"100%",justify:"space-between",gap:"4px",align:"flex-start",children:[e.jsx(a,{color:"primary_gray",mb:"-12px",mt:"12px",children:"Pending yield"}),e.jsx(As,{posInfo:s})]}):e.jsxs(o,{justify:"space-between",p:"0 16px",children:[e.jsx(a,{color:"primary_gray",children:"Liquidity"}),e.jsx(zs,{positionInfo:s,color:"primary",fontSize:"14px",haveTooltip:b!="lpBurnNext"})]})]})}function Qs({onClose:s,onClickLock:l,currentLockItem:x,onClickCheckBox:b}){const{currentAccount:y,onWalletModal:d}=oe(),{fullRangePosBaseList:p,fullRangePosBaseListLoading:f}=U();return e.jsxs(_,{w:"100%",gap:"20px",children:[e.jsxs(_,{w:"100%",align:"flex-start",gap:"20px",children:[e.jsx(a,{color:"primary_gray",textAlign:"left",lineHeight:"20px",children:"Token teams can permanently lock liquidity. The NFT representing your position is sent to a locked token account. Trading fees and mining rewards earned will still be claimable."}),e.jsx(a,{color:"primary_gray",textAlign:"left",lineHeight:"20px",children:"To start, select a liquidity position below to lock. Ensure that position value and NFT mint match the position you want to lock!"}),e.jsx(a,{color:"primary_gray",textAlign:"left",lineHeight:"20px",children:"Note: Technically, your NFT is not burned but permanently locked."})]}),e.jsx(_,{w:"100%",gap:"16px",maxH:"320px",overflow:"auto",children:y!=null&&y.address?f?[{},{}].map((g,u)=>e.jsx(Ie,{},u)):(p==null?void 0:p.length)>0?p==null?void 0:p.map(g=>e.jsx(Qe,{posInfo:g,checked:(g==null?void 0:g.posId)==(x==null?void 0:x.posId),onClickCheckBox:u=>b(u),pageFrom:"lpBurnPrev"},g==null?void 0:g.posId)):e.jsxs(F,{pb:"30px",borderRadius:"12px",bg:"none",border:"none",pt:"0",children:[e.jsx(Ce,{h:"240px",type:"nodata",pb:"0px",text:"No Available Liquidity",bg:"none",noBorder:!0}),e.jsx(a,{color:"primary_gray",children:"Burn/Lock Liquidity only available for Full-range position"})]}):e.jsx(Ce,{type:"nowallet",onboard:()=>d(!0),bg:"none",border:"none"})}),e.jsxs(_,{gap:"8px",w:"100%",p:"20px 0",mt:"-20px",children:[e.jsx(M,{disabled:Object.values(x).length<=0,w:"100%",h:"52px",fontWeight:"500",onClick:l,children:"Lock Liquidity"}),e.jsx(M,{w:"100%",p:"20px",variant:"outline",onClick:s,cursor:"pointer",h:"52px",children:"Cancel"})]})]})}const Ie=()=>e.jsxs(F,{w:"100%",borderRadius:"8px",p:"0",bg:"bg_primary",children:[e.jsx(o,{w:"100%",bg:"bg_third",p:"12px 16px",borderRadius:"8px",children:e.jsxs(o,{gap:"0",children:[e.jsx(We,{size:"9"}),e.jsx(We,{size:"9"}),e.jsx(_,{gap:"4px",ml:"4px",align:"flex-start",children:e.jsx(ne,{height:"4",width:"100px"})})]})}),e.jsx(I,{w:"100%",p:"16px",children:e.jsx(ne,{height:"5",width:"250px"})})]}),Ps="/assets/tvl_bg-D80TUrdU.png",Ls="/assets/yield_bg-CcCC1tTK.png";function Bs(){const{isAutoRefresh:s}=vs(),{currentAccount:l}=oe(),{posBaseList:x,posLiquidityData:b,posBaseListLoading:y,posLiquidityDataLoading:d}=U(),{getTokenAmountValue:p}=ve(),{coinPriceObj:f}=Re(),g=S.useMemo(()=>{let C=0,k=0;if(s||!y&&!d)return(x==null?void 0:x.length)>0&&(l!=null&&l.address)?(x.forEach(i=>{var L,E;const n=b[i==null?void 0:i.posId],A=p((L=i==null?void 0:i.displayTokenA)==null?void 0:L.coin_type,n==null?void 0:n.displayCoinAmountA),N=p((E=i==null?void 0:i.displayTokenB)==null?void 0:E.coin_type,n==null?void 0:n.displayCoinAmountB);C=T(C).plus(A).plus(N).toString(),k=T(k).plus((n==null?void 0:n.displayCoinAmountA)||0).plus((n==null?void 0:n.displayCoinAmountB)||0).toString()}),console.log("ðŸš€ ~ clmmTotalTvl ~ total:",k,C),T(C).lte(0)&&T(k).gt(0)?"--":C):"0"},[s,x,y,b,d,l==null?void 0:l.address,f]),u=S.useMemo(()=>"0",[]),w=S.useMemo(()=>g=="--"||u=="--"?"--":T(g).plus(u).toString(),[g,u]);return{clmmTotalTvl:g,vaultTotalTvl:u,liquidityTotalTvl:w}}function Ns({isOpen:s,claimLoading:l,onClose:x,changeClaimLoading:b}){const[y,d]=S.useState(!1),{coinPriceObj:p}=Re(),{getPosRelatedData:f,getPositionBaseList:g}=Cs(),{signAndExecuteTransaction:u}=Rs(),{currentAccount:w}=oe(),{getBatchHarvestFeeAndRewardsTxPayload:C}=_s(),{getTokenAmountValue:k}=ve(),[i,n]=S.useState([]),[A,N]=S.useState(!0),[L,E]=S.useState(!0),[W,Z]=S.useState(.01),[O,de]=S.useState([]),[R,Y]=S.useState([]),[V,P]=S.useState(""),[xe,ze]=S.useState(""),[q,Ae]=S.useState([]),{myPosYieldValue:es,posBaseList:X,posBaseListLoading:ce,posFeeDataLoading:pe,posRewardsDataLoading:ge,farmsPosRewardsDataLoading:he,posFeeData:te,posRewardsData:ae,farmsPosRewardsData:ie}=U(),ss=t=>{const j=new RegExp("[^\\d-]*(\\d*(?:\\.\\d{0,4})?).*$");t.target.value=t.target.value.replace(j,"$1"),Z(t.target.value)},ns=()=>{(!W||W<.01)&&Z(.01)},ts=ce||pe||ge||he;S.useEffect(()=>{const t=[];let j="0";const m=[];if((X==null?void 0:X.length)>0&&!ce&&!pe&&!ge&&!he){X.forEach((c,Pe)=>{var Le,Be,Ne,Fe,Oe,He,Ue;let ue="0",je="0",be="0",J="0",$="0",G="0";const ye=[],me=[],we=[];if(((Le=Object.values(te))==null?void 0:Le.length)>0){const h=te[c==null?void 0:c.posId],r=k((Be=c==null?void 0:c.displayTokenA)==null?void 0:Be.coin_type,h==null?void 0:h.displayFeeOwedA,"--"),H=k((Ne=c==null?void 0:c.displayTokenB)==null?void 0:Ne.coin_type,h==null?void 0:h.displayFeeOwedB,"--");ue=T(ue).plus((h==null?void 0:h.displayFeeOwedA)||0).plus((h==null?void 0:h.displayFeeOwedB)||0).toString(),r!=="--"&&H!=="--"&&(J=T(r).plus(H).toString()),me.push({coin_address:le((Fe=c==null?void 0:c.displayTokenA)==null?void 0:Fe.coin_type,!1),amount:h==null?void 0:h.displayFeeOwedA,amountUSD:r,token:c==null?void 0:c.displayTokenA},{coin_address:le((Oe=c==null?void 0:c.displayTokenB)==null?void 0:Oe.coin_type,!1),amount:h==null?void 0:h.displayFeeOwedB,amountUSD:H,token:c==null?void 0:c.displayTokenB})}if(((He=Object.values(ae))==null?void 0:He.length)>0){const h=ae[c==null?void 0:c.posId];(h==null?void 0:h.length)>0&&h.forEach(r=>{var H;if(console.log("ðŸš€ ~ currentPosRewardsData.forEach ~ reward:",r),je=T(je).plus(r.display_amount_owed||0).toString(),Number(r==null?void 0:r.display_amount_owed)>0){const D=k(r==null?void 0:r.token.coin_type,r.display_amount_owed);D!=="--"&&($=T($).plus(D).toString()),ye.push({coin_address:le((H=r==null?void 0:r.token)==null?void 0:H.coin_type,!1),amount:r.display_amount_owed,amountUSD:D,token:r==null?void 0:r.token})}})}if(((Ue=Object.values(ie))==null?void 0:Ue.length)>0){const h=ie[c==null?void 0:c.id];(h==null?void 0:h.length)>0&&h.forEach(r=>{var H;if(console.log("ðŸš€ ~ currentPosRewardsData.forEach ~ reward:",r),be=T(be).plus(r.display_amount_owed||0).toString(),Number(r==null?void 0:r.display_amount_owed)>0){const D=k(r==null?void 0:r.token.coin_type,r.display_amount_owed);D!=="--"&&(G=T(G).plus(D).toString()),we.push({coin_address:le((H=r==null?void 0:r.token)==null?void 0:H.coin_type,!1),amount:r.display_amount_owed,amountUSD:D,token:r==null?void 0:r.token})}})}const Se=T($).plus(J).plus(G).toString(),Q=(T(ue).gt(0)||T(je).gt(0)||T(be).gt(0))&&Number(Se)==0?"--":Se;console.log("ðŸš€ ~ posBaseList.forEach ~ totalRewardUsd:",Se,Q),j=T(j).plus($).plus(J).plus(G).toString(),Number(Q)!==0&&m.push(c),L&&Number(Q)>Number(W)&&t.push({...c,totalRewardUsd:Q,pendingRewarderList:ye,pendingFeesList:me,pendingFarmsList:we,rewarderUsd:$,feeOwedUsd:J,farmsUsd:G}),L||t.push({...c,totalRewardUsd:Q,pendingRewarderList:ye,pendingFeesList:me,pendingFarmsList:we,rewarderUsd:$,feeOwedUsd:J,farmsUsd:G})}),de(m);const v=t.filter(c=>Number(c.totalRewardUsd)!==0);Y(v),console.log("ðŸš€ ~ constshowListposBaseList:any=useMemo ~ selectList:",v,R),L?(v==null?void 0:v.length)!==t.length?P(""):P("all"):(v==null?void 0:v.length)!==m.length?P(""):P("all");const B=t.sort((c,Pe)=>Pe.totalRewardUsd-c.totalRewardUsd);n(B),N(!1)}},[W,X,L,ce,pe,ge,he,p]);const{calculatePendingYield:as}=Xe();S.useEffect(()=>{if(console.log("ðŸš€ ~ useEffect ~ selectList: ~ clickSelectAll ~ updatedList:",R),(R==null?void 0:R.length)>0){const{total:t,rewardAndFeeList:j}=as(R,te,ae,ie);console.log("ðŸš€ ~ useEffect ~ total:",R,t,j),ze(t),Ae(j)}else ze(""),Ae([])},[R==null?void 0:R.length,te,ae,ie]);const is=t=>{if(console.log("ðŸš€ ~ selectItem ~ item:",t),Number(t==null?void 0:t.totalRewardUsd)<=0)return;const j=R,m=(j==null?void 0:j.filter(v=>(v==null?void 0:v.posId)!==(t==null?void 0:t.posId)))||[];j!=null&&j.some(v=>(v==null?void 0:v.posId)===(t==null?void 0:t.posId))||m.push(t),console.log("ðŸš€ ~ selectItem ~ updatedList:",m),Y(m),L?(m==null?void 0:m.length)!==(i==null?void 0:i.length)?P(""):P("all"):(m==null?void 0:m.length)!==(O==null?void 0:O.length)?P(""):P("all")};S.useEffect(()=>{Z(.01),d(!1),E(!0)},[s]);const ls=()=>{if(V=="all")P(""),Y([]);else{P("all");const t=R,j=Object.fromEntries(R.map(m=>[m==null?void 0:m.posId,m]));i.forEach(m=>{!j[m==null?void 0:m.posId]&&Number(m.totalRewardUsd)!==0&&t.push(m)}),console.log("ðŸš€ ~ clickSelectAll ~ updatedList:",j,t),Y(t)}},{fetchAccountBalance:rs}=Ts(),os=async()=>{b(!0);try{const t=Object.fromEntries(R.map(B=>[B==null?void 0:B.posId,B==null?void 0:B.pendingRewarderList])),{tx:j,txb:m}=await C(R,t,w==null?void 0:w.address);console.log("ðŸš€ ~ toClaimYield ~ tx:",j);const v=await u(m,{getShowInfo:()=>({modalDescriptionText:"Claim Yield",toastTitleText:"Claim"})});if(console.log("ðŸš€ ~ toClaimYield ~ res:",v),v){rs();const B=await g(w==null?void 0:w.address);f(B)}b(!1)}catch(t){b(!1),console.log("ðŸš€ ~ toClaimYield ~ error:",t)}finally{x()}},{isApp:ds}=re();return e.jsxs(xs,{autoFocus:!1,returnFocusOnClose:!1,isOpen:s,onClose:x,isCentered:!0,children:[e.jsx(cs,{}),e.jsxs(ps,{minWidth:ds?"300px":"446px",children:[e.jsx(gs,{children:e.jsx(hs,{fontWeight:"500",fontSize:"16px",children:y?"Claim Yield":"Details"})}),e.jsx(us,{}),e.jsx(js,{p:"16px 0px 0",textAlign:"center",children:e.jsxs(I,{children:[e.jsxs(_,{w:"100%",children:[e.jsx(I,{w:"100%",p:"0 16px",children:e.jsx(_,{justify:"center",w:"100%",h:"90px",borderRadius:"16px",bg:"pending_yield_bg",children:e.jsx(ne,{isLoaded:!ts,children:e.jsxs(_,{gap:"4px",align:"center",children:[e.jsx(a,{color:"primary_gray",children:y?"Total Claim":"Pending Yield"}),e.jsx(a,{color:"primary",fontSize:"20px",fontWeight:"500",children:z(y?xe:es,2)})]})})})}),!y&&e.jsxs(o,{w:"100%",p:"0 16px",justify:"space-between",mt:"12px",children:[e.jsx(a,{color:"text_caption",children:"Position"}),e.jsxs(o,{w:"calc(100% - 50px)",justify:"flex-end",children:[e.jsx(fe,{isChecked:L,onChange:()=>E(!L)}),e.jsx(a,{color:"text_caption",fontSize:"12px",children:"Hide yield <"}),e.jsx(F,{borderRadius:"8px",w:"72px",h:"24px",p:"0",lineHeight:"20px",children:e.jsx(bs,{textAlign:"center",fontSize:"12px",p:"0px 12px",value:`$${W}`,onChange:ss,onBlur:ns})})]})]}),e.jsx(_,{w:"100%",p:"0 16px 16px",maxH:"370px",overflow:"auto",pr:(i==null?void 0:i.length)>2?"16px":"20px",mr:"-4px",children:y?q==null?void 0:q.map(t=>(console.log("ðŸš€ ~ :[yieldList]?.map ~ item:",t),e.jsx(F,{w:"100%",p:"16px",borderRadius:"12px",sx:{_first:{mt:"12px"}},children:e.jsxs(o,{w:"100%",justify:"space-between",children:[e.jsx(se,{token:t==null?void 0:t.token,imgBoxStyle:{w:"32px",h:"32px"},haveName:!1,symbolFontSize:"14px",warningIcon:{iconW:"16px",iconH:"16px"}}),e.jsxs(_,{align:"flex-end",gap:"4px",children:[e.jsx(a,{color:"text_caption",children:ee(t==null?void 0:t.amount,6)}),e.jsxs(a,{children:["(",z(t==null?void 0:t.amountUSD,2),")"]})]})]})},t==null?void 0:t.coin_address))):(i==null?void 0:i.length)>0?i==null?void 0:i.map(t=>e.jsx(Qe,{posInfo:t,onClickCheckBox:j=>is(j),pageFrom:"pendingYieldModal",cursor:Number(t==null?void 0:t.totalRewardUsd)<=0?"not-allowed":"pointer",checked:R.some(j=>(j==null?void 0:j.posId)===(t==null?void 0:t.posId))},t==null?void 0:t.posId)):A?[{},{}].map((t,j)=>e.jsx(Ie,{},j)):e.jsx(Ce,{type:"nodata"})}),y?e.jsx(o,{w:"100%",p:"12px 16px 20px",bg:"bg_secondary",justify:"center",mt:"-8px",children:e.jsx(F,{cursor:"pointer",w:"168px",h:"36px",lineHeight:"34px",mt:"12px",p:"0",borderRadius:"8px",onClick:()=>d(!1),sx:{_hover:{p:{color:"text_caption"},svg:{fill:"text_caption"}}},children:e.jsxs(o,{justify:"center",gap:"4px",children:[e.jsx(K,{xlinkHref:"#icon-icon_ascending_nor",transform:"rotate(-90deg)"}),e.jsx(a,{children:"Back"})]})})}):e.jsx(I,{w:"100%",p:"12px 16px 20px",bg:"bg_secondary",mt:"-8px",children:e.jsxs(o,{justify:"space-between",w:"100%",h:"90px",borderRadius:"16px",bg:"pending_yield_bg",p:"20px 16px",children:[e.jsxs(_,{gap:"4px",align:"flex-start",children:[e.jsx(a,{color:"primary_gray",children:"Amount selected"}),e.jsx(a,{color:"primary",fontSize:"18px",fontWeight:"500",children:z(xe,2)})]}),e.jsxs(o,{children:[e.jsx(a,{color:"text_caption",children:"Select All"}),e.jsx(Te,{checked:V=="all",onClick:ls})]})]})})]}),y?e.jsx(M,{isLoading:l,disabled:(q==null?void 0:q.length)==0||l,w:"100%",h:"52px",fontWeight:"500",onClick:os,children:"Confirm"}):e.jsx(M,{disabled:Number(xe)<=0,w:"100%",h:"52px",fontWeight:"500",onClick:()=>d(!0),children:"Claim Yield"})]})})]})]})}const _e=({yieldList:s})=>{const[l,x]=S.useState(!1),{myPosYieldValue:b}=U(),{isApp:y}=re();return e.jsx(_,{gap:"4px",p:{base:"0",lg:"12px 0"},align:"flex-start",onClick:y?()=>x(!l):()=>x(!1),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:e.jsxs(Ye,{isLazy:!0,isOpen:l,placement:"bottom-end",children:[e.jsx(Ve,{children:e.jsx(qe,{as:"button",children:e.jsx(a,{cursor:Number(b)<=0?"text":"help",fontSize:"20px",color:"primary_green",textDecoration:Number(b)<=0?"none":"underline dotted",textUnderlineOffset:"2px",children:z(b,2)})})}),l&&Number(b)>0&&(s==null?void 0:s.length)>0&&e.jsx($e,{children:e.jsx(Ge,{zIndex:"2",w:"fit-content",maxH:"200px",overflow:"auto",p:"4px 0",children:e.jsx(Ke,{p:"0px",children:e.jsx(_,{w:"100%",align:"flex-start",bg:"bg_secondary",gap:"0px",children:s==null?void 0:s.map(d=>{var p;return console.log("ðŸš€ ~ {yieldList?.map ~ item:",d),e.jsxs(o,{w:"100%",p:"10px 12px",minW:"300px",justify:"space-between",children:[e.jsx(se,{token:d==null?void 0:d.token,imgBoxStyle:{w:"20px",h:"20px"},haveName:!1,symbolFontSize:"12px",warningIcon:{iconW:"10px",iconH:"10px"}}),e.jsxs(o,{gap:"4px",children:[e.jsx(a,{fontSize:"12px",color:"text_caption",children:ee(d==null?void 0:d.amount,6)}),e.jsxs(a,{fontSize:"12px",children:["(",z(d==null?void 0:d.amountUSD,2),")"]})]})]},(p=d==null?void 0:d.token)==null?void 0:p.coin_type)})})})})})]})})};function Is({isProfile:s=!1}){const{currentAccount:l}=oe(),[x,b]=S.useState(!1),[y,d]=S.useState(!1),[p,f]=S.useState([]);ve();const{coinPriceObj:g}=Re(),{myPosYieldValue:u,setMyPosYieldValue:w,posFeeDataLoading:C,posRewardsDataLoading:k,farmsPosRewardsDataLoading:i,posBaseList:n,posLiquidityData:A,posBaseListLoading:N,posLiquidityDataLoading:L,posFeeData:E,posRewardsData:W,farmsPosRewardsData:Z}=U(),{clmmTotalTvl:O}=Bs();l!=null&&l.address;const{calculatePendingYield:de}=Xe();S.useEffect(()=>{if(!(l!=null&&l.address))w(""),f([]);else if(!N&&(n==null?void 0:n.length)<=0&&(w("0"),f([])),(n==null?void 0:n.length)>0&&(l!=null&&l.address)&&!N&&!C&&!k&&!i){const{total:V,rewardAndFeeList:P}=de(n,E,W,Z);w(V),f(P)}},[n,N,C,k,i,l,g]);const R=l!=null&&l.address?!u:!1,{isApp:Y}=re();return e.jsxs(Ze,{flexDir:{base:"column",lg:"row"},w:"100%",gap:"20px",children:[e.jsxs(o,{justifyContent:"space-between",w:{base:"100%",lg:"50%"},p:"0 20px",h:"80px",borderRadius:"14px",bgColor:"card_bg",bgImage:Ps,backgroundSize:"100% 100%",children:[e.jsx(a,{fontSize:"16px",color:"primary_gray",children:"Total Liquidity"}),e.jsx(ne,{isLoaded:!!O,children:s?e.jsx(Me,{size:"l",children:e.jsx(a,{fontSize:"20px",color:"primary",children:"$"+O=="--"?"--":z(O,2)})}):e.jsx(a,{fontSize:"20px",color:"primary",children:"$"+O=="--"?"--":z(O,2)})})]}),e.jsxs(o,{justifyContent:"space-between",p:"0 20px",w:{base:"100%",lg:"50%"},h:"80px",borderRadius:"14px",bgColor:"card_bg",bgImage:Ls,backgroundSize:"100% 100%",children:[e.jsx(a,{fontSize:"16px",color:"primary_gray",children:"Pending Yield"}),e.jsx(ne,{isLoaded:!R,children:Y?e.jsxs(o,{gap:"20px",children:[e.jsxs(_,{align:"flex-end",children:[e.jsx(_e,{yieldList:p}),e.jsx(M,{isLoading:x,disabled:Number(u)<=0||x,w:"100px",h:"24px",onClick:()=>d(!0),borderRadius:"8px",fontSize:"12px",fontWeight:"500",children:"Claim All"})]}),Number(u)>0&&e.jsx(K,{xlinkHref:"#icon-icon_spread",onClick:()=>d(!0)})]}):e.jsxs(o,{onClick:()=>d(!0),children:[s?e.jsx(Me,{size:"l",children:e.jsx(_e,{yieldList:p})}):e.jsx(_e,{yieldList:p}),Number(u)>0&&e.jsx(K,{xlinkHref:"#icon-icon_spread"}),e.jsx(M,{isLoading:x,disabled:Number(u)<=0||x,w:"112px",h:"32px",borderRadius:"8px",fontSize:"14px",fontWeight:"500",children:"Claim All"})]})})]}),e.jsx(Ns,{isOpen:y,claimLoading:x,onClose:()=>d(!1),changeClaimLoading:V=>b(V)})]})}function en({poolInfo:s,isProfile:l=!1}){var u,w,C,k,i,n;const x=ys(),{posPoolsRelatedData:b,posApiPoolData:y}=U(),d=(u=y[s==null?void 0:s.clmmPoolAddress])==null?void 0:u.haveFarming,p=(((C=b[(w=s==null?void 0:s.list[0])==null?void 0:w.posId])==null?void 0:C.displayFee)||"--")+"%",[f,g]=S.useState(!0);return e.jsxs(_,{w:"100%",bg:"card_bg",p:"12px",borderRadius:"16px",gap:{base:"12px",lg:"16px"},children:[e.jsxs(Ze,{flexDir:{base:"column",lg:"row"},w:"100%",justify:"space-between",gap:{base:"12px",lg:"8px"},onClick:()=>g(!f),children:[e.jsx(Je,{symbolFontWeight:"500",symbolFontSize:"16px",symbolEllipsesDecimals:10,nameEllipsesDecimals:20,poolInfo:{feeDisplay:p,...s},haveName:!0}),e.jsxs(o,{flexDirection:{base:"column",lg:"row"},gap:{base:"12px",lg:"8px"},children:[e.jsxs(o,{w:{base:"100%",lg:"unset"},justify:{base:"space-between",lg:"flex-start"},flexWrap:{base:"wrap",lg:"nowrap"},children:[e.jsx(a,{color:"primary_gray",children:"Current Price"}),e.jsx(fs,{symbolEllipsesDecimals:10,posId:(k=s==null?void 0:s.list[0])==null?void 0:k.posId,displayTokenA:s==null?void 0:s.displayTokenA,displayTokenB:s==null?void 0:s.displayTokenB})]}),d&&e.jsxs(o,{bg:"primary_yellow_opacity.10",h:"32px",w:{base:"100%",lg:"unset"},justify:"center",p:"0px 12px",borderRadius:"8px",onClick:A=>{ke(A),x("/farms")},border:"1px solid",borderColor:"transparent",cursor:"pointer",sx:{_hover:{border:"1px solid",borderColor:"primary_yellow"}},children:[e.jsx(a,{color:"primary_yellow",mr:"-4px",children:"Farm"}),e.jsx(K,{xlinkHref:"#icon-icon_list_token",w:"16px",h:"16px",svgFill:"primary_yellow",svgHover:"primary_yellow"})]}),e.jsxs(o,{w:{base:"100%",lg:"unset"},children:[e.jsx(M,{onClick:A=>{ke(A),x(`/liquidity?poolAddress=${s==null?void 0:s.clmmPoolAddress}`)},borderRadius:"8px",w:{base:"50%",lg:"148px"},h:"32px",fontSize:"12px",fontWeight:"500",variant:"outline",children:"Create new position"}),e.jsx(F,{cursor:"pointer",w:{base:"50%",lg:"unset"},p:"4px 16px",h:"32px",borderRadius:"8px",bg:"none",_hover:{svg:{fill:"text_caption"}},children:e.jsxs(o,{justify:"center",w:"100%",h:"100%",gap:"4px",children:[e.jsxs(a,{fontSize:"12px",color:"primary",children:[(i=s==null?void 0:s.list)==null?void 0:i.length," ",((n=s==null?void 0:s.list)==null?void 0:n.length)>1?"Positions":"Position"]}),e.jsx(K,{svgW:"14px",svgH:"14px",w:"14px",h:"14px",xlinkHref:"#icon-icon_arrow",fontSize:"12px",transition:"transform 0.5s",transform:f?"rotate(180deg)":"rotate(0deg)"})]})})]})]})]}),f&&e.jsx(_,{w:"100%",maxH:"680px",overflow:"auto",children:s==null?void 0:s.list.map((A,N)=>e.jsx(Ss,{positionInfo:A,isProfile:l},N))})]})}export{Qs as L,Qe as M,Js as P,Is as a,en as b,Bs as u};
//# sourceMappingURL=PoolItem-DQw2ANpp.js.map
