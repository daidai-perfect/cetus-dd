import{A as F}from"./aggregator-tlbvIxmZ.js";import{u as De}from"./global-XupHuE_W.js";import{b as hs,u as gs,c as Ke,A as fe,d as bs}from"./useFindBestRouting-55uVAXAM.js";import{b as ne,j as e,au as ge,av as be,B as j,am as As,ax as Ae,ay as we,R as ws,bN as ms,bl as js,cd as ys,cz as Ss,r as x,ba as vs,a3 as Rs,aK as Is,a as Ps,a6 as Bs,a7 as zs,c$ as he,bW as Cs,ab as M,aV as Oe,d0 as Ws,a8 as _e,a0 as Ms,aR as Ne,aL as Ze,H as d,T as f,aq as Hs,C as V,I as X,S as y,V as S,d as Ts,c as B,aw as Ve,e as Es,aO as Os,a1 as P,$ as Xe,ac as _s,ad as Ls,ae as Us,af as Fs,ah as Ys,ai as Js,ar as Ds,X as Ks,a5 as Ns,Z as oe}from"./index-BB14M7zw.js";import{u as Zs}from"./useAccountBalance-BNz4QwWa.js";import{u as me}from"./useToken-BjRHcKk_.js";import{u as Le}from"./useTokenBalance-DDrc_M6s.js";import{u as Vs}from"./useTransaction-D0dYLe1f.js";import{v as Ue,g as ie}from"./index-CPQcAZKO.js";import{u as Qe}from"./usePriceImpact-Pu8-tYN3.js";import{C as je}from"./CurrentPrice-ClS602Pw.js";import{H as Xs}from"./HighlightText-BNlz8FRe.js";import{A as Fe}from"./SingleTokenInfo-CIVLLr62.js";import{H as Ye}from"./HTextLabelBox-DotiBjrz.js";import{T as Qs}from"./TradeConfirmAmountInfo-tp3lkTxk.js";import{b as qs}from"./TradeInputGroup-BrwKqPPa.js";const ks="data:image/png;base64,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",Gs="data:image/png;base64,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",$s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAk1BMVEUAAADn2v/m2//r2//v4//n2v/55P/n2v/o3P//+P/m2v/n2f/n2v/n2v/n2v/n2v/n2v/o2//p2//n3f/o3v/n2f/n2v/n2v/n2v/n2v/n2//o2v/q3f/r4f/u3f/n2v/o2v/n2//p3P/o3P/m2v/n2v/n2f/n2v/o2f/n2//r3f/t3P/n2v/m2v/o2v/r3v/m2f/tUDLHAAAAMHRSTlMAl5oyFNMJqSwFhvvr5d7Yr2FGNSD0zb2lkIltOhkOxoJoT0D48aJzWFYlHeB8Wief0nHAAAABSElEQVQ4y52Q53LCMBCEZWK5g0swBpveQknZ93+6rFxAHkSYyf6x9+67JqHLKxOZRzJJbWHStkCn0Fo8pG0XuvJv0dciBjVZb+dZeoxABb38MlbpXeucr5z2QwdUf8vX1h0ByLT9aAeCGlez4Ozw5zoE4nvFBJB0yymUhqp0B2DT5ec0O+YlWlUMJsCqAwJA8jNV1W4RAnuvqepeYwWsOR/AkfM9ji8YjYBTC3wCZyEq1jvKnoCQP8X90j0wF2IGuM2jArjUE8sWAPAmxACwavtDf623XJsBtoqa2zcm4MI8Ag7iNZkBeAcVc8cUOPhPgJjP4I/UzkYgKtWxpQqaAGfMvvUATIUBaOQHAEb2M2CZcj4OnrhJasDYXYVQ9Vpe2LJ/BeWyf4/oAXlC25e9uI0IqswRJulX/BOwXgG2JPCCIPA3sXmM/QK1PTc8LGCPoAAAAABJRU5ErkJggg==",qe={pyth:"Pyth Network",coingecko:"CoinGecko",birdeye:"Birdeye",Cetus:"Cetus"},er={pyth:$s,coingecko:Gs,birdeye:ks,Cetus:"/images/img-logo@2x.png"};function sr({market:t,...i}){const{isApp:s}=ne();return e.jsxs(ge,{isLazy:!0,trigger:s?"click":"hover",children:[e.jsx(be,{children:e.jsx(j,{flexShrink:0,children:e.jsx(As,{w:"16px",h:"16px",src:er[t],...i,flexShrink:0})})}),e.jsx(Ae,{w:"unset",children:e.jsx(we,{fontSize:"12px",children:qe[t]})})]})}var rr=1,tr=4;function or(t){return qs(t,rr|tr)}const ir=(t,i)=>({providersSwitchStates:{[hs.CETUS]:!0},setProvidersSwitchStates:s=>{const r=i().providersSwitchStates;t(()=>({providersSwitchStates:{...r,...s}}))},supportOrderSplit:!0,setSupportOrderSplit:s=>{t(()=>({supportOrderSplit:s}))}}),nr=ws(ms(ir,{name:"useSwapConfigStore"})),cr=new ys({url:Ss("mainnet")}),lr=["0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC","0x2053d08c1e2bd02791056171aab0fd12bd7cd7efad2ab8f6b9c8902f14df2ff2::ausd::AUSD","0xf16e6b723f242ec745dfd7634ad072c42d5c1d9ac9d62a39c381303eaa57693a::fdusd::FDUSD","0x960b531667636f39e85867775f52f6b1f220a058c4de786905bdf761e06a56bb::usdy::USDY","0x294de7579d55c110a00a7c4946e09a1b5cbeca2592fbb83fd7bfacba3cfeaf0e::drf::DRF"],pr=["deny_list","DenyList","DenyCap","create_regulated_currency"],ar={showType:!0,showContent:!0,showOwner:!1,showPreviousTransaction:!1,showStorageRebate:!1,showDisplay:!1},xr=async t=>{let i=!1;if(lr.includes(t))return i;const s=t.split("::"),r=s[0]&&js(s[0]),p=s[1],o=await cr.getObject({id:r,options:ar}),l="disassembled"in o.data.content?o.data.content.disassembled[p]:null;return l&&typeof l=="string"&&new RegExp(pr.join("|"),"i").test(l)&&(i=!0),i};function Je(t){const[i,s]=x.useState(),r=async p=>{if(p.is_trusted)return!1;try{const o=await xr(p.coin_type);return console.log("🚀 ~ file: useCheckTokenScamsAlert.ts:24 ~ checkIsScamsCoin ~ isScamsCoin:",o),o}catch(o){console.log("🚀 ~ file: useCheckTokenScamsAlert.ts:19 ~ checkTokenScams ~ error:",o)}return!1};return x.useEffect(()=>{s(void 0),t&&r(t).then(p=>{s(p)})},[t==null?void 0:t.coin_type]),{isScamsCoin:i}}const dr="0xeb863165a109f7791a3182be08aff1438ab2a429314fc135ae19d953afe1edd6";function Or(t,i){const{fromCoin:s,toCoin:r,setFromCoin:p,setToCoin:o,setToAmount:l,fromAmount:u,toAmount:n,setFromAmount:a,routerData:h,setFindRouterLoading:g,setRouterData:m,setByAmountIn:b,byAmountIn:R}=t,{from:I,to:v}=vs(),{findBestRouters:ce,checkProvidersKeys:le}=gs(),{fetchTokenPrices:pe,getTokenAmountValue:Q}=Rs(),{slippage:q,mevProtect:H,maxCapForGas:E,transactionMode:k,customGasPrice:ae}=De(),{aggregatorSDK:G}=Is(),A=Ps(),{fetchTokenInfo:$}=me(),[xe,ee]=x.useState(!1),{signAndExecuteTransaction:es,transactionConfirmation:ss}=Vs(),{providersSwitchStates:ye,supportOrderSplit:br}=nr(),{fetchAccountBalance:rs}=Zs(),{balanceInfo:ts}=Le(s),{balanceInfo:os}=Le(r),is=Q(s==null?void 0:s.coin_type,u),ns=Q(r==null?void 0:r.coin_type,n),[Se,ve]=x.useState(""),Re=x.useRef(""),se=x.useRef(!0),Y=x.useRef(""),J=x.useRef(""),D=x.useRef(),K=x.useRef(),Ie=x.useRef([]);x.useEffect(()=>{D.current=s},[s]),x.useEffect(()=>{K.current=r},[r]),x.useEffect(()=>{Re.current=Se},[Se]),x.useEffect(()=>{se.current=R},[R]),x.useEffect(()=>{Y.current=u},[u]),x.useEffect(()=>{J.current=n},[n]);const Pe=x.useMemo(()=>String(v)+String(I),[I,v]);x.useEffect(()=>{console.log("🚀 ~ useSwapHook ~ fromToString:",Pe),i||cs()},[Pe]);const cs=async()=>{!I&&!v?(p(_e.clmm_swap.from_coin),o(_e.clmm_swap.to_coin),A("/swap")):(I&&$(I).then(c=>{c?(c==null?void 0:c.coin_type)!==(s==null?void 0:s.coin_type)&&p(c):A(`/swap/undefined/${r==null?void 0:r.coin_type}`)}).catch(()=>{A(`/swap/undefined/${r==null?void 0:r.coin_type}`)}),v&&$(v).then(c=>{c?(c==null?void 0:c.coin_type)!==(r==null?void 0:r.coin_type)&&o(c):A(`/swap/${s==null?void 0:s.coin_type}/undefined`)}).catch(()=>{A(`/swap/${s==null?void 0:s.coin_type}/undefined`)}))},Be=Bs(async(c,w,z)=>{if(D.current&&K.current&&+c){const T=i?Object.entries(F).map(([W,L])=>W):Object.entries(ye).filter(([W,L])=>L===!0).map(([W,L])=>W);(+Y.current||+J.current)&&g(!0);const _=await le(T),Ce=zs(c,w?D.current.decimals:K.current.decimals),C=await ce({fromToken:D.current,toToken:K.current,amount:Ce.toString(),providersKeys:_,by_amount_in:w,uuid:z});g(!1),Re.current===z&&(Ie.current=_,w?+Y.current?(l(C.toAmountUi||""),m(C)):l(""):+J.current?(a(C.fromAmountUi||"ß"),m(C)):a(""))}else N(!w)},500),ls=(c,w,z=!1)=>{if(b(w),w?(a(c),z&&l("")):(l(c),z&&a("")),+c){const T=Ue();ve(T),Be(c,w,T)}else g(!1),m(void 0),c!=="0"?N():w?l(""):a("")},O=()=>{const c=se.current?Y.current:J.current;if(console.log("🚀 ~ file: useSwap.ts:273 ~ reCalculateRouteData ~ amount:",c,se.current,Y.current,J.current),+c){const w=Ue();ve(w),Be(c,se.current,w)}};x.useEffect(()=>{O()},[JSON.stringify(ye)]);const ps=(c,w=!0)=>{N(),i?w?(c&&(c==null?void 0:c.coin_type)===(r==null?void 0:r.coin_type)&&o(s),p(c)):(c&&(c==null?void 0:c.coin_type)===(s==null?void 0:s.coin_type)&&p(r),o(c)):w?c&&(c==null?void 0:c.coin_type)===(r==null?void 0:r.coin_type)?A(`/swap/${c==null?void 0:c.coin_type}/${s==null?void 0:s.coin_type}`):A(`/swap/${c==null?void 0:c.coin_type}/${r==null?void 0:r.coin_type}`):c&&(c==null?void 0:c.coin_type)===(s==null?void 0:s.coin_type)?A(`/swap/${r==null?void 0:r.coin_type}/${c==null?void 0:c.coin_type}`):A(`/swap/${s==null?void 0:s.coin_type}/${c==null?void 0:c.coin_type}`)},{amountLimit:as}=Ke(q,h),N=c=>{c===void 0?(a(""),l("")):c?a(""):l(""),g(!1),m(void 0)};x.useEffect(()=>{ze()},[s==null?void 0:s.coin_type,r==null?void 0:r.coin_type]);const ze=()=>{const c=[];s&&c.push(s.coin_type),r&&c.push(r.coin_type),c.length>0&&pe(c)},xs=()=>({...h}),ds=async c=>{var z,T;let w;try{const{routerData:_,byAmountIn:Ce,fromAmountUi:C,toAmountUi:W}=c,L=new Cs,U={routers:_,partner:dr,txb:L,slippage:Number(q),refreshAllCoins:!0};ee(!1),console.log("🚀 ~ file: useSwap.ts:261 ~ doSwapAction ~ params:",U),w={isSwapWidget:i,actionType:"swap",getShowInfo:(Me,de)=>{const ue=`Swapping ${M(C)} ${s==null?void 0:s.symbol} for ${M(W)} ${r==null?void 0:r.symbol}`,Z={modalDescriptionText:ue,toastTitleText:ue};if(Me==="success"){let He=C,Te=W;de&&(He=Oe(de,s)||C,Te=Oe(de,r)||W);const Ee=`Swapped ${M(He)} ${s==null?void 0:s.symbol} for ${M(Te)} ${r==null?void 0:r.symbol}`;Z.toastDescriptionContent=Ee,Z.modalDescriptionText=Ee,Z.toastTitleText="Swap Successful"}return Me==="rejected"&&(Z.toastTitleText=ue.replace("Swapping","Swap")),Z}},i||ss(w);const We=await es(async()=>(await G.fastRouterSwap(U),L),w,{useMev:H,useFastMode:k==="Fast Mode",maxCapForGas:E,customGasPrice:ae,msafeParams:{action:"AggregatorSwap",txbParams:{...U,routers:Ws(U==null?void 0:U.routers)}},otherParams:{routerData:t.routerData,providerKey:Ie.current,from:(z=D.current)==null?void 0:z.coin_type,to:(T=K.current)==null?void 0:T.coin_type}});return console.log("🚀 ~ file: useSwap.ts:272 ~ doSwapAction ~ res:",We),We?(N(),rs(),!0):(O(),!1)}catch(_){console.log("🚀 ~ doSwapAction ~ error text:",_)}},{isScamsCoin:re}=Je(s),{isScamsCoin:te}=Je(r),us=x.useMemo(()=>{if(!(!re&&!te)){if(re&&te&&(s!=null&&s.symbol)&&(r!=null&&r.symbol))return`${s==null?void 0:s.symbol} and ${r==null?void 0:r.symbol} are`;if(re&&(s!=null&&s.symbol))return`${s==null?void 0:s.symbol} token is `;if(te&&(r!=null&&r.symbol))return`${r==null?void 0:r.symbol} token is `}},[re,te,s==null?void 0:s.coin_type,r==null?void 0:r.coin_type]),fs=async c=>{c?(i?(p(r),o(s)):A(`/swap/${r==null?void 0:r.coin_type}/${s==null?void 0:s.coin_type}`),a(n),l(""),b(!0),await he(200),O()):R?(i?(p(r),o(s)):A(`/swap/${r==null?void 0:r.coin_type}/${s==null?void 0:s.coin_type}`),a(""),l(u),b(!1),await he(200),O()):(i?(p(r),o(s)):A(`/swap/${s==null?void 0:s.coin_type}/${r==null?void 0:r.coin_type}`),a(n),l(""),b(!0),await he(200),O())};return x.useEffect(()=>()=>{i||(p(void 0),o(void 0)),a(""),l("")},[]),{handleSelectToken:ps,handleAmountChange:ls,fromAmount:u,toAmount:n,fromAmountValue:is,toAmountValue:ns,amountLimit:as,getSwapSecondaryData:xs,reCalculateRouteData:O,fromBalanceInfo:ts,toBalanceInfo:os,doSwapAction:ds,scamsText:us,refreshMarketPrice:ze,isOpenConfirmModel:xe,setIsOpenConfirmModel:ee,resetInputAmount:N,onReverseClick:fs}}function _r(t,i,s,r,p,o){const{currentAccount:l}=Ms(),u=x.useMemo(()=>{const n={text:"Swap",disabled:!1};if(!(l!=null&&l.address))return n.text="Connect Wallet",n.disabled=!1,n;if(!r||!p)return n.text="Select a token",n.disabled=!0,n;if(!+t&&!+i)return n.text="Enter an amount",n.disabled=!0,n;if(o&&o.errorCode){if(o.errorCode===fe.InsufficientLiquidity)return n.text="Insufficient liquidity for this trade",n.disabled=!0,n;if(o.errorCode===fe.NoRouter||o.errorCode===fe.HoneyPot)return n.text="No Available Route",n.disabled=!0,n}return+t&&Ne(t).gt(s||0)?(n.disabled=!0,n.text=`Insufficient ${Ze(r==null?void 0:r.symbol,10)} Balance`,n):((!+t||!+i)&&(n.disabled=!0),n)},[l==null?void 0:l.address,t,i,s,o==null?void 0:o.errorCode,r,p]);return{btnText:u.text,btnDisabled:u.disabled}}function ke(t){const{fromToken:i,toToken:s,marketPrice:r,priceImpact:p,sources:o=[],isWidget:l=!1,isLoading:u}=t;return e.jsxs(d,{justify:"space-between",w:"100%",gap:"4px",flexWrap:"wrap",children:[e.jsxs(d,{w:"132px",alignItems:"end",gap:"4px",children:[e.jsx(f,{whiteSpace:"nowrap",fontSize:l?"12px":"14px",h:"20px",lineHeight:"20px",fontWeight:"500",children:"Price Difference"}),e.jsx(Hs,{tooltip:e.jsx(ur,{marketPrice:r,sources:o,fromToken:i,toToken:s}),children:e.jsx(V,{children:e.jsx(X,{xlinkHref:"#icon-icon_tips",svgW:"20px",svgH:"20px"})})})]}),e.jsx(y,{isLoaded:!u,h:"20px",children:e.jsxs(d,{justify:"flex-end",children:[e.jsx(f,{maxW:l?`calc(90vw - 56px - ${24*((o==null?void 0:o.length)||0)}px)`:"unset",flex:"1",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",color:p==null?void 0:p.textColor,fontWeight:"500",fontSize:l?"12px":"14px",children:p!=null&&p.priceImpactText?p==null?void 0:p.priceImpactText:"Incalculable"}),o==null?void 0:o.map(n=>e.jsx(sr,{market:n},n))]})})]})}function ur(t){const{marketPrice:i,sources:s,fromToken:r,toToken:p}=t;return e.jsxs(S,{className:"price-impactg-tips",w:"100%",align:"flex-start",gap:"12px",children:[e.jsx(f,{color:"content_text",fontSize:"12px",lineHeight:"20px",textAlign:"start",children:"The difference between the market price and estimated price due to trade size."}),e.jsxs(S,{w:"100%",align:"flex-start",children:[e.jsx(f,{fontSize:"12px",color:"text_caption",children:"Market price sources:"}),i?e.jsx(je,{fontSize:"12px",fromToken:r,toToken:p,fromValue:"1",toValue:i,color:"text_caption"}):e.jsx(f,{color:"primary_yellow",fontSize:"12px",children:"Price is unknown"})]}),i&&e.jsxs(d,{w:"100%",children:[e.jsx(f,{color:"content_text",fontSize:"12px",mt:"5px",whiteSpace:"pre",children:"Market price sources:"}),e.jsx(f,{color:"content_text",fontSize:"12px",mt:"5px",whiteSpace:"pre",children:s.map(o=>qe[o]+"  ")})]})]})}function Lr(t){const{fromCoin:i,toCoin:s,findRouterLoading:r,isWidget:p=!1,routerData:o,bg:l="primary_opacity.10"}=t,{marketPrice:u,priceImpact:n,sources:a,priceImpactTextInfo:h}=Qe(i,s,o==null?void 0:o.fromAmountUi,o==null?void 0:o.toAmountUi);return e.jsxs(S,{w:"100%",p:"8px",gap:"8px",bg:l,borderRadius:"12px",align:"flex-start",children:[e.jsx(je,{fromToken:i,toToken:s,fromValue:o==null?void 0:o.fromAmountUi,toValue:o==null?void 0:o.toAmountUi,isLoading:r,color:"text_caption",fontSize:p?"12px":"14px"}),Ts(n).lte(-30)&&e.jsxs(d,{w:"100%",justify:"flex-start",children:[e.jsx(X,{xlinkHref:"#icon-warning",svgFill:"primary_red",svgHover:"primary_red",fontSize:"16px"}),e.jsx(f,{color:"primary_red",fontSize:"12px",lineHeight:"20px",fontWeight:"500",children:"High price difference. Be cautious before submitting your order."})]}),e.jsx(ke,{fromToken:i,isWidget:p,toToken:s,marketPrice:u,priceImpact:h,isLoading:r,sources:a})]})}function Ur({scamsText:t}){return e.jsxs(S,{borderRadius:"8px",border:"1px solid",borderColor:"border",pt:"12px",maxW:"480px",children:[e.jsxs(d,{children:[e.jsx(X,{xlinkHref:"#icon-icon_priceupdated",svgFill:"primary_yellow",svgHover:"primary_yellow",svgW:"20px",svgH:"20px"}),e.jsx(f,{color:"primary_yellow",children:"Alert"})]}),e.jsx(j,{bg:"card_bg",borderRadius:"8px",p:"11px",children:e.jsx(Xs,{text:`${t}  detected to have Deny List feature. It's an optional feature on Sui designed for regulated coins (learn more). However, it could be misused by HoneyPot scams, which may restrict users from selling the tokens after buying. Please be cautious.`,keywords:["learn more"],onKeywordClick:()=>{window.open("https://docs.sui.io/guides/developer/coin/regulated","_blank")}})})]})}const Ge=({data:t,children:i,loading:s,isSwapWidget:r})=>{var l,u,n;const{getTokenInfo:p}=me(),{isApp:o}=ne();return(t==null?void 0:t.providers)&&e.jsx(y,{isLoaded:!s,minW:"128px",minH:"20px",lineHeight:"20px",children:e.jsxs(d,{w:"100%",gap:"4px",align:"center",justify:"flex-end",wrap:"wrap",children:[(t==null?void 0:t.router_summery)!=="1 Streams"?e.jsx(f,{color:"text_caption",fontSize:r?"12px":"14px",fontWeight:"500",overflowWrap:"break-word",children:t==null?void 0:t.router_summery}):e.jsx(e.Fragment,{children:e.jsx(f,{color:"text_caption",fontSize:r?"12px":"14px",fontWeight:"500",textAlign:"right",overflowWrap:"break-word",children:(u=(l=t==null?void 0:t.routers[0])==null?void 0:l.paths)==null?void 0:u.map((a,h)=>{var g,m,b;return h===0?`${(g=p(a==null?void 0:a.from_type))==null?void 0:g.symbol} > ${(m=p(a==null?void 0:a.to_type))==null?void 0:m.symbol}`:(b=p(a==null?void 0:a.to_type))==null?void 0:b.symbol}).join(" > ")})}),(n=t==null?void 0:t.providers)==null?void 0:n.map(a=>o&&i?e.jsx(B,{w:"16px",h:"16px",imageUrl:F[a].logo}):e.jsxs(ge,{isLazy:!0,trigger:o?"click":"hover",children:[e.jsx(be,{children:e.jsx(j,{children:e.jsx(B,{w:"16px",h:"16px",imageUrl:F[a].logo})})}),e.jsx(Ve,{children:e.jsx(Ae,{w:"unset",children:e.jsx(we,{fontSize:"12px",children:F[a].name})})})]},a)),i]})})};function $e({children:t,fromToken:i,toToken:s,poolAddress:r}){const{isApp:p}=ne(),{getExplorerUrl:o}=Es();return e.jsxs(ge,{isLazy:!0,trigger:p?"click":"hover",children:[e.jsx(be,{children:t}),e.jsx(Ve,{children:e.jsx(Ae,{w:"unset",minW:"unset",children:e.jsx(we,{p:"12px",children:e.jsxs(S,{w:"100%",gap:"12px",children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs(d,{w:"100%",justify:"space-between",h:"20px",p:"0",children:[e.jsx(d,{children:e.jsx(f,{fontSize:"12px",color:"text_caption",children:"Pool"})}),e.jsx(Fe,{address:r,color:"text_caption",showLink:!!p,onClickLink:()=>{window.open(o(r,"poolAddress"),"_blank")}})]}),e.jsx(Os,{orientation:"horizontal",borderColor:"border"})]}),[i,s].map(l=>e.jsxs(d,{w:"100%",justify:"space-between",gap:"12px",children:[e.jsxs(d,{children:[e.jsx(B,{imageUrl:l==null?void 0:l.logo_url,w:"24px",h:"24px",coinType:l?l==null?void 0:l.coin_type:"",showTagWidth:"10px",showTagHeight:"10px"}),e.jsx(S,{align:"flex-start",gap:"0px",children:e.jsx(f,{fontSize:"12px",color:"text_caption",fontWeight:"500",children:Ze((l==null?void 0:l.symbol)||"",10)})})]}),e.jsx(Fe,{color:"primary_gray",showLink:!!p,address:l==null?void 0:l.coin_type,onClickLink:()=>window.open(o(l==null?void 0:l.coin_type,"coin"))})]},l==null?void 0:l.coin_type))]})})})})]})}const fr=({fromToken:t,toToken:i,fromAmount:s,toAmount:r,routes:p,loading:o})=>e.jsxs(S,{w:"100%",align:"center",p:"20px 0 8px",children:[e.jsx(d,{children:o?e.jsxs(e.Fragment,{children:[e.jsx(P,{w:"28px",h:"28px"}),e.jsxs(j,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(y,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(y,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{imageUrl:t==null?void 0:t.logo_url,w:"28px",h:"28px",coinType:t==null?void 0:t.coin_type,showTagWidth:"12px",showTagHeight:"12px"}),e.jsx(f,{color:"text_caption",children:M(s||"0")}),e.jsx(f,{children:t==null?void 0:t.symbol})]})}),e.jsx(j,{w:"100%",bg:"bg_secondary",p:"20px 8px",borderRadius:"8px",sx:{position:"relative",_before:{content:'""',position:"absolute",top:"0",left:"50%",width:"0",height:"20px",borderLeft:"1px dashed",borderColor:"border"},_after:{content:'""',position:"absolute",bottom:"0",left:"50%",width:"0",height:"20px",borderLeft:"1px dashed",borderColor:"border"}},children:e.jsx(S,{gap:o?"56px":"16px",border:"1px dashed",borderColor:"border",borderRadius:"8px",p:o?"36px 0":"16px 0",children:p==null?void 0:p.map((l,u)=>e.jsxs(d,{w:"100%",gap:"0",justify:"space-between",sx:{position:"relative",_before:{content:'""',position:"absolute",top:"50%",left:"0",width:"100%",height:"1px",borderTop:"1px dashed",borderColor:"border",zIndex:1}},children:[!o&&e.jsx(V,{borderRadius:"12px",h:"24px",bg:"h5_router_percentage_bg",p:"6px 12px",ml:"20px",zIndex:2,children:e.jsx(f,{color:"primary",fontSize:"12px",lineHeight:"12px",fontWeight:"500",children:ie(l.percentage)})}),e.jsx(S,{w:"100%",align:"center",sx:l.paths.length>1&&!o?{position:"relative",_before:{content:'""',backgroundColor:"bg_secondary",position:"absolute",top:"20px",right:"16px",width:"calc(100% - 32px)",height:"calc(100% - 40px)",border:"1px dashed",borderColor:"border",borderRadius:"8px",zIndex:2}}:{},children:o?e.jsx(e.Fragment,{children:e.jsxs(d,{gap:"8px",position:"absolute",h:"40px",top:"-20px",borderRadius:"20px",p:"8px",bg:"card_bg",zIndex:2,children:[e.jsxs(d,{gap:"0",children:[e.jsx(P,{w:"24px",h:"24px"}),e.jsx(P,{w:"24px",h:"24px"})]}),e.jsxs(j,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(y,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(y,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]})}):l.paths.map(n=>{var a,h,g;return e.jsx($e,{fromToken:n==null?void 0:n.fromToken,toToken:n==null?void 0:n.toToken,poolAddress:n==null?void 0:n.pool_address,children:e.jsxs(d,{borderRadius:"20px",p:"8px",bg:"card_bg",zIndex:3,children:[e.jsx(Xe,{coinAIconUrl:(a=n.fromToken)==null?void 0:a.logo_url,coinBIconUrl:(h=n.toToken)==null?void 0:h.logo_url,w:"24px",h:"24px",imageStyle:{decoding:"async"}}),e.jsx(f,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:(g=F[n.provider])==null?void 0:g.name}),!!+n.fee_rate&&e.jsx(V,{p:"6px 8px",border:"1px solid",borderColor:"border",borderRadius:"12px",children:e.jsx(f,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:ie(n.fee_rate)})})]},n.to_type)},n.to_type)})})]},u))})}),e.jsx(d,{children:o?e.jsxs(e.Fragment,{children:[e.jsx(P,{w:"28px",h:"28px"}),e.jsxs(j,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(y,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(y,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{imageUrl:i==null?void 0:i.logo_url,w:"28px",h:"28px",coinType:i==null?void 0:i.coin_type,showTagWidth:"12px",showTagHeight:"12px"}),e.jsx(f,{color:"text_caption",children:M(r||"0")}),e.jsx(f,{children:i==null?void 0:i.symbol})]})})]}),hr=({fromToken:t,toToken:i,fromAmount:s,toAmount:r,routes:p,loading:o})=>{var l;return e.jsxs(S,{w:"100%",gap:"12px",children:[e.jsxs(d,{w:"100%",justify:"space-between",children:[e.jsx(d,{borderRadius:"14px",h:"28px",p:"0 12px 0 0 ",children:o?e.jsxs(e.Fragment,{children:[e.jsx(P,{w:"28px",h:"28px"}),e.jsxs(j,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(y,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(y,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{imageUrl:t==null?void 0:t.logo_url,w:"28px",h:"28px",coinType:t==null?void 0:t.coin_type,showTagWidth:"12px",showTagHeight:"12px"}),e.jsx(f,{color:"text_caption",children:M(s||"0")}),e.jsx(f,{children:t==null?void 0:t.symbol})]})}),e.jsx(d,{borderRadius:"14px",h:"28px",p:"0 0 0 12px",children:o?e.jsxs(e.Fragment,{children:[e.jsxs(j,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(y,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(y,{pos:"absolute",right:"0",w:"100%",h:"14px"})]}),e.jsx(P,{w:"28px",h:"28px"})]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{color:"text_caption",children:M(r||"0")}),e.jsx(f,{children:i==null?void 0:i.symbol}),e.jsx(B,{imageUrl:i==null?void 0:i.logo_url,w:"28px",h:"28px",coinType:i==null?void 0:i.coin_type,showTagWidth:"12px",showTagHeight:"12px"})]})})]}),e.jsxs(j,{w:"100%",bg:"bg_secondary",p:"32px 24px",borderRadius:"12px",position:"relative",children:[e.jsx(j,{position:"absolute",left:"0",p:"8px",top:"calc(50% - 20px)",bg:"background",borderRadius:"0px 100px 100px 0px",zIndex:2,children:o?e.jsx(P,{w:"24px",h:"24px"}):e.jsx(B,{imageUrl:t==null?void 0:t.logo_url,w:"24px",h:"24px",coinType:t==null?void 0:t.coin_type,showTagWidth:"10px",showTagHeight:"10px"})}),e.jsx(j,{position:"absolute",right:"0",p:"8px",top:"calc(50% - 20px)",bg:"background",borderRadius:"100px 0px 0px 100px",zIndex:2,children:o?e.jsx(P,{w:"24px",h:"24px"}):e.jsx(B,{imageUrl:i==null?void 0:i.logo_url,w:"24px",h:"24px",coinType:i==null?void 0:i.coin_type,showTagWidth:"10px",showTagHeight:"10px"})}),e.jsx(S,{gap:"32px",border:"1px dashed",borderBottom:((l=p||[])==null?void 0:l.length)>1?"1px dashed":"none",borderColor:"border",borderRadius:"8px",children:p==null?void 0:p.map((u,n)=>e.jsxs(d,{mt:n===0?"-20px":0,mb:n===p.length-1?"-20px":0,w:"100%",justify:"space-between",gap:"0",sx:n>0&&n<p.length-1?{position:"relative",_before:{content:'""',position:"absolute",top:"50%",left:"0",width:"100%",height:"1px",borderTop:"1px dashed",borderColor:"border",zIndex:1}}:{position:"relative"},children:[!o&&e.jsx(V,{borderRadius:"12px",h:"24px",bg:"card_bg",p:"8px 12px",ml:"40px",zIndex:2,position:"absolute",children:e.jsx(f,{color:"primary",fontSize:"12px",lineHeight:"12px",fontWeight:"500",children:ie(u.percentage)})}),e.jsx(d,{h:"40px",w:"100%",justify:"center",zIndex:2,children:o?e.jsx(e.Fragment,{children:e.jsxs(d,{gap:"8px",position:"absolute",h:"40px",borderRadius:"20px",p:"8px",bg:"card_bg",children:[e.jsxs(d,{gap:"0",children:[e.jsx(P,{w:"24px",h:"24px"}),e.jsx(P,{w:"24px",h:"24px"})]}),e.jsxs(j,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(y,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(y,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]})}):u.paths.map(a=>{var h,g,m;return e.jsx($e,{fromToken:a==null?void 0:a.fromToken,toToken:a==null?void 0:a.toToken,poolAddress:a==null?void 0:a.pool_address,children:e.jsxs(d,{borderRadius:"20px",p:"8px",bg:"card_bg",children:[e.jsx(Xe,{coinAIconUrl:(h=a.fromToken)==null?void 0:h.logo_url,coinBIconUrl:(g=a.toToken)==null?void 0:g.logo_url,variant:"",p:"0px",w:"24px",h:"24px",imageStyle:{decoding:"async"}}),e.jsx(f,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:(m=F[a.provider])==null?void 0:m.name}),!!+a.fee_rate&&e.jsx(V,{p:"6px 8px",border:"1px solid",borderColor:"border",borderRadius:"12px",children:e.jsx(f,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:ie(a.fee_rate)})})]})},a.to_type)})})]},n))})]})]})},gr=({isOpen:t,onClose:i,data:s,fromCoin:r,toCoin:p,fromAmount:o,toAmount:l})=>{var R;const{isApp:u}=ne(),{getTokenInfo:n}=me(),a=(R=s==null?void 0:s.routers)==null?void 0:R.map(I=>({...I,paths:I.paths.map(v=>({...v,fromToken:n(v.from_type),toToken:n(v.to_type)}))})),h={fromToken:r,toToken:p,fromAmount:o,toAmount:l,routes:a},[g,m]=x.useState(!0),b=x.useRef(null);return x.useEffect(()=>(b.current&&(clearTimeout(b.current),b.current=null),b.current=setTimeout(()=>{m(!1)},200),()=>{b.current&&(clearTimeout(b.current),b.current=null)}),[]),e.jsxs(_s,{autoFocus:!1,returnFocusOnClose:!1,isOpen:t,onClose:i,isCentered:!0,children:[e.jsx(Ls,{}),e.jsxs(Us,{maxW:"1200px",w:u?"calc(100vw - 32px)":"880px",children:[e.jsx(Fs,{mr:"-10px",children:e.jsxs(d,{w:"100%",gap:"24px",justify:"space-between",align:"center",children:[e.jsx(f,{fontSize:"16px",fontWeight:"500",color:"text_caption",children:"Route"}),e.jsxs(d,{gap:"0",align:"center",children:[e.jsx(Ge,{data:s}),e.jsx(Ys,{mt:"0",position:"static"})]})]})}),e.jsx(Js,{p:{base:"8px 16px",lg:"16px"},children:u?e.jsx(fr,{...h,loading:g}):e.jsx(hr,{...h,loading:g})})]})]})};function Fr(t){const{formatSwapRouter:i,findRouterLoading:s,fromAmount:r,toAmount:p,fromCoin:o,toCoin:l,isSwapWidget:u=!1,handleSwapWidgetRouterClick:n}=t,[a,h]=x.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(d,{w:"100%",justify:"space-between",p:"0 8px",children:[e.jsx(f,{fontSize:u?"12px":"14px",fontWeight:"500",whiteSpace:"nowrap",children:"Auto Router"}),e.jsx(j,{onClick:g=>{Ds(g),u?n&&n():h(!a)},cursor:"pointer",children:e.jsx(Ge,{data:i,loading:s,isSwapWidget:u,children:e.jsx(X,{xlinkHref:"#icon-icon_spread",fontSize:"16px"})})})]}),a&&!u&&e.jsx(gr,{isOpen:a,onClose:()=>h(!1),fromCoin:o,toCoin:l,data:i,fromAmount:r,toAmount:p})]})}function Yr(t){const{lastRouterData:i,fromCoin:s,toCoin:r,onClose:p,data:o,onSubmitClick:l,isWidget:u}=t,{slippage:n}=De(),a=x.useRef(!1),[h,g]=x.useState(o),{fromAmountUi:m,toAmountUi:b,byAmountIn:R}=h,{amountLimit:I}=Ke(n,h),[v,ce]=x.useState(!1),{priceImpactTextInfo:le,marketPrice:pe,sources:Q,showPriceImpactTips:q,showPriceImpactWarn:H}=Qe(s,r,m,b),{priceAcceptRouterData:E}=bs(h,i),[k,ae]=x.useState(!1),G=x.useMemo(()=>E!==void 0,[E]),A=x.useMemo(()=>R?r:s,[R]),$=()=>{if(E){if(a.current)return;a.current=!0;const ee=or(E);g(ee),setTimeout(()=>{a.current=!1},300)}},xe=x.useMemo(()=>v?!1:!!H,[v,H]);return e.jsxs(S,{textAlign:"center",p:"0px",w:"100%",children:[e.jsxs(S,{w:"100%",gap:"16px",pl:"16px",pr:"16px",pb:"16px",children:[e.jsx(Qs,{bg:u?"swap_bg_primary":"bg_primary",coinA:{amount:m||"0",...s},iconParams:{xlinkHref:"#icon-a-icon_trade",svgFill:"text_caption",fontSize:"12px"},coinB:{amount:b||"0",...r}}),e.jsx(d,{w:"100%",minH:"48px",bg:u?"swap_bg_primary":"bg_primary",borderRadius:"8px",border:"1px solid",borderColor:"border",justifyContent:"center",zIndex:"100",children:e.jsx(je,{fromToken:s,toToken:r,fromValue:m,toValue:b,color:"text_caption"})}),q&&e.jsx(d,{zIndex:"99",w:"100%",mt:"-26px",bg:H?"primary_red_opacity.10":"primary_yellow_opacity.10",borderRadius:"12px",border:"1px solid",borderColor:"border",justifyContent:"center",p:"18px 16px 10px",children:e.jsx(f,{color:H?"primary_red":"primary_yellow",fontSize:"12px",lineHeight:"20px",textAlign:"start",fontWeight:"500",children:"High price difference. Be cautious before submitting your order."})}),e.jsx(Ye,{wrapStyle:{h:"20px",lineHeight:"20px"},label:"Slippage Tolerance",labelStyle:{fontSize:"14px"},value:`${Ne(n).mul(100)}%`,valueStyle:{fontSize:"14px"}}),e.jsx(Ye,{wrapStyle:{h:"20px",lineHeight:"20px"},label:R?"Minimum Received":"Maximum Input",labelStyle:{fontSize:"14px"},value:`${Ks(I||0,A==null?void 0:A.decimals,!1,Ns.ROUND_DOWN).toString()} ${A==null?void 0:A.symbol}`,valueStyle:{fontSize:"14px"}}),e.jsx(ke,{fromToken:s,toToken:r,sources:Q,marketPrice:pe,priceImpact:le}),H&&e.jsxs(S,{w:"100%",gap:"8px",children:[e.jsx(d,{w:"100%",bg:"primary_red_opacity.10",borderRadius:"12px",border:"1px solid",borderColor:"border",justifyContent:"start",p:"10px 16px",children:e.jsx(f,{color:"primary_red",fontSize:"12px",lineHeight:"20px",textAlign:"start",children:"The exchange rate of this order deviates from the market price by a large percentage. Are you sure you want to continue the swap?"})}),e.jsxs(d,{w:"100%",justifyContent:"space-between",gap:"16px",children:[e.jsx(oe,{variant:"outline",w:"100%",color:"text_highlight",fontSize:"14px",borderColor:v?"text_highlight":"button_outline_border",onClick:()=>{ce(!0)},children:"Yes, please continue."}),e.jsx(oe,{variant:"outline",w:"100%",color:"text_highlight",fontSize:"14px",borderColor:"button_outline_border",onClick:p,children:"No,cancel it."})]})]}),G&&e.jsxs(d,{w:"100%",justifyContent:"space-between",children:[e.jsxs(d,{children:[e.jsx(X,{xlinkHref:"#icon-icon_priceupdated1",svgW:"20px",svgH:"20px"}),e.jsx(f,{color:"text_caption",fontWeight:"500",fontSize:"14px",children:"Price updated"})]}),e.jsx(oe,{onClick:$,h:"40px",borderRadius:"12px",fontSize:"16px",fontWeight:"500",p:"0 42px",children:"Accept"})]})]}),!G&&e.jsx(oe,{disabled:xe,isLoading:k,mt:"4px",w:"100%",h:"52px",borderRadius:"12px",fontSize:"16px",fontWeight:"500",onClick:()=>{k||(ae(!0),l(h))},children:"Confirm Swap"})]})}export{fr as H,sr as M,Ge as O,Lr as P,Ur as S,_r as a,Fr as b,Yr as c,nr as d,Or as u};
