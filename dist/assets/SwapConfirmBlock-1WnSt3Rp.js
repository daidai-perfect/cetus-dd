import{A as J}from"./aggregator-lpMgbK98.js";import{u as Ze}from"./global-RxS6w5VQ.js";import{b as As,u as ws,c as Ve,A as Ae,d as ms,e as js}from"./useFindBestRouting-Dv7cTufu.js";import{b as pe,j as e,ap as me,aq as je,B as S,ao as ys,at as ye,au as Se,U as Ss,bK as vs,c6 as Rs,cR as Is,bn as Ps,r as x,bc as Cs,a5 as Xe,aI as Bs,a as Ws,aa as Fe,a8 as zs,a9 as Ms,bP as Hs,ad as H,aS as Te,cS as Es,cT as we,a1 as Us,aO as I,as as Qe,Y as q,a7 as k,H as u,T as f,C as G,I as $,S as v,V as R,d as Os,g as B,ay as qe,e as _s,aL as Ls,a3 as C,a0 as ke,ae as Fs,af as Ts,ag as Ys,ah as Ds,aj as Js,ak as Ns,c as Ks,$ as ce}from"./index-Bms7VPPn.js";import{u as Zs}from"./useAccountBalance-CMsAkds7.js";import{u as le}from"./useToken-CODAfOk_.js";import{u as Ye}from"./useTokenBalance-y_yplMah.js";import{u as Vs}from"./useTransaction-BzVDyxpV.js";import{v as De,g as ae}from"./index-BIQU3HsB.js";import{C as ve}from"./CurrentPrice-8Fy4I1Gi.js";import{H as Xs}from"./HighlightText-CbhIeYGU.js";import{A as Je}from"./AddressCopyLink-DU9GogFQ.js";import{H as Ne}from"./HTextLabelBox-B7D7NXZW.js";import{T as Qs}from"./TradeConfirmAmountInfo-CSgawnxX.js";import{b as qs}from"./TradeInputGroup-DMDzUA7E.js";import{C as ks}from"./CetusTooltip-BnVIYeKJ.js";const Gs="data:image/png;base64,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",$s="data:image/png;base64,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",er="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAk1BMVEUAAADn2v/m2//r2//v4//n2v/55P/n2v/o3P//+P/m2v/n2f/n2v/n2v/n2v/n2v/n2v/o2//p2//n3f/o3v/n2f/n2v/n2v/n2v/n2v/n2//o2v/q3f/r4f/u3f/n2v/o2v/n2//p3P/o3P/m2v/n2v/n2f/n2v/o2f/n2//r3f/t3P/n2v/m2v/o2v/r3v/m2f/tUDLHAAAAMHRSTlMAl5oyFNMJqSwFhvvr5d7Yr2FGNSD0zb2lkIltOhkOxoJoT0D48aJzWFYlHeB8Wief0nHAAAABSElEQVQ4y52Q53LCMBCEZWK5g0swBpveQknZ93+6rFxAHkSYyf6x9+67JqHLKxOZRzJJbWHStkCn0Fo8pG0XuvJv0dciBjVZb+dZeoxABb38MlbpXeucr5z2QwdUf8vX1h0ByLT9aAeCGlez4Ozw5zoE4nvFBJB0yymUhqp0B2DT5ec0O+YlWlUMJsCqAwJA8jNV1W4RAnuvqepeYwWsOR/AkfM9ji8YjYBTC3wCZyEq1jvKnoCQP8X90j0wF2IGuM2jArjUE8sWAPAmxACwavtDf623XJsBtoqa2zcm4MI8Ag7iNZkBeAcVc8cUOPhPgJjP4I/UzkYgKtWxpQqaAGfMvvUATIUBaOQHAEb2M2CZcj4OnrhJasDYXYVQ9Vpe2LJ/BeWyf4/oAXlC25e9uI0IqswRJulX/BOwXgG2JPCCIPA3sXmM/QK1PTc8LGCPoAAAAABJRU5ErkJggg==",Ge={pyth:"Pyth Network",coingecko:"CoinGecko",birdeye:"Birdeye",Cetus:"Cetus"},sr={pyth:er,coingecko:$s,birdeye:Gs,Cetus:"/images/img-logo@2x.png"};function rr({market:t,...l}){const{isApp:s}=pe();return e.jsxs(me,{isLazy:!0,trigger:s?"click":"hover",children:[e.jsx(je,{children:e.jsx(S,{flexShrink:0,children:e.jsx(ys,{w:"16px",h:"16px",src:sr[t],...l,flexShrink:0})})}),e.jsx(ye,{w:"unset",children:e.jsx(Se,{fontSize:"12px",children:Ge[t]})})]})}var tr=1,or=4;function ir(t){return qs(t,tr|or)}const nr=(t,l)=>({providersSwitchStates:{[As.CETUS]:!0},setProvidersSwitchStates:s=>{const r=l().providersSwitchStates;t(()=>({providersSwitchStates:{...r,...s}}))},supportOrderSplit:!0,setSupportOrderSplit:s=>{t(()=>({supportOrderSplit:s}))}}),cr=Ss(vs(nr,{name:"useSwapConfigStore"})),lr=new Rs({url:Is("mainnet")}),ar=["0xdba34672e30cb065b1f93e3ab55318768fd6fef66c15942c9f7cb846e2f900e7::usdc::USDC","0x2053d08c1e2bd02791056171aab0fd12bd7cd7efad2ab8f6b9c8902f14df2ff2::ausd::AUSD","0xf16e6b723f242ec745dfd7634ad072c42d5c1d9ac9d62a39c381303eaa57693a::fdusd::FDUSD","0x960b531667636f39e85867775f52f6b1f220a058c4de786905bdf761e06a56bb::usdy::USDY","0x294de7579d55c110a00a7c4946e09a1b5cbeca2592fbb83fd7bfacba3cfeaf0e::drf::DRF"],pr=["deny_list","DenyList","DenyCap","create_regulated_currency"],xr={showType:!0,showContent:!0,showOwner:!1,showPreviousTransaction:!1,showStorageRebate:!1,showDisplay:!1},dr=async t=>{let l=!1;if(ar.includes(t))return l;const s=t.split("::"),r=s[0]&&Ps(s[0]),a=s[1],o=await lr.getObject({id:r,options:xr}),i="disassembled"in o.data.content?o.data.content.disassembled[a]:null;return i&&typeof i=="string"&&new RegExp(pr.join("|"),"i").test(i)&&(l=!0),l};function Ke(t){const[l,s]=x.useState(),r=async a=>{if(a.is_trusted)return!1;try{const o=await dr(a.coin_type);return console.log("🚀 ~ file: useCheckTokenScamsAlert.ts:24 ~ checkIsScamsCoin ~ isScamsCoin:",o),o}catch(o){console.log("🚀 ~ file: useCheckTokenScamsAlert.ts:19 ~ checkTokenScams ~ error:",o)}return!1};return x.useEffect(()=>{s(void 0),t&&r(t).then(a=>{s(a)})},[t==null?void 0:t.coin_type]),{isScamsCoin:l}}const ur="0xeb863165a109f7791a3182be08aff1438ab2a429314fc135ae19d953afe1edd6";function Lr(t,l){const{fromCoin:s,toCoin:r,setFromCoin:a,setToCoin:o,setToAmount:i,fromAmount:d,toAmount:c,setFromAmount:n,routerData:h,setFindRouterLoading:b,setRouterData:m,setByAmountIn:A,byAmountIn:g}=t,{from:y,to:j}=Cs(),{findBestRouters:xe,checkProvidersKeys:de}=ws(),{fetchTokenPrices:ue,getTokenAmountValue:ee}=Xe(),{slippage:se,mevProtect:E,maxCapForGas:L,transactionMode:re,customGasPrice:fe}=Ze(),{aggregatorSDK:te}=Bs(),P=Ws(),{tokenInfo:U}=le(y),{tokenInfo:O}=le(j),[he,Re]=x.useState(!1),{signAndExecuteTransaction:ts,transactionConfirmation:os,handleError:Ar}=Vs(),{providersSwitchStates:Ie,supportOrderSplit:wr}=cr(),{fetchAccountBalance:is}=Zs(),{balanceInfo:ns}=Ye(s),{balanceInfo:cs}=Ye(r),ls=ee(s==null?void 0:s.coin_type,d),as=ee(r==null?void 0:r.coin_type,c),[Pe,Ce]=x.useState(""),Be=x.useRef(""),oe=x.useRef(!0),N=x.useRef(""),K=x.useRef(""),Z=x.useRef(),V=x.useRef(),We=x.useRef([]);x.useEffect(()=>{Z.current=s},[s]),x.useEffect(()=>{V.current=r},[r]),x.useEffect(()=>{Be.current=Pe},[Pe]),x.useEffect(()=>{oe.current=g},[g]),x.useEffect(()=>{N.current=d},[d]),x.useEffect(()=>{K.current=c},[c]),x.useEffect(()=>{l||ps()},[U,O]);const ps=async()=>{!y&&!j?(a(Fe.clmm_swap.from_coin),o(Fe.clmm_swap.to_coin)):((U==null?void 0:U.coin_type)!==(s==null?void 0:s.coin_type)&&a(U),(O==null?void 0:O.coin_type)!==(r==null?void 0:r.coin_type)&&o(O))},ze=zs(async(p,w,W)=>{if(Z.current&&V.current&&+p){const _=l?Object.entries(J).map(([M,Y])=>M):Object.entries(Ie).filter(([M,Y])=>Y===!0).map(([M,Y])=>M);(+N.current||+K.current)&&b(!0);const T=await de(_),He=Ms(p,w?Z.current.decimals:V.current.decimals),z=await xe({fromToken:Z.current,toToken:V.current,amount:He.toString(),providersKeys:T,by_amount_in:w,uuid:W});b(!1),Be.current===W&&(We.current=T,w?+N.current?(i(z.toAmountUi||""),m(z)):i(""):+K.current?(n(z.fromAmountUi||"ß"),m(z)):n(""))}else X(!w)},500),xs=(p,w,W=!1)=>{if(A(w),w?(n(p),W&&i("")):(i(p),W&&n("")),+p){const _=De();Ce(_),ze(p,w,_)}else b(!1),m(void 0),p!=="0"?X():w?i(""):n("")},F=()=>{const p=oe.current?N.current:K.current;if(console.log("🚀 ~ file: useSwap.ts:273 ~ reCalculateRouteData ~ amount:",p,oe.current,N.current,K.current),+p){const w=De();Ce(w),ze(p,oe.current,w)}};x.useEffect(()=>{F()},[JSON.stringify(Ie)]);const ds=(p,w=!0)=>{X(),l?w?(p&&(p==null?void 0:p.coin_type)===(r==null?void 0:r.coin_type)&&o(s),a(p)):(p&&(p==null?void 0:p.coin_type)===(s==null?void 0:s.coin_type)&&a(r),o(p)):w?(a(p),p&&(p==null?void 0:p.coin_type)===(r==null?void 0:r.coin_type)?P(`/swap/${p==null?void 0:p.coin_type}/${s==null?void 0:s.coin_type}`):P(`/swap/${p==null?void 0:p.coin_type}/${r==null?void 0:r.coin_type}`)):(o(p),p&&(p==null?void 0:p.coin_type)===(s==null?void 0:s.coin_type)?P(`/swap/${r==null?void 0:r.coin_type}/${p==null?void 0:p.coin_type}`):P(`/swap/${s==null?void 0:s.coin_type}/${p==null?void 0:p.coin_type}`))},{amountLimit:us}=Ve(se,h),X=p=>{p===void 0?(n(""),i("")):p?n(""):i(""),b(!1),m(void 0)};x.useEffect(()=>{Me()},[s==null?void 0:s.coin_type,r==null?void 0:r.coin_type]);const Me=()=>{const p=[];s&&p.push(s.coin_type),r&&p.push(r.coin_type),p.length>0&&ue(p)},fs=()=>({...h}),hs=async p=>{var W,_;let w;try{const{routerData:T,byAmountIn:He,fromAmountUi:z,toAmountUi:M}=p,Y=new Hs,D={routers:T,partner:ur,txb:Y,slippage:Number(se),refreshAllCoins:!0};Re(!1),console.log("🚀 ~ file: useSwap.ts:261 ~ doSwapAction ~ params:",D),w={isSwapWidget:l,actionType:"swap",getShowInfo:(Ue,ge)=>{const be=`Swapping ${H(z)} ${s==null?void 0:s.symbol} for ${H(M)} ${r==null?void 0:r.symbol}`,Q={modalDescriptionText:be,toastTitleText:be};if(Ue==="success"){let Oe=z,_e=M;ge&&(Oe=Te(ge,s)||z,_e=Te(ge,r)||M);const Le=`Swapped ${H(Oe)} ${s==null?void 0:s.symbol} for ${H(_e)} ${r==null?void 0:r.symbol}`;Q.toastDescriptionContent=Le,Q.modalDescriptionText=Le,Q.toastTitleText="Swap Successful"}return Ue==="rejected"&&(Q.toastTitleText=be.replace("Swapping","Swap")),Q}},l||os(w);const Ee=await ts(async()=>(await te.fastRouterSwap(D),Y),w,{useMev:E,useFastMode:re==="Fast Mode",maxCapForGas:L,customGasPrice:fe,msafeParams:{action:"AggregatorSwap",txbParams:{...D,routers:Es(D==null?void 0:D.routers)}},otherParams:{routerData:t.routerData,providerKey:We.current,from:(W=Z.current)==null?void 0:W.coin_type,to:(_=V.current)==null?void 0:_.coin_type}});return console.log("🚀 ~ file: useSwap.ts:272 ~ doSwapAction ~ res:",Ee),Ee?(X(),is(),!0):(F(),!1)}catch(T){console.log("🚀 ~ doSwapAction ~ error text:",T)}},{isScamsCoin:ie}=Ke(s),{isScamsCoin:ne}=Ke(r),gs=x.useMemo(()=>{if(!(!ie&&!ne)){if(ie&&ne&&(s!=null&&s.symbol)&&(r!=null&&r.symbol))return`${s==null?void 0:s.symbol} and ${r==null?void 0:r.symbol} are`;if(ie&&(s!=null&&s.symbol))return`${s==null?void 0:s.symbol} token is `;if(ne&&(r!=null&&r.symbol))return`${r==null?void 0:r.symbol} token is `}},[ie,ne]),bs=async p=>{p?(a(r),o(s),n(c),i(""),A(!0),await we(200),F()):g?(a(r),o(s),n(""),i(d),A(!1),await we(200),F()):(a(r),o(s),n(c),i(""),A(!0),await we(200),F())};return x.useEffect(()=>()=>{n(""),i("")},[]),{handleSelectToken:ds,handleAmountChange:xs,fromAmount:d,toAmount:c,fromAmountValue:ls,toAmountValue:as,amountLimit:us,getSwapSecondaryData:fs,reCalculateRouteData:F,fromBalanceInfo:ns,toBalanceInfo:cs,doSwapAction:hs,scamsText:gs,refreshMarketPrice:Me,isOpenConfirmModel:he,setIsOpenConfirmModel:Re,resetInputAmount:X,onReverseClick:bs}}function Fr(t,l,s,r,a,o){const{currentAccount:i}=Us(),d=x.useMemo(()=>{const c={text:"Swap",disabled:!1};if(!(i!=null&&i.address))return c.text="Connect Wallet",c.disabled=!1,c;if(!r||!a)return c.text="Select a token",c.disabled=!0,c;if(!+t&&!+l)return c.text="Enter an amount",c.disabled=!0,c;if(o&&o.errorCode){if(o.errorCode===Ae.InsufficientLiquidity)return c.text="Insufficient liquidity for this trade",c.disabled=!0,c;if(o.errorCode===Ae.NoRouter||o.errorCode===Ae.HoneyPot)return c.text="No Available Route",c.disabled=!0,c}return+t&&I(t).gt(s||0)?(c.disabled=!0,c.text=`Insufficient ${Qe(r==null?void 0:r.symbol,10)} Balance`,c):((!+t||!+l)&&(c.disabled=!0),c)},[i==null?void 0:i.address,t,l,s,o==null?void 0:o.errorCode,r,a]);return{btnText:d.text,btnDisabled:d.disabled}}function $e(t,l,s,r){const{getTokenPrice:a}=Xe(),o=a(t==null?void 0:t.coin_type),i=a(l==null?void 0:l.coin_type),d=ms(s,r),c=x.useMemo(()=>{if(i&&o)return I(o.price).div(i.price).toString()},[o==null?void 0:o.price,i==null?void 0:i.price]),n=x.useMemo(()=>{if(c&&+d)return I(d).sub(c).div(d).mul(100).toFixed(10)},[c,d]),h=x.useMemo(()=>{const g=[];return o&&g.push(o.market),i&&!g.includes(i.market)&&g.push(i.market),g},[o==null?void 0:o.market,i==null?void 0:i.market]),b=x.useMemo(()=>n&&I(n).lt(0)?I(n).abs().gt(5):!1,[n]),m=x.useMemo(()=>n&&I(n).lt(0)?I(n).abs().gt(10):!1,[n]),A=x.useMemo(()=>{let g,y="primary_yellow";if(n)if(I(n).gt(0))y="primary_green",I(n).lt(.1)?g="< 0.1% cheaper than":g=`${q(n,2,!0,k.ROUND_UP)}% cheaper than`;else if(I(n).eq(0))g="0%",y="primary_green";else{const j=I(n).abs();j.lte(5)?(y="primary_green",g=`Within ${q(j.toString(),2,!0,k.ROUND_UP)}%`):j.lte(10)?(y="primary_yellow",g=`${q(j.toString(),2,!0,k.ROUND_UP)}% more than`):j.lte(100)?(y="primary_red",g=`${q(j.toString(),2,!0,k.ROUND_UP)}% more than`):(y="primary_red",g="> 100% more than")}return{priceImpactText:g,textColor:y}},[n]);return{swapPrice:d,marketPrice:c,priceImpact:n,sources:h,showPriceImpactTips:b,showPriceImpactWarn:m,priceImpactTextInfo:A}}function es(t){const{fromToken:l,toToken:s,marketPrice:r,priceImpact:a,sources:o=[],isWidget:i=!1,isLoading:d}=t;return e.jsxs(u,{justify:"space-between",w:"100%",gap:"4px",flexWrap:"wrap",children:[e.jsxs(u,{w:"132px",alignItems:"end",gap:"4px",children:[e.jsx(f,{whiteSpace:"nowrap",fontSize:i?"12px":"14px",h:"20px",lineHeight:"20px",fontWeight:"500",children:"Price Difference"}),e.jsx(ks,{tooltip:e.jsx(fr,{marketPrice:r,sources:o,fromToken:l,toToken:s}),children:e.jsx(G,{children:e.jsx($,{xlinkHref:"#icon-icon_tips",svgW:"20px",svgH:"20px"})})})]}),e.jsx(v,{isLoaded:!d,h:"20px",children:e.jsxs(u,{justify:"flex-end",children:[e.jsx(f,{maxW:i?`calc(90vw - 56px - ${24*((o==null?void 0:o.length)||0)}px)`:"unset",flex:"1",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",color:a==null?void 0:a.textColor,fontWeight:"500",fontSize:i?"12px":"14px",children:a!=null&&a.priceImpactText?a==null?void 0:a.priceImpactText:"Incalculable"}),o==null?void 0:o.map(c=>e.jsx(rr,{market:c},c))]})})]})}function fr(t){const{marketPrice:l,sources:s,fromToken:r,toToken:a}=t;return e.jsxs(R,{className:"price-impactg-tips",w:"100%",align:"flex-start",gap:"12px",children:[e.jsx(f,{color:"content_text",fontSize:"12px",lineHeight:"20px",textAlign:"start",children:"The difference between the market price and estimated price due to trade size."}),e.jsxs(R,{w:"100%",align:"flex-start",children:[e.jsx(f,{fontSize:"12px",color:"text_caption",children:"Market price sources:"}),l?e.jsx(ve,{fontSize:"12px",fromToken:r,toToken:a,fromValue:"1",toValue:l,color:"text_caption"}):e.jsx(f,{color:"primary_yellow",fontSize:"12px",children:"Price is unknown"})]}),l&&e.jsxs(u,{w:"100%",children:[e.jsx(f,{color:"content_text",fontSize:"12px",mt:"5px",whiteSpace:"pre",children:"Market price sources:"}),e.jsx(f,{color:"content_text",fontSize:"12px",mt:"5px",whiteSpace:"pre",children:s.map(o=>Ge[o]+"  ")})]})]})}function Tr(t){const{fromCoin:l,toCoin:s,findRouterLoading:r,isWidget:a=!1,routerData:o,bg:i="primary_opacity.10"}=t,{marketPrice:d,priceImpact:c,sources:n,priceImpactTextInfo:h}=$e(l,s,o==null?void 0:o.fromAmountUi,o==null?void 0:o.toAmountUi);return e.jsxs(R,{w:"100%",p:"8px",gap:"8px",bg:i,borderRadius:"12px",align:"flex-start",children:[e.jsx(ve,{fromToken:l,toToken:s,fromValue:o==null?void 0:o.fromAmountUi,toValue:o==null?void 0:o.toAmountUi,isLoading:r,color:"text_caption",fontSize:a?"12px":"14px"}),Os(c).lte(-30)&&e.jsxs(u,{w:"100%",justify:"flex-start",children:[e.jsx($,{xlinkHref:"#icon-warning",svgFill:"primary_red",svgHover:"primary_red",fontSize:"16px"}),e.jsx(f,{color:"primary_red",fontSize:"12px",lineHeight:"20px",fontWeight:"500",children:"High price difference. Be cautious before submitting your order."})]}),e.jsx(es,{fromToken:l,isWidget:a,toToken:s,marketPrice:d,priceImpact:h,isLoading:r,sources:n})]})}function Yr({scamsText:t}){return e.jsxs(R,{borderRadius:"8px",border:"1px solid",borderColor:"border",pt:"12px",maxW:"480px",children:[e.jsxs(u,{children:[e.jsx($,{xlinkHref:"#icon-icon_priceupdated",svgFill:"primary_yellow",svgHover:"primary_yellow",svgW:"20px",svgH:"20px"}),e.jsx(f,{color:"primary_yellow",children:"Alert"})]}),e.jsx(S,{bg:"card_bg",borderRadius:"8px",p:"11px",children:e.jsx(Xs,{text:`${t}  detected to have Deny List feature. It's an optional feature on Sui designed for regulated coins (learn more). However, it could be misused by HoneyPot scams, which may restrict users from selling the tokens after buying. Please be cautious.`,keywords:["learn more"],onKeywordClick:()=>{window.open("https://docs.sui.io/guides/developer/coin/regulated","_blank")}})})]})}const ss=({data:t,children:l,loading:s,isSwapWidget:r})=>{var i,d,c;const{getTokenInfo:a}=le(),{isApp:o}=pe();return(t==null?void 0:t.providers)&&e.jsx(v,{isLoaded:!s,minW:"128px",minH:"20px",lineHeight:"20px",children:e.jsxs(u,{w:"100%",gap:"4px",align:"center",justify:"flex-end",wrap:"wrap",children:[(t==null?void 0:t.router_summery)!=="1 Streams"?e.jsx(f,{color:"text_caption",fontSize:r?"12px":"14px",fontWeight:"500",overflowWrap:"break-word",children:t==null?void 0:t.router_summery}):e.jsx(e.Fragment,{children:e.jsx(f,{color:"text_caption",fontSize:r?"12px":"14px",fontWeight:"500",textAlign:"right",overflowWrap:"break-word",children:(d=(i=t==null?void 0:t.routers[0])==null?void 0:i.paths)==null?void 0:d.map((n,h)=>{var b,m,A;return h===0?`${(b=a(n==null?void 0:n.from_type))==null?void 0:b.symbol} > ${(m=a(n==null?void 0:n.to_type))==null?void 0:m.symbol}`:(A=a(n==null?void 0:n.to_type))==null?void 0:A.symbol}).join(" > ")})}),(c=t==null?void 0:t.providers)==null?void 0:c.map(n=>o&&l?e.jsx(B,{w:"16px",h:"16px",imageUrl:J[n].logo}):e.jsxs(me,{isLazy:!0,trigger:o?"click":"hover",children:[e.jsx(je,{children:e.jsx(S,{children:e.jsx(B,{w:"16px",h:"16px",imageUrl:J[n].logo})})}),e.jsx(qe,{children:e.jsx(ye,{w:"unset",children:e.jsx(Se,{fontSize:"12px",children:J[n].name})})})]},n)),l]})})};function rs({children:t,fromToken:l,toToken:s,poolAddress:r}){const{isApp:a}=pe(),{getExplorerUrl:o}=_s();return e.jsxs(me,{isLazy:!0,trigger:a?"click":"hover",children:[e.jsx(je,{children:t}),e.jsx(qe,{children:e.jsx(ye,{w:"unset",minW:"unset",children:e.jsx(Se,{p:"12px",children:e.jsxs(R,{w:"100%",gap:"12px",children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs(u,{w:"100%",justify:"space-between",h:"20px",p:"0",children:[e.jsx(u,{children:e.jsx(f,{fontSize:"12px",color:"text_caption",children:"Pool"})}),e.jsx(Je,{address:r,color:"text_caption",showLink:!!a,onClickLink:()=>{window.open(o(r,"poolAddress"),"_blank")}})]}),e.jsx(Ls,{orientation:"horizontal",borderColor:"border"})]}),[l,s].map(i=>e.jsxs(u,{w:"100%",justify:"space-between",gap:"12px",children:[e.jsxs(u,{children:[e.jsx(B,{imageUrl:i==null?void 0:i.logo_url,w:"24px",h:"24px",coinType:i?i==null?void 0:i.coin_type:"",showTagWidth:"10px",showTagHeight:"10px"}),e.jsx(R,{align:"flex-start",gap:"0px",children:e.jsx(f,{fontSize:"12px",color:"text_caption",fontWeight:"500",children:Qe((i==null?void 0:i.symbol)||"",10)})})]}),e.jsx(Je,{color:"primary_gray",showLink:!!a,address:i==null?void 0:i.coin_type,onClickLink:()=>window.open(o(i==null?void 0:i.coin_type,"coin"))})]},i==null?void 0:i.coin_type))]})})})})]})}const hr=({fromToken:t,toToken:l,fromAmount:s,toAmount:r,routes:a,loading:o})=>e.jsxs(R,{w:"100%",align:"center",p:"20px 0 8px",children:[e.jsx(u,{children:o?e.jsxs(e.Fragment,{children:[e.jsx(C,{w:"28px",h:"28px"}),e.jsxs(S,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(v,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(v,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{imageUrl:t==null?void 0:t.logo_url,w:"28px",h:"28px",coinType:t==null?void 0:t.coin_type,showTagWidth:"12px",showTagHeight:"12px"}),e.jsx(f,{color:"text_caption",children:H(s||"0")}),e.jsx(f,{children:t==null?void 0:t.symbol})]})}),e.jsx(S,{w:"100%",bg:"bg_secondary",p:"20px 8px",borderRadius:"8px",sx:{position:"relative",_before:{content:'""',position:"absolute",top:"0",left:"50%",width:"0",height:"20px",borderLeft:"1px dashed",borderColor:"border"},_after:{content:'""',position:"absolute",bottom:"0",left:"50%",width:"0",height:"20px",borderLeft:"1px dashed",borderColor:"border"}},children:e.jsx(R,{gap:o?"56px":"16px",border:"1px dashed",borderColor:"border",borderRadius:"8px",p:o?"36px 0":"16px 0",children:a==null?void 0:a.map((i,d)=>e.jsxs(u,{w:"100%",gap:"0",justify:"space-between",sx:{position:"relative",_before:{content:'""',position:"absolute",top:"50%",left:"0",width:"100%",height:"1px",borderTop:"1px dashed",borderColor:"border",zIndex:1}},children:[!o&&e.jsx(G,{borderRadius:"12px",h:"24px",bg:"h5_router_percentage_bg",p:"6px 12px",ml:"20px",zIndex:2,children:e.jsx(f,{color:"primary",fontSize:"12px",lineHeight:"12px",fontWeight:"500",children:ae(i.percentage)})}),e.jsx(R,{w:"100%",align:"center",sx:i.paths.length>1&&!o?{position:"relative",_before:{content:'""',backgroundColor:"bg_secondary",position:"absolute",top:"20px",right:"16px",width:"calc(100% - 32px)",height:"calc(100% - 40px)",border:"1px dashed",borderColor:"border",borderRadius:"8px",zIndex:2}}:{},children:o?e.jsx(e.Fragment,{children:e.jsxs(u,{gap:"8px",position:"absolute",h:"40px",top:"-20px",borderRadius:"20px",p:"8px",bg:"card_bg",zIndex:2,children:[e.jsxs(u,{gap:"0",children:[e.jsx(C,{w:"24px",h:"24px"}),e.jsx(C,{w:"24px",h:"24px"})]}),e.jsxs(S,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(v,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(v,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]})}):i.paths.map(c=>{var n,h,b;return e.jsx(rs,{fromToken:c==null?void 0:c.fromToken,toToken:c==null?void 0:c.toToken,poolAddress:c==null?void 0:c.pool_address,children:e.jsxs(u,{borderRadius:"20px",p:"8px",bg:"card_bg",zIndex:3,children:[e.jsx(ke,{coinAIconUrl:(n=c.fromToken)==null?void 0:n.logo_url,coinBIconUrl:(h=c.toToken)==null?void 0:h.logo_url,w:"24px",h:"24px",imageStyle:{decoding:"async"}}),e.jsx(f,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:(b=J[c.provider])==null?void 0:b.name}),!!+c.fee_rate&&e.jsx(G,{p:"6px 8px",border:"1px solid",borderColor:"border",borderRadius:"12px",children:e.jsx(f,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:ae(c.fee_rate)})})]},c.to_type)},c.to_type)})})]},d))})}),e.jsx(u,{children:o?e.jsxs(e.Fragment,{children:[e.jsx(C,{w:"28px",h:"28px"}),e.jsxs(S,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(v,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(v,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{imageUrl:l==null?void 0:l.logo_url,w:"28px",h:"28px",coinType:l==null?void 0:l.coin_type,showTagWidth:"12px",showTagHeight:"12px"}),e.jsx(f,{color:"text_caption",children:H(r||"0")}),e.jsx(f,{children:l==null?void 0:l.symbol})]})})]}),gr=({fromToken:t,toToken:l,fromAmount:s,toAmount:r,routes:a,loading:o})=>{var i;return e.jsxs(R,{w:"100%",gap:"12px",children:[e.jsxs(u,{w:"100%",justify:"space-between",children:[e.jsx(u,{borderRadius:"14px",h:"28px",p:"0 12px 0 0 ",children:o?e.jsxs(e.Fragment,{children:[e.jsx(C,{w:"28px",h:"28px"}),e.jsxs(S,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(v,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(v,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{imageUrl:t==null?void 0:t.logo_url,w:"28px",h:"28px",coinType:t==null?void 0:t.coin_type,showTagWidth:"12px",showTagHeight:"12px"}),e.jsx(f,{color:"text_caption",children:H(s||"0")}),e.jsx(f,{children:t==null?void 0:t.symbol})]})}),e.jsx(u,{borderRadius:"14px",h:"28px",p:"0 0 0 12px",children:o?e.jsxs(e.Fragment,{children:[e.jsxs(S,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(v,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(v,{pos:"absolute",right:"0",w:"100%",h:"14px"})]}),e.jsx(C,{w:"28px",h:"28px"})]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{color:"text_caption",children:H(r||"0")}),e.jsx(f,{children:l==null?void 0:l.symbol}),e.jsx(B,{imageUrl:l==null?void 0:l.logo_url,w:"28px",h:"28px",coinType:l==null?void 0:l.coin_type,showTagWidth:"12px",showTagHeight:"12px"})]})})]}),e.jsxs(S,{w:"100%",bg:"bg_secondary",p:"32px 24px",borderRadius:"12px",position:"relative",children:[e.jsx(S,{position:"absolute",left:"0",p:"8px",top:"calc(50% - 20px)",bg:"background",borderRadius:"0px 100px 100px 0px",zIndex:2,children:o?e.jsx(C,{w:"24px",h:"24px"}):e.jsx(B,{imageUrl:t==null?void 0:t.logo_url,w:"24px",h:"24px",coinType:t==null?void 0:t.coin_type,showTagWidth:"10px",showTagHeight:"10px"})}),e.jsx(S,{position:"absolute",right:"0",p:"8px",top:"calc(50% - 20px)",bg:"background",borderRadius:"100px 0px 0px 100px",zIndex:2,children:o?e.jsx(C,{w:"24px",h:"24px"}):e.jsx(B,{imageUrl:l==null?void 0:l.logo_url,w:"24px",h:"24px",coinType:l==null?void 0:l.coin_type,showTagWidth:"10px",showTagHeight:"10px"})}),e.jsx(R,{gap:"32px",border:"1px dashed",borderBottom:((i=a||[])==null?void 0:i.length)>1?"1px dashed":"none",borderColor:"border",borderRadius:"8px",children:a==null?void 0:a.map((d,c)=>e.jsxs(u,{mt:c===0?"-20px":0,mb:c===a.length-1?"-20px":0,w:"100%",justify:"space-between",gap:"0",sx:c>0&&c<a.length-1?{position:"relative",_before:{content:'""',position:"absolute",top:"50%",left:"0",width:"100%",height:"1px",borderTop:"1px dashed",borderColor:"border",zIndex:1}}:{position:"relative"},children:[!o&&e.jsx(G,{borderRadius:"12px",h:"24px",bg:"card_bg",p:"8px 12px",ml:"40px",zIndex:2,position:"absolute",children:e.jsx(f,{color:"primary",fontSize:"12px",lineHeight:"12px",fontWeight:"500",children:ae(d.percentage)})}),e.jsx(u,{h:"40px",w:"100%",justify:"center",zIndex:2,children:o?e.jsx(e.Fragment,{children:e.jsxs(u,{gap:"8px",position:"absolute",h:"40px",borderRadius:"20px",p:"8px",bg:"card_bg",children:[e.jsxs(u,{gap:"0",children:[e.jsx(C,{w:"24px",h:"24px"}),e.jsx(C,{w:"24px",h:"24px"})]}),e.jsxs(S,{pos:"relative",w:"100px",h:"14px",children:[e.jsx(v,{pos:"absolute",left:"0",w:"50%",borderRadius:"4px",h:"14px",endColor:"skeleton_light"}),e.jsx(v,{pos:"absolute",right:"0",w:"100%",h:"14px"})]})]})}):d.paths.map(n=>{var h,b,m;return e.jsx(rs,{fromToken:n==null?void 0:n.fromToken,toToken:n==null?void 0:n.toToken,poolAddress:n==null?void 0:n.pool_address,children:e.jsxs(u,{borderRadius:"20px",p:"8px",bg:"card_bg",children:[e.jsx(ke,{coinAIconUrl:(h=n.fromToken)==null?void 0:h.logo_url,coinBIconUrl:(b=n.toToken)==null?void 0:b.logo_url,variant:"",p:"0px",w:"24px",h:"24px",imageStyle:{decoding:"async"}}),e.jsx(f,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:(m=J[n.provider])==null?void 0:m.name}),!!+n.fee_rate&&e.jsx(G,{p:"6px 8px",border:"1px solid",borderColor:"border",borderRadius:"12px",children:e.jsx(f,{fontSize:"12px",color:"text_caption",lineHeight:"12px",fontWeight:"500",children:ae(n.fee_rate)})})]})},n.to_type)})})]},c))})]})]})},br=({isOpen:t,onClose:l,data:s,fromCoin:r,toCoin:a,fromAmount:o,toAmount:i})=>{var g;const{isApp:d}=pe(),{getTokenInfo:c}=le(),n=(g=s==null?void 0:s.routers)==null?void 0:g.map(y=>({...y,paths:y.paths.map(j=>({...j,fromToken:c(j.from_type),toToken:c(j.to_type)}))})),h={fromToken:r,toToken:a,fromAmount:o,toAmount:i,routes:n},[b,m]=x.useState(!0),A=x.useRef(null);return x.useEffect(()=>(A.current&&(clearTimeout(A.current),A.current=null),A.current=setTimeout(()=>{m(!1)},200),()=>{A.current&&(clearTimeout(A.current),A.current=null)}),[]),e.jsxs(Fs,{autoFocus:!1,returnFocusOnClose:!1,isOpen:t,onClose:l,isCentered:!0,children:[e.jsx(Ts,{}),e.jsxs(Ys,{maxW:"1200px",w:d?"calc(100vw - 32px)":"880px",children:[e.jsx(Ds,{mr:"-10px",children:e.jsxs(u,{w:"100%",gap:"24px",justify:"space-between",align:"center",children:[e.jsx(f,{fontSize:"16px",fontWeight:"500",color:"text_caption",children:"Route"}),e.jsxs(u,{gap:"0",align:"center",children:[e.jsx(ss,{data:s}),e.jsx(Js,{mt:"0",position:"static"})]})]})}),e.jsx(Ns,{p:{base:"8px 16px",lg:"16px"},children:d?e.jsx(hr,{...h,loading:b}):e.jsx(gr,{...h,loading:b})})]})]})};function Dr(t){const{formatSwapRouter:l,findRouterLoading:s,fromAmount:r,toAmount:a,fromCoin:o,toCoin:i,isSwapWidget:d=!1,handleSwapWidgetRouterClick:c}=t,[n,h]=x.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(u,{w:"100%",justify:"space-between",p:"0 8px",children:[e.jsx(f,{fontSize:d?"12px":"14px",fontWeight:"500",whiteSpace:"nowrap",children:"Auto Router"}),e.jsx(S,{onClick:b=>{Ks(b),d?c&&c():h(!n)},cursor:"pointer",children:e.jsx(ss,{data:l,loading:s,isSwapWidget:d,children:e.jsx($,{xlinkHref:"#icon-icon_spread",fontSize:"16px"})})})]}),n&&!d&&e.jsx(br,{isOpen:n,onClose:()=>h(!1),fromCoin:o,toCoin:i,data:l,fromAmount:r,toAmount:a})]})}function Jr(t){const{lastRouterData:l,fromCoin:s,toCoin:r,onClose:a,data:o,onSubmitClick:i,isWidget:d}=t,{slippage:c}=Ze(),n=x.useRef(!1),[h,b]=x.useState(o),{fromAmountUi:m,toAmountUi:A,byAmountIn:g}=h,{amountLimit:y}=Ve(c,h),[j,xe]=x.useState(!1),{priceImpactTextInfo:de,marketPrice:ue,sources:ee,showPriceImpactTips:se,showPriceImpactWarn:E}=$e(s,r,m,A),{priceAcceptRouterData:L}=js(h,l),[re,fe]=x.useState(!1),te=x.useMemo(()=>L!==void 0,[L]),P=x.useMemo(()=>g?r:s,[g]),U=()=>{if(L){if(n.current)return;n.current=!0;const he=ir(L);b(he),setTimeout(()=>{n.current=!1},300)}},O=x.useMemo(()=>j?!1:!!E,[j,E]);return e.jsxs(R,{textAlign:"center",p:"0px",w:"100%",children:[e.jsxs(R,{w:"100%",gap:"16px",pl:"16px",pr:"16px",pb:"16px",children:[e.jsx(Qs,{bg:d?"swap_bg_primary":"bg_primary",coinA:{amount:m||"0",...s},iconParams:{xlinkHref:"#icon-a-icon_trade",svgFill:"text_caption",fontSize:"12px"},coinB:{amount:A||"0",...r}}),e.jsx(u,{w:"100%",minH:"48px",bg:d?"swap_bg_primary":"bg_primary",borderRadius:"8px",border:"1px solid",borderColor:"border",justifyContent:"center",zIndex:"100",children:e.jsx(ve,{fromToken:s,toToken:r,fromValue:m,toValue:A,color:"text_caption"})}),se&&e.jsx(u,{zIndex:"99",w:"100%",mt:"-26px",bg:E?"primary_red_opacity.10":"primary_yellow_opacity.10",borderRadius:"12px",border:"1px solid",borderColor:"border",justifyContent:"center",p:"18px 16px 10px",children:e.jsx(f,{color:E?"primary_red":"primary_yellow",fontSize:"12px",lineHeight:"20px",textAlign:"start",fontWeight:"500",children:"High price difference. Be cautious before submitting your order."})}),e.jsx(Ne,{wrapStyle:{h:"20px",lineHeight:"20px"},label:"Slippage Tolerance",labelStyle:{fontSize:"14px"},value:`${I(c).mul(100)}%`,valueStyle:{fontSize:"14px"}}),e.jsx(Ne,{wrapStyle:{h:"20px",lineHeight:"20px"},label:g?"Minimum Received":"Maximum Input",labelStyle:{fontSize:"14px"},value:`${q(y||0,P==null?void 0:P.decimals,!1,k.ROUND_DOWN).toString()} ${P==null?void 0:P.symbol}`,valueStyle:{fontSize:"14px"}}),e.jsx(es,{fromToken:s,toToken:r,sources:ee,marketPrice:ue,priceImpact:de}),E&&e.jsxs(R,{w:"100%",gap:"8px",children:[e.jsx(u,{w:"100%",bg:"primary_red_opacity.10",borderRadius:"12px",border:"1px solid",borderColor:"border",justifyContent:"start",p:"10px 16px",children:e.jsx(f,{color:"primary_red",fontSize:"12px",lineHeight:"20px",textAlign:"start",children:"The exchange rate of this order deviates from the market price by a large percentage. Are you sure you want to continue the swap?"})}),e.jsxs(u,{w:"100%",justifyContent:"space-between",gap:"16px",children:[e.jsx(ce,{variant:"outline",w:"100%",color:"text_highlight",fontSize:"14px",borderColor:j?"text_highlight":"button_outline_border",onClick:()=>{xe(!0)},children:"Yes, please continue."}),e.jsx(ce,{variant:"outline",w:"100%",color:"text_highlight",fontSize:"14px",borderColor:"button_outline_border",onClick:a,children:"No,cancel it."})]})]}),te&&e.jsxs(u,{w:"100%",justifyContent:"space-between",children:[e.jsxs(u,{children:[e.jsx($,{xlinkHref:"#icon-icon_priceupdated1",svgW:"20px",svgH:"20px"}),e.jsx(f,{color:"text_caption",fontWeight:"500",fontSize:"14px",children:"Price updated"})]}),e.jsx(ce,{onClick:U,h:"40px",borderRadius:"12px",fontSize:"16px",fontWeight:"500",p:"0 42px",children:"Accept"})]})]}),!te&&e.jsx(ce,{disabled:O,isLoading:re,mt:"4px",w:"100%",h:"52px",borderRadius:"12px",fontSize:"16px",fontWeight:"500",onClick:()=>{re||(fe(!0),i(h))},children:"Confirm Swap"})]})}export{hr as H,rr as M,ss as O,Tr as P,Yr as S,Fr as a,Dr as b,Jr as c,cr as d,Lr as u};
