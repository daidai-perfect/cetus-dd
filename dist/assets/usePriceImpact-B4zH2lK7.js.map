{"version":3,"file":"usePriceImpact-B4zH2lK7.js","sources":["../../../cetus-design/src/assets/images/birdeye-logo.png","../../../cetus-design/src/assets/images/logo_CoinGecko@2x.png","../../../cetus-design/src/assets/images/logo_pyth.png","../../../cetus-design/src/components/common/MarketSource.tsx","../../src/hooks/swap/usePriceImpact.ts"],"sourcesContent":["export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAk1BMVEUAAADn2v/m2//r2//v4//n2v/55P/n2v/o3P//+P/m2v/n2f/n2v/n2v/n2v/n2v/n2v/o2//p2//n3f/o3v/n2f/n2v/n2v/n2v/n2v/n2//o2v/q3f/r4f/u3f/n2v/o2v/n2//p3P/o3P/m2v/n2v/n2f/n2v/o2f/n2//r3f/t3P/n2v/m2v/o2v/r3v/m2f/tUDLHAAAAMHRSTlMAl5oyFNMJqSwFhvvr5d7Yr2FGNSD0zb2lkIltOhkOxoJoT0D48aJzWFYlHeB8Wief0nHAAAABSElEQVQ4y52Q53LCMBCEZWK5g0swBpveQknZ93+6rFxAHkSYyf6x9+67JqHLKxOZRzJJbWHStkCn0Fo8pG0XuvJv0dciBjVZb+dZeoxABb38MlbpXeucr5z2QwdUf8vX1h0ByLT9aAeCGlez4Ozw5zoE4nvFBJB0yymUhqp0B2DT5ec0O+YlWlUMJsCqAwJA8jNV1W4RAnuvqepeYwWsOR/AkfM9ji8YjYBTC3wCZyEq1jvKnoCQP8X90j0wF2IGuM2jArjUE8sWAPAmxACwavtDf623XJsBtoqa2zcm4MI8Ag7iNZkBeAcVc8cUOPhPgJjP4I/UzkYgKtWxpQqaAGfMvvUATIUBaOQHAEb2M2CZcj4OnrhJasDYXYVQ9Vpe2LJ/BeWyf4/oAXlC25e9uI0IqswRJulX/BOwXgG2JPCCIPA3sXmM/QK1PTc8LGCPoAAAAABJRU5ErkJggg==\"","import BirdeyeLogo from '@/assets/images/birdeye-logo.png'\nimport GeckoLogo from '@/assets/images/logo_CoinGecko@2x.png'\nimport PythLogo from '@/assets/images/logo_pyth.png'\nimport useWindowWidth from '@cetus/hooks/src/useWindowWidth'\nimport { Box, Image, ImageProps, Popover, PopoverBody, PopoverContent, PopoverTrigger } from '@chakra-ui/react'\n\nexport const MarketSourceMap: Record<string, string> = {\n  pyth: 'Pyth Network',\n  coingecko: 'CoinGecko',\n  birdeye: 'Birdeye',\n  Cetus: 'Cetus'\n}\n\nconst logoMap: Record<MarketType, string> = {\n  pyth: PythLogo,\n  coingecko: GeckoLogo,\n  birdeye: BirdeyeLogo,\n  Cetus: '/images/img-logo@2x.png'\n}\n\nexport type MarketType = 'pyth' | 'coingecko' | 'birdeye' | 'Cetus'\n\ninterface MarketSourceProps extends ImageProps {\n  market: MarketType\n}\n\nfunction MarketSource({ market, ...rest }: MarketSourceProps) {\n  const { isApp } = useWindowWidth()\n  return (\n    <Popover isLazy trigger={isApp ? 'click' : 'hover'}>\n      <PopoverTrigger>\n        <Box flexShrink={0}>\n          <Image w=\"16px\" h=\"16px\" src={logoMap[market]} {...rest} flexShrink={0} />\n        </Box>\n      </PopoverTrigger>\n      <PopoverContent w=\"unset\">\n        <PopoverBody fontSize=\"12px\">{MarketSourceMap[market]}</PopoverBody>\n      </PopoverContent>\n    </Popover>\n  )\n}\n\nexport default MarketSource\n","import useTokenPrice from '@cetus/hooks/src/useTokenPrice'\nimport { Token } from '@cetus/types'\nimport { Decimal, formatNumber } from '@cetus/utils'\nimport { d } from '@cetusprotocol/cetus-sui-clmm-sdk'\nimport { useMemo } from 'react'\nimport { useGetSwapPrice } from './useSwapHelper'\n\nexport function usePriceImpact(fromToken?: Token, toToken?: Token, fromValue?: string, toValue?: string, verifyPrice = false) {\n  const { getTokenPrice } = useTokenPrice()\n\n  const fromTokenPrice = getTokenPrice(fromToken?.coin_type, verifyPrice ? 10 * 1000 * 60 : undefined)\n  const toTokenPrice = getTokenPrice(toToken?.coin_type, verifyPrice ? 10 * 1000 * 60 : undefined)\n\n  /**\n   * 兑换价格\n   */\n  const swapPrice = useGetSwapPrice(fromValue, toValue)\n\n  /**\n   * 市场价格\n   */\n  const marketPrice = useMemo(() => {\n    if (toTokenPrice && fromTokenPrice) {\n      return d(fromTokenPrice.price).div(toTokenPrice.price).toString()\n    }\n    return undefined\n  }, [fromTokenPrice?.price, toTokenPrice?.price])\n\n  /**\n   * 价差\n   */\n  const priceImpact = useMemo(() => {\n    if (marketPrice && +swapPrice) {\n      return d(swapPrice).sub(marketPrice).div(marketPrice).mul(100).toFixed(10)\n    }\n\n    return undefined\n  }, [marketPrice, swapPrice])\n\n  const priceImpactBasedOnMarket = useMemo(() => {\n    if (marketPrice && +swapPrice) {\n      return d(swapPrice).sub(marketPrice).div(marketPrice).mul(100).toFixed(10)\n    }\n    return undefined\n  }, [marketPrice, swapPrice])\n\n  /**\n   * 价格提供源\n   */\n  const sources = useMemo(() => {\n    const list = []\n    if (fromTokenPrice) {\n      list.push(fromTokenPrice.market)\n    }\n\n    if (toTokenPrice && !list.includes(toTokenPrice.market)) {\n      list.push(toTokenPrice.market)\n    }\n\n    return list\n  }, [fromTokenPrice?.market, toTokenPrice?.market])\n\n  /**\n   * 是否展示提示\n   */\n  const showPriceImpactTips = useMemo(() => {\n    if (priceImpact && d(priceImpact).lt(0)) {\n      return d(priceImpact).abs().gt(5)\n    }\n    return false\n  }, [priceImpact])\n\n  /**\n   * 是否展示警告\n   */\n  const showPriceImpactWarn = useMemo(() => {\n    if (priceImpact && d(priceImpact).lt(0)) {\n      return d(priceImpact).abs().gt(10)\n    }\n    return false\n  }, [priceImpact])\n\n  const priceImpactTextInfo = useMemo(() => {\n    let priceImpactText = undefined\n    let textColor = 'primary_yellow'\n    if (priceImpact) {\n      // 大于0\n      if (d(priceImpact).gt(0)) {\n        textColor = 'primary_green'\n        // < 0.1%\n        if (d(priceImpact).lt(0.1)) {\n          priceImpactText = '< 0.1% cheaper than'\n        } else {\n          // > 0.1%\n          priceImpactText = `${formatNumber(priceImpact, 2, true, Decimal.ROUND_UP)}% cheaper than`\n        }\n      } else if (d(priceImpact).eq(0)) {\n        // 等于0\n        priceImpactText = '0%'\n        textColor = 'primary_green'\n      } else {\n        // 小于0\n        const priceImpactAbs = d(priceImpact).abs()\n        if (priceImpactAbs.lte(5)) {\n          // [-5%,0%)\n          textColor = 'primary_green'\n          priceImpactText = `Within ${formatNumber(priceImpactAbs.toString(), 2, true, Decimal.ROUND_UP)}%`\n        } else if (priceImpactAbs.lte(10)) {\n          // [-10%,-5%)\n          textColor = 'primary_yellow'\n          priceImpactText = `${formatNumber(priceImpactAbs.toString(), 2, true, Decimal.ROUND_UP)}% more than`\n        } else if (priceImpactAbs.lte(100)) {\n          // [-100%,-10%)\n          textColor = 'primary_red'\n          priceImpactText = `${formatNumber(priceImpactAbs.toString(), 2, true, Decimal.ROUND_UP)}% more than`\n        } else {\n          // < -100%\n          textColor = 'primary_red'\n          priceImpactText = `> 100% more than`\n        }\n      }\n    }\n    return {\n      priceImpactText,\n      textColor\n    }\n  }, [priceImpact])\n\n  const hideShowPriceImpact = useMemo(() => {\n    if (fromTokenPrice?.market === 'Cetus' || toTokenPrice?.market === 'Cetus') {\n      return true\n    }\n    return false\n  }, [fromTokenPrice, toTokenPrice])\n\n  return {\n    swapPrice,\n    marketPrice,\n    priceImpact,\n    sources,\n    showPriceImpactTips,\n    showPriceImpactWarn,\n    priceImpactTextInfo,\n    priceImpactBasedOnMarket,\n    hideShowPriceImpact\n  }\n}\n"],"names":["BirdeyeLogo","GeckoLogo","PythLogo","MarketSourceMap","logoMap","MarketSource","market","rest","isApp","useWindowWidth","Popover","jsx","PopoverTrigger","Box","Image","PopoverContent","PopoverBody","usePriceImpact","fromToken","toToken","fromValue","toValue","verifyPrice","getTokenPrice","useTokenPrice","fromTokenPrice","toTokenPrice","swapPrice","useGetSwapPrice","marketPrice","useMemo","d","priceImpact","priceImpactBasedOnMarket","sources","list","showPriceImpactTips","showPriceImpactWarn","priceImpactTextInfo","priceImpactText","textColor","formatNumber","Decimal","priceImpactAbs","hideShowPriceImpact"],"mappings":"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"}