import{R as h,a as X,j as d,V as ie,T as L,H as G}from"./vendor-BowHGuwE.js";import{aB as oe,f as se,aa as he,$ as U}from"./index-CHh_ib_A.js";import{C as me,d as ve,E as ye}from"./EmptyTooltip-CaUmgz0I.js";import{X as le,Y as ce,R as xe}from"./YAxis-CblcbUhG.js";import{b as N,L as F,q as $,r as B,C as K,A as be,i as R,l as Z,s as ge,d as ee,t as Ae,m as Pe,u as je,k as H,G as Oe,h as te,o as re,D as ke,g as Ee,f as _e,T as Se}from"./generateCategoricalChart-DZKG5zP-.js";var we=["layout","type","stroke","connectNulls","isRange","ref"],Le=["key"],ue;function z(t){"@babel/helpers - typeof";return z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(t)}function pe(t,e){if(t==null)return{};var n=Ce(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D(){return D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D.apply(this,arguments)}function ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ne(Object(n),!0).forEach(function(r){k(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,de(r.key),r)}}function De(t,e,n){return e&&ae(t.prototype,e),n&&ae(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Me(t,e,n){return e=Y(e),Ne(t,fe()?Reflect.construct(e,n||[],Y(t).constructor):e.apply(t,n))}function Ne(t,e){if(e&&(z(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Re(t)}function Re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fe=function(){return!!t})()}function Y(t){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y(t)}function Be(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},q(t,e)}function k(t,e,n){return e=de(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function de(t){var e=ze(t,"string");return z(e)=="symbol"?e:e+""}function ze(t,e){if(z(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(z(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var C=function(t){function e(){var n;Te(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=Me(this,e,[].concat(a)),k(n,"state",{isAnimationFinished:!0}),k(n,"id",je("recharts-area-")),k(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),H(s)&&s()}),k(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),H(s)&&s()}),n}return Be(e,t),De(e,[{key:"renderDots",value:function(r,a,o){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,i=c.dot,p=c.points,u=c.dataKey,f=N(this.props,!1),b=N(i,!0),g=p.map(function(y,j){var m=w(w(w({key:"dot-".concat(j),r:3},f),b),{},{index:j,cx:y.x,cy:y.y,dataKey:u,value:y.value,payload:y.payload,points:p});return e.renderDotItem(i,m)}),P={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return h.createElement(F,D({className:"recharts-area-dots"},P),g)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,o=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].x,i=s[s.length-1].x,p=r*Math.abs(c-i),u=$(s.map(function(f){return f.y||0}));return B(o)&&typeof o=="number"?u=Math.max(o,u):o&&Array.isArray(o)&&o.length&&(u=Math.max($(o.map(function(f){return f.y||0})),u)),B(u)?h.createElement("rect",{x:c<i?c:c-p,y:0,width:p,height:Math.floor(u+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,o=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].y,i=s[s.length-1].y,p=r*Math.abs(c-i),u=$(s.map(function(f){return f.x||0}));return B(o)&&typeof o=="number"?u=Math.max(o,u):o&&Array.isArray(o)&&o.length&&(u=Math.max($(o.map(function(f){return f.x||0})),u)),B(u)?h.createElement("rect",{x:0,y:c<i?c:c-p,width:u+(l?parseInt("".concat(l),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,o,s){var l=this.props,c=l.layout,i=l.type,p=l.stroke,u=l.connectNulls,f=l.isRange;l.ref;var b=pe(l,we);return h.createElement(F,{clipPath:o?"url(#clipPath-".concat(s,")"):null},h.createElement(K,D({},N(b,!0),{points:r,connectNulls:u,type:i,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),p!=="none"&&h.createElement(K,D({},N(this.props,!1),{className:"recharts-area-curve",layout:c,type:i,connectNulls:u,fill:"none",points:r})),p!=="none"&&f&&h.createElement(K,D({},N(this.props,!1),{className:"recharts-area-curve",layout:c,type:i,connectNulls:u,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var o=this,s=this.props,l=s.points,c=s.baseLine,i=s.isAnimationActive,p=s.animationBegin,u=s.animationDuration,f=s.animationEasing,b=s.animationId,g=this.state,P=g.prevPoints,y=g.prevBaseLine;return h.createElement(be,{begin:p,duration:u,isActive:i,easing:f,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var m=j.t;if(P){var _=P.length/l.length,v=l.map(function(O,M){var T=Math.floor(M*_);if(P[T]){var S=P[T],I=R(S.x,O.x),V=R(S.y,O.y);return w(w({},O),{},{x:I(m),y:V(m)})}return O}),x;if(B(c)&&typeof c=="number"){var A=R(y,c);x=A(m)}else if(Z(c)||ge(c)){var E=R(y,0);x=E(m)}else x=c.map(function(O,M){var T=Math.floor(M*_);if(y[T]){var S=y[T],I=R(S.x,O.x),V=R(S.y,O.y);return w(w({},O),{},{x:I(m),y:V(m)})}return O});return o.renderAreaStatically(v,x,r,a)}return h.createElement(F,null,h.createElement("defs",null,h.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(m))),h.createElement(F,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(l,c,r,a)))})}},{key:"renderArea",value:function(r,a){var o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,i=this.state,p=i.prevPoints,u=i.prevBaseLine,f=i.totalLength;return c&&s&&s.length&&(!p&&f>0||!ee(p,s)||!ee(u,l))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(s,l,r,a)}},{key:"render",value:function(){var r,a=this.props,o=a.hide,s=a.dot,l=a.points,c=a.className,i=a.top,p=a.left,u=a.xAxis,f=a.yAxis,b=a.width,g=a.height,P=a.isAnimationActive,y=a.id;if(o||!l||!l.length)return null;var j=this.state.isAnimationFinished,m=l.length===1,_=oe("recharts-area",c),v=u&&u.allowDataOverflow,x=f&&f.allowDataOverflow,A=v||x,E=Z(y)?this.id:y,O=(r=N(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},M=O.r,T=M===void 0?3:M,S=O.strokeWidth,I=S===void 0?2:S,V=Ae(s)?s:{},J=V.clipDot,Q=J===void 0?!0:J,W=T*2+I;return h.createElement(F,{className:_},v||x?h.createElement("defs",null,h.createElement("clipPath",{id:"clipPath-".concat(E)},h.createElement("rect",{x:v?p:p-b/2,y:x?i:i-g/2,width:v?b:b*2,height:x?g:g*2})),!Q&&h.createElement("clipPath",{id:"clipPath-dots-".concat(E)},h.createElement("rect",{x:p-W/2,y:i-W/2,width:b+W,height:g+W}))):null,m?null:this.renderArea(A,E),(s||m)&&this.renderDots(A,Q,E),(!P||j)&&Pe.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(X.PureComponent);ue=C;k(C,"displayName","Area");k(C,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Oe.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});k(C,"getBaseValue",function(t,e,n,r){var a=t.layout,o=t.baseValue,s=e.props.baseValue,l=s??o;if(B(l)&&typeof l=="number")return l;var c=a==="horizontal"?r:n,i=c.scale.domain();if(c.type==="number"){var p=Math.max(i[0],i[1]),u=Math.min(i[0],i[1]);return l==="dataMin"?u:l==="dataMax"||p<0?p:Math.max(Math.min(i[0],i[1]),0)}return l==="dataMin"?i[0]:l==="dataMax"?i[1]:i[0]});k(C,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,a=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,i=t.stackedData,p=t.dataStartIndex,u=t.displayedData,f=t.offset,b=e.layout,g=i&&i.length,P=ue.getBaseValue(e,n,r,a),y=b==="horizontal",j=!1,m=u.map(function(v,x){var A;g?A=i[p+x]:(A=te(v,c),Array.isArray(A)?j=!0:A=[P,A]);var E=A[1]==null||g&&te(v,c)==null;return y?{x:re({axis:r,ticks:o,bandSize:l,entry:v,index:x}),y:E?null:a.scale(A[1]),value:A,payload:v}:{x:E?null:r.scale(A[1]),y:re({axis:a,ticks:s,bandSize:l,entry:v,index:x}),value:A,payload:v}}),_;return g||j?_=m.map(function(v){var x=Array.isArray(v.value)?v.value[0]:null;return y?{x:v.x,y:x!=null&&v.y!=null?a.scale(x):null}:{x:x!=null?r.scale(x):null,y:v.y}}):_=y?a.scale(P):r.scale(P),w({points:m,baseLine:_,layout:b,isRange:j},f)});k(C,"renderDotItem",function(t,e){var n;if(h.isValidElement(t))n=h.cloneElement(t,e);else if(H(t))n=t(e);else{var r=oe("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,o=pe(e,Le);n=h.createElement(ke,D({},o,{key:a,className:r}))}return n});var Ie=Ee({chartName:"AreaChart",GraphicalChild:C,axisComponents:[{axisType:"xAxis",AxisComp:le},{axisType:"yAxis",AxisComp:ce}],formatAxisMap:_e});function Ve({payload:t,label:e}){var n,r,a,o;return t&&t.length&&d.jsxs(ie,{padding:"16px",bg:"bg_secondary",borderRadius:"12px",border:"1px solid border_secondary",justifyContent:"flex-start",alignItems:"left",children:[d.jsx(L,{fontSize:"12px",color:"#8BABBE",children:(r=(n=t[0])==null?void 0:n.payload)==null?void 0:r.tooltipTime}),d.jsxs(G,{children:[d.jsx(L,{color:"text_caption",children:"TVL"}),d.jsxs(L,{color:"text_caption",children:["$",se((o=(a=t[0])==null?void 0:a.payload)==null?void 0:o.num,2)]})]})]})}function Xe({payload:t,symbol:e}){return t&&t.length&&d.jsxs(ie,{padding:"16px",bg:"bg_secondary",borderRadius:"12px",border:"1px solid border_secondary",justifyContent:"flex-start",alignItems:"left",children:[d.jsx(L,{fontSize:"12px",children:t[0].payload.tooltipTime}),d.jsxs(G,{children:[d.jsx(L,{color:"primary_green",fontSize:"12px",children:"Cumulative Yields"}),d.jsxs(L,{color:"primary_green",fontSize:"12px",children:[se(t[0].payload.lp_fee,2)," ",e]})]}),d.jsxs(G,{textAlign:"left",children:[d.jsx(L,{color:"primary",fontSize:"12px",children:"APY"}),d.jsx(L,{color:"primary",fontSize:"12px",children:he(t[0].payload.apy,2)})]})]})}const Ge=t=>{const{data:e,onChangeValue:n,isShowYAxis:r,toolTipsType:a}=t;console.log("🚀🚀🚀 ~ TvlChart.tsx:15 ~ TvlChart ~ data:",e);const o=i=>{i&&i.activePayload&&i.activePayload.length&&(console.log("🚀 ~ handleMouseMove ~ e.activePayload[0]:",i.activePayload[0]),n(i.activePayload[0].payload))},s=()=>{n(null)},l=X.useMemo(()=>{if(e&&(e!=null&&e.length)){const i=Math.min(...e==null?void 0:e.map(m=>m.num)),p=Math.max(...e==null?void 0:e.map(m=>m.num)),u=U(p).mul(1.01),f=U(i),b=u.sub(f).div(4),g=f.add(b.mul(1)),P=f.add(b.mul(2)),y=f.add(b.mul(3)),j=[f.toNumber(),g.toNumber(),P.toNumber(),y.toNumber(),u.toNumber()];return console.log("🚀🚀🚀 ~ PriceRangeChart.tsx:57 ~ ticks ~ tickList:",j),j}return[]},[e]),c=X.useMemo(()=>{if((e==null?void 0:e.length)>0){const i=e.filter(p=>p.xAxis!=="");return console.log("🚀 ~ xData ~ res:",e==null?void 0:e.length,i),i}return[]},[e]);return d.jsx(xe,{width:"100%",height:"100%",children:d.jsxs(Ie,{data:e,onMouseMove:o,onMouseLeave:s,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorTvlArea",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"0%",stopColor:"#0080FF",stopOpacity:.2}),d.jsx("stop",{offset:"100%",stopColor:"#17181D",stopOpacity:.2})]})}),d.jsx(le,{type:"category",dataKey:"xAxis",minTickGap:(c==null?void 0:c.length)>8?36:void 0,interval:(c==null?void 0:c.length)<=8?0:void 0,tickLine:!1,axisLine:!1,tick:({x:i,y:p,payload:u,index:f})=>d.jsx(me,{x:i,y:p,payload:u,index:f,total:e.length,isShowYAxis:r})}),r&&d.jsx(ce,{type:"number",domain:[l,l[l.length-1]],axisLine:!1,tickLine:!1,ticks:l,tick:d.jsx(ve,{})}),(e==null?void 0:e.length)>0&&d.jsx(Se,{content:a?d.jsx(Ve,{}):d.jsx(ye,{}),cursor:{stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:1,strokeDasharray:"3 3"}}),d.jsx(C,{type:"monotone",dataKey:"num",stroke:"#76C8FF",fill:"url(#colorTvlArea)",isAnimationActive:!1})]})})};export{C as A,Ge as T,Xe as a};
//# sourceMappingURL=TvlChart-nLgaDZuO.js.map
