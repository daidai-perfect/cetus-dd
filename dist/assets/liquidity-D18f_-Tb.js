import{d as o,aw as s,P as S}from"./index-e1XEidi2.js";import"./vendor-BowHGuwE.js";const v=e=>{if(e!=null&&e.length){const l=e==null?void 0:e.map(n=>{var r,g;return{feeDisplay:n==null?void 0:n.feeDisplay,feeRate:n==null?void 0:n.feeRate,poolAddress:n==null?void 0:n.poolAddress,tickSpacing:n.tickSpacing,fee:n.fee,tvl:(n==null?void 0:n.tvl)==="--"?"0":n==null?void 0:n.tvl,liquidity:((r=n==null?void 0:n.object)==null?void 0:r.liquidity)==="--"?"0":(g=n==null?void 0:n.object)==null?void 0:g.liquidity}}),u=l==null?void 0:l.reduce((n,r)=>o(n).plus(r.tvl),o(0)).toString();if(o(u).gt(0)){let n=[];return n=l==null?void 0:l.map(r=>o(r==null?void 0:r.tvl).div(u).mul(100).toString()),c(l,n)}if(l.length===1)return l==null?void 0:l.map((n,r)=>({...n,title:"100% select"}));const t=l==null?void 0:l.reduce((n,r)=>o(n).plus((r==null?void 0:r.liquidity)||"0"),o(0)).toString();let p=[];return o(t).gt(0)?(p=l==null?void 0:l.map(n=>o(n==null?void 0:n.liquidity).div(t).mul(100).toString()),c(l,p)):(p=l==null?void 0:l.map(n=>0),c(l,p))}else return[]},c=(e,l)=>{const u=l==null?void 0:l.some(n=>o(n).lt(.01)&&o(n).gt(0)),t=l==null?void 0:l.filter(n=>o(n).eq(0)).length;let p=t;return u?l=l.map(n=>o(n).gte(.01)?s(n,2):n):l=l.map(n=>S(n,2)),t>0&&(l=l.map(n=>o(n).gte(0)&&o(n).lt(.02)?n:p>0?(p--,o(n).sub("0.01").toString()):n)),e==null?void 0:e.map((n,r)=>{const g=l[r];console.log(g,"getRates");const f=o(g).gte(0)&&o(g).lt(.01)?"<0.01 % select":o(g).eq(0)?"0":g+"% select";return{...n,title:f}})},R=e=>{const l=o(e[1]).minus(e[0]).abs();let u=l;if(o(e[0]).lte("0"))return u.toString();for(;o(e[0]).minus(u).lt("0")&&(u=u.mul(.8),!u.lte(l.div(10))););return u.toString()};export{R as a,v as g};
//# sourceMappingURL=liquidity-D18f_-Tb.js.map
