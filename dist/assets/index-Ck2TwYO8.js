import{aw as R,b as N,j as e,V as S,C as G,T as _,H as V,av as O,r as i,ab as z,a7 as P,cG as H,dr as q,W as M,dW as T,k as Y,B as Z}from"./index-BK3qBWSh.js";import{L as $}from"./Loading-4muKhYOZ.js";import{S as A}from"./SingleTokenInfo-xY1nD1m1.js";import{T as J}from"./TooltipIcon-CdD8MgA7.js";function K({tokenList:l,onClickToken:f,onDeleteToken:x,selectTokenList:r,isLoading:s=!1,hideCheckbox:n=!1,currentTab:F=""}){const o=(r==null?void 0:r.length)>0?r[0]:null,c=(r==null?void 0:r.length)>1?r[1]:null,{getTokenSource:j}=R(),{windowWidth:y}=N();return e.jsx(S,{w:"100%",gap:"0px",h:"26vh",maxH:"350px",minH:"210px",overflow:"auto",p:"0",pb:"8px",pl:"4px",overflowY:"scroll",children:s?e.jsx(G,{w:"100%",h:"200px",position:"relative",sx:{">div":{bg:"none"}},children:e.jsx($,{positionStyle:"absolute"})}):(l==null?void 0:l.length)==0?e.jsxs(S,{w:"100%",h:"100%",alignItems:"center",justify:"center",gap:"4px",children:[e.jsx(_,{color:"text_caption",children:"No tokens found"}),e.jsxs(V,{gap:"0",children:[e.jsx(_,{fontSize:"12px",children:"Or you can enter Coin Type"}),e.jsx(J,{type:"uniqueIdOfCoin"})]})]}):l==null?void 0:l.map(a=>{var d,b;const t=a==null?void 0:a.coin_type,g=!o&&!c?!1:((d=o==null?void 0:o.coin_type)==null?void 0:d.toLocaleLowerCase())==(t==null?void 0:t.toLocaleLowerCase())||((b=c==null?void 0:c.coin_type)==null?void 0:b.toLocaleLowerCase())==(t==null?void 0:t.toLocaleLowerCase()),p=j([a]).length>0;return e.jsxs(V,{w:"100%",justify:"space-between",_hover:{bg:"primary_opacity.10",borderRadius:"8px"},cursor:"pointer",h:"46px",minH:"46px",p:"0 8px",onClick:n?()=>f(a):(r==null?void 0:r.length)>=2?()=>{}:g?()=>x==null?void 0:x(a):()=>f(a),children:[e.jsx(A,{token:a,imgBoxStyle:{w:"28px",h:"28px"},symbolFontSize:"14px",symbolEllipsesDecimals:20,nameEllipsesDecimals:n?25:y<=345?20:33,warningIcon:{isNeedShow:p}}),!n&&e.jsx(O,{checked:g,onClick:()=>{}})]},a==null?void 0:a.coin_type)})})}function k({onClickToken:l,onDeleteToken:f,selectTokenList:x,hideCheckbox:r,whiteTokenList:s}){const[n,F]=i.useState(""),{trustedTokenList:o}=z(),c=u=>{const C=u.replace(/[^[a-zA-Z0-9\s]+$/g,"");F(C),C&&(I(!0),j(C))},j=P(u=>{console.log("ðŸš€ðŸš€ðŸš€ ~ file: index.tsx:33 ~ debouncedFilter ~ value:",u),console.log("ðŸš€ðŸš€ðŸš€ ~ file: index.tsx:36 ~ debouncedFilter ~ whiteTokenList:",s),console.log("ðŸš€ðŸš€ðŸš€ ~ file: index.tsx:37 ~ debouncedFilter ~ trustedTokenList:",o),B(u,s||o,s?[]:m,!1,!s)},300),y=[{label:"Default",value:"Default"},{label:"Imported",value:"Imported"}],[a,t]=i.useState("Default"),{getDefaultTokenList:g}=H(),{tokenMap:p}=q(),[d,b]=i.useState(!1);i.useEffect(()=>{!d&&p&&p.size>0&&(console.log("ðŸš€ ~ useEffect ~ filterTokenList:",p),b(!0),g(),D())},[d,p]);const[W,w]=i.useState(),{sortWithTokenList:E,filterTokenListFun:B,getImportTokenList:D}=H(),{setFilterTokenLoading:I,importTokenList:m,filterTokenLoading:h,filterTokenList:v}=z();return i.useEffect(()=>{console.log("ðŸš€ ~ useEffect ~ filterTokenList:",h,v,o,m,s),h&&w([]),w(n?v:E(a==="Default"?s||o:m,"",!1))},[n,v,h,a,o,m,s]),e.jsxs(S,{w:"100%",gap:"0",children:[e.jsxs(S,{w:"100%",p:"8px",borderRadius:"12px",children:[e.jsx(M,{bg:"bg_primary",p:"0px",borderRadius:"8px",children:e.jsx(T,{inputValue:n,changeInputValue:u=>c(u),isFrom:"pools",inputFontSize:"12px"})}),!n&&(!s||s&&s.length==0)&&e.jsx(Y,{type:"borderTab",wrapStyle:{w:{base:"100%"},h:"34px",bg:"none",border:"none"},itemStyle:{marginRight:"20px",fontSize:"14px"},tabList:y,currentTab:a,handleChangeTab:u=>{t(u.value),I(!0),setTimeout(()=>{I(!1)},300)}})]}),e.jsx(Z,{w:"100%",overflow:"hidden",children:e.jsx(K,{isLoading:h,currentTab:a,tokenList:W,onClickToken:l,onDeleteToken:f,selectTokenList:x,hideCheckbox:r})})]})}export{k as P};
